<!DOCTYPE html>
<html lang="zh-CN">







<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<link rel="preconnect" href="//www.googletagmanager.com">
	<link rel="preconnect" href="//zz.bdstatic.com">
	<link rel="preconnect" href="//sp0.baidu.com">
	<link rel="preconnect" href="//www.google-analytics.com">
	<link rel="preconnect" href="//cdn1.lncld.net">
	<link rel="preconnect" href="//unpkg.com">
	<link rel="preconnect" href="//app-router.leancloud.cn">
	<link rel="preconnect" href="//9qpuwspm.api.lncld.net">
	<link rel="preconnect" href="//gravatar.loli.net">

	<title>电子版单向历使用 | 庄菲什</title>

	<meta name="HandheldFriendly" content="True" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
	<meta name="generator" content="hexo">
	<meta name="author" content="drunkfish">
	<meta name="description" content="">

	

	

	

	

	

	<meta property="og:site_name" content="庄菲什">
	<meta property="og:type" content="article">
	<meta property="og:title" content="电子版单向历使用 | 庄菲什">
	<meta property="og:description" content="">
	<meta property="og:url" content="http://yoursite.com/oneway/">

	
	<meta property="article:published_time" content="2020-12-20T00:12:00+08:00"/> 
	<meta property="article:author" content="drunkfish">
	<meta property="article:published_first" content="庄菲什, /oneway/" />
	

	
	
	
<link rel="stylesheet" href="/css/allinonecss.min.css">


	
	
	
<link rel="alternate" href="/atom.xml" title="庄菲什" type="application/atom+xml">
</head>
<body class="post-template">
	<div class="site-wrapper">
		




<header class="site-header post-site-header outer">
    <div class="inner">
        
<nav class="site-nav"> 
    <div class="site-nav-left">
        <ul class="nav">
            <li>
                
                <a href="/" title="Home">HOME</a>
                
            </li>
            
        </ul> 
    </div>
     
    <div class="site-nav-right">
         
        
<div class="social-links" >
    
    
    
    
    
    
    
</div>
    </div>
</nav>
    </div>
</header>


<div id="site-main" class="site-main outer" role="main">
    <div class="inner">
        <header class="post-full-header">
            <div class="post-full-meta">
                <time  class="post-full-meta-date" datetime="2020-12-20T00:00:00.000Z">
                    2020-12-20
                </time>
                
                <span class="date-divider">/</span>
                
                
            </div>
            <h1 class="post-full-title">电子版单向历使用</h1>
        </header>
        <div class="post-full no-image">
            
            <div class="post-full-content">
                <article id="photoswipe" class="markdown-body">
                    <p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_cover.png" alt="oneway_cover"></p>
<p>单向历是单向书店出的日历，开始是线上版，印成纸质版之后迅速流行，还带动了一波日历风潮。小弟觉得这个日历很酷，这个日历传递了小弟不具备但想拥有的品质：朴实、可爱、有趣、平和。上面的文字默默引导小弟以灵魂人的视角面对生活，醒目的日期提醒小弟生命有限，勇敢争取自己想要的。</p>
<p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_paper.jpeg" alt="oneway_pape"></p>
<p>有些人买纸质日历追求生活的「仪式感」，小弟是个内心脆弱、将就过日子的粗糙人，觉得「仪式感」可有可无，偏好电子版日历。下面是使用电子版单向历的几种方法：</p>
<h2 id="单向历-App"><a href="#单向历-App" class="headerlink" title="单向历 App"></a>单向历 App</h2><p>最简单的方法是安装「单向历」App，手机应用商店搜索下载即可。注意，App 中的文字内容和纸质版不一样。</p>
<h2 id="秒秒测日历"><a href="#秒秒测日历" class="headerlink" title="秒秒测日历"></a>秒秒测日历</h2><p>小米下的<a href="http://www.miaomiaoce.com/product.html" target="_blank" rel="noopener">秒秒测</a>公司有出一款 <a href="https://shop41517656.m.youzan.com/wscgoods/detail/1y6m3h8gmm8qo" target="_blank" rel="noopener">Eink 日历</a>，其中有包含单向历。售价约 ￥200（物料成本大约 ￥100），Eink 屏幕、乐鑫 ESP32 芯片、微信 airkiss 联网方案，拆机图片详见这个<a href="https://www.mydigit.cn/forum.php?mod=viewthread&tid=133256" target="_blank" rel="noopener">大大的帖子</a>。另外，这个日历的文字内容与纸质版一致。</p>
<p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_miaomiaoce.jpg" alt="oneway_miaomiaoce"></p>
<p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_miaomiaoce2.png" alt="oneway_miaomiaoce2"></p>
<h2 id="DIY"><a href="#DIY" class="headerlink" title="DIY"></a>DIY</h2><h3 id="获取单向历图片"><a href="#获取单向历图片" class="headerlink" title="获取单向历图片"></a>获取单向历图片</h3><p>首先手机安装好抓包工具 <a href="https://apps.apple.com/cn/app/id1210562295" target="_blank" rel="noopener">Thor</a> 和单向历 App，启动抓包，打开单向历 App，可以得到某一天如 2020 年 10 月 29 日的线上版单向历的图片地址是 <code>https://img.owspace.com/Public/uploads/Download/2020/1029.jpg</code> 。</p>
<p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_thor.png" alt="oneway_thor"></p>
<p>获取当天的线上版单向历图片，只要将相应的日期替换成当天之后下载即可。实现这个功能比较简单的办法是利用计划任务，以群晖为例：</p>
<h4 id="建立外链文件夹"><a href="#建立外链文件夹" class="headerlink" title="建立外链文件夹"></a>建立外链文件夹</h4><p>借助 <a href="https://github.com/helloxz/zdir" target="_blank" rel="noopener">Zdir</a> 这个小工具可以建立外链文件夹。首先新建一个文件夹用来存放日历图片文件，打开群晖 Docker，在「注册表」中搜索「zdir」，选择「baiyuetribe/zdir」并下载，</p>
<p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_docker1.png" alt="oneway_docker1"></p>
<p>待映像下载完成，映射路径到 <code>/var/www/html/var</code> ，</p>
<p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_docker2.png" alt="oneway_docker2"></p>
<p>映射 80 端口，</p>
<p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_docker3.png" alt="oneway_docker3"></p>
<p>之后在路由器中设置好端口映射。</p>
<h4 id="添加计划任务"><a href="#添加计划任务" class="headerlink" title="添加计划任务"></a>添加计划任务</h4><p>打开群晖「控制面板」中的「计划任务」，创建一条用户自定义脚本，</p>
<p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_task1.png" alt="oneway_task1"></p>
<p>在脚本中设置以下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">cd /volume1/8t/share/oneway # 完整路径</span><br><span class="line">a=$(date +"%Y/%m%d") </span><br><span class="line">curl -o calendar.jpg http://img.owspace.com/Public/uploads/Download/$a.jpg</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_task2.png" alt="oneway_task2"></p>
<p>之后运行一次测试是否正常，之后设置每天 0 点运行。到此可以得到一个图片的地址，类似 <code>http://&lt;群晖地址&gt;:&lt;端口号&gt;/var/oneway/calendar.jpg</code></p>
<h3 id="屏幕显示"><a href="#屏幕显示" class="headerlink" title="屏幕显示"></a>屏幕显示</h3><h4 id="通过-ESP8266-Eink-屏幕"><a href="#通过-ESP8266-Eink-屏幕" class="headerlink" title="通过 ESP8266 + Eink 屏幕"></a>通过 ESP8266 + Eink 屏幕</h4><p>ESP8266 作为控制，Eink 屏幕输出日历图片，可以实现秒秒测日历的近似效果。比较简单的搭建方法是利用 <a href="https://esphome.io" target="_blank" rel="noopener">ESPHome</a>，需要准备的材料：ESP8266 开发版、Eink 屏幕、Eink 屏幕确定版，参考 <a href="https://esphome.io/components/display/waveshare_epaper.html" target="_blank" rel="noopener">Eink 屏幕输出</a>连线、定义输出设备，参考 <a href="https://esphome.io/components/display/index.html" target="_blank" rel="noopener">ESPHome 显示</a>配置图片显示。</p>
<p>这种方法小弟没有具体尝试，使用时可能要挑选合适大小的屏幕（图片尺寸 691*1006 px）。这个方法比较酷的地方是显示什么完全自由，不仅可以显示图片，显示内容可以完全自定义。</p>
<h4 id="通过-Kindle（未越狱）"><a href="#通过-Kindle（未越狱）" class="headerlink" title="通过 Kindle（未越狱）"></a>通过 Kindle（未越狱）</h4><p>首先点击 Kindle 首页右上角的「搜索」图标，输入 <code>~ds</code>，按回车键，调用隐藏的 <code>Disable Screensaver</code> 命令。这样 Kindle 可以禁用休眠不锁屏。（注意重启 Kindle 失效）。</p>
<p>在浏览器输入图片地址 <code>http://&lt;群晖地址&gt;:&lt;端口号&gt;/var/oneway/calendar.jpg</code>，之后双击图片即可居中放大显示。注意，这个「日历」不会自动刷新，需要明天点击「刷新」按钮手动刷新（意外地拥有精致上流人士才有的「仪式感」）</p>
<p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/kindle_calendar.jpeg" alt="oneway_kindle"></p>
<h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><p>因为我们最终得到的是一个固定的链接，所以能用的地方很多，如用在 iOS 上的 Widget 上、Home Assistant 的图片组件等等。</p>

                </article>
                <ul class="tags-postTags">
                    
                </ul>
            </div>
        </div>
    </div>

    
    <nav id="gobottom" class="pagination">
        
        <a class="prev-post" title="免下载！在线媒体资源推荐" href="/media/">
            ← 免下载！在线媒体资源推荐
        </a>
        
        <span class="prev-next-post">·</span>
        
        <a class="next-post" title="使用 Bitwarden 搭建密码管理" href="/bitwarden/">
            使用 Bitwarden 搭建密码管理 →
        </a>
        
    </nav>

    
</div>






	</div>
	


	




<footer class="site-footer outer">
	<div class="site-footer-content inner">
		<div class="copyright">
			<a href="/" title="庄菲什">庄菲什 &copy; 2022</a>
			
				
    		
		</div>
		<nav class="site-footer-nav">
			
			<a href="https://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a>
			<a href="https://github.com/xzhih/hexo-theme-casper" title="Casper" target="_blank" rel="noopener">Casper</a>
		</nav>
	</div>
</footer>
	


<script>
    if(window.navigator && navigator.serviceWorker) {
        navigator.serviceWorker.getRegistrations().then(function(registrations) {
            for(let registration of registrations) {
                registration.unregister()
            }
        })
    }
</script>


<script id="scriptLoad" src="/js/allinone.min.js" async></script>


<script>
    document.getElementById('scriptLoad').addEventListener('load', function () {
        
        

        
        

        
        
    })
</script>










</body>
</html>
