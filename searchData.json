[{"title":"电子版单向历使用","url":"/oneway/","content":"\n![oneway_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_cover.png)\n\n单向历是单向书店出的日历，开始是线上版，印成纸质版之后迅速流行，还带动了一波日历风潮。小弟觉得这个日历很酷，这个日历传递了小弟不具备但想拥有的品质：朴实、可爱、有趣、平和。上面的文字默默引导小弟以灵魂人的视角面对生活，醒目的日期提醒小弟生命有限，勇敢争取自己想要的。\n\n![oneway_pape](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_paper.jpeg)\n\n有些人买纸质日历追求生活的「仪式感」，小弟是个内心脆弱、将就过日子的粗糙人，觉得「仪式感」可有可无，偏好电子版日历。下面是使用电子版单向历的几种方法：\n\n## 单向历 App\n\n最简单的方法是安装「单向历」App，手机应用商店搜索下载即可。注意，App 中的文字内容和纸质版不一样。\n\n## 秒秒测日历\n\n小米下的[秒秒测](http://www.miaomiaoce.com/product.html)公司有出一款 [Eink 日历](https://shop41517656.m.youzan.com/wscgoods/detail/1y6m3h8gmm8qo)，其中有包含单向历。售价约 ￥200（物料成本大约 ￥100），Eink 屏幕、乐鑫 ESP32 芯片、微信 airkiss 联网方案，拆机图片详见这个[大大的帖子](https://www.mydigit.cn/forum.php?mod=viewthread&tid=133256)。另外，这个日历的文字内容与纸质版一致。\n\n![oneway_miaomiaoce](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_miaomiaoce.jpg)\n\n![oneway_miaomiaoce2](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_miaomiaoce2.png)\n\n## DIY\n\n### 获取单向历图片\n\n首先手机安装好抓包工具 [Thor](https://apps.apple.com/cn/app/id1210562295) 和单向历 App，启动抓包，打开单向历 App，可以得到某一天如 2020 年 10 月 29 日的线上版单向历的图片地址是 `https://img.owspace.com/Public/uploads/Download/2020/1029.jpg` 。\n\n![oneway_thor](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_thor.png)\n\n获取当天的线上版单向历图片，只要将相应的日期替换成当天之后下载即可。实现这个功能比较简单的办法是利用计划任务，以群晖为例：\n\n#### 建立外链文件夹\n\n借助 [Zdir](https://github.com/helloxz/zdir) 这个小工具可以建立外链文件夹。首先新建一个文件夹用来存放日历图片文件，打开群晖 Docker，在「注册表」中搜索「zdir」，选择「baiyuetribe/zdir」并下载，\n\n![oneway_docker1](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_docker1.png)\n\n待映像下载完成，映射路径到 `/var/www/html/var` ，\n\n![oneway_docker1](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_docker1.png)\n\n映射 80 端口，\n\n![oneway_docker2](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_docker2.png)\n\n之后在路由器中设置好端口映射。\n\n#### 添加计划任务\n\n打开群晖「控制面板」中的「计划任务」，创建一条用户自定义脚本，\n\n![oneway_task1](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_task1.png)\n\n在脚本中设置以下：\n\n```shell\n#!/bin/bash\ncd /volume1/8t/share/oneway # 完整路径\na=$(date +\"%Y/%m%d\") \ncurl -o calendar.jpg http://img.owspace.com/Public/uploads/Download/$a.jpg\n```\n\n![oneway_task2](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/oneway_task2.png)\n\n之后运行一次测试是否正常，之后设置每天 0 点运行。到此可以得到一个图片的地址，类似 `http://<群晖地址>:<端口号>/var/oneway/calendar.jpg`\n\n### 屏幕显示\n\n#### 通过 ESP8266 + Eink 屏幕\n\nESP8266 作为控制，Eink 屏幕输出日历图片，可以实现秒秒测日历的近似效果。比较简单的搭建方法是利用 [ESPHome](https://esphome.io)，需要准备的材料：ESP8266 开发版、Eink 屏幕、Eink 屏幕确定版，参考 [Eink 屏幕输出](https://esphome.io/components/display/waveshare_epaper.html)连线、定义输出设备，参考 [ESPHome 显示](https://esphome.io/components/display/index.html)配置图片显示。\n\n这种方法小弟没有具体尝试，使用时可能要挑选合适大小的屏幕（图片尺寸 691*1006 px）。这个方法比较酷的地方是显示什么完全自由，不仅可以显示图片，显示内容可以完全自定义。\n\n#### 通过 Kindle（未越狱）\n\n首先点击 Kindle 首页右上角的「搜索」图标，输入 `~ds`，按回车键，调用隐藏的 `Disable Screensaver` 命令。这样 Kindle 可以禁用休眠不锁屏。（注意重启 Kindle 失效）。\n\n在浏览器输入图片地址 `http://<群晖地址>:<端口号>/var/oneway/calendar.jpg`，之后双击图片即可居中放大显示。注意，这个「日历」不会自动刷新，需要明天点击「刷新」按钮手动刷新（意外地拥有精致上流人士才有的「仪式感」）\n\n![oneway_kindle](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/kindle_calendar.jpeg)\n\n#### 其他\n\n因为我们最终得到的是一个固定的链接，所以能用的地方很多，如用在 iOS 上的 Widget 上、Home Assistant 的图片组件等等。\n\n"},{"title":"使用 Bitwarden 搭建密码管理","url":"/bitwarden/","content":"\n![bitwarden_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/bitwarden_cover.png)\n\n\n使用密码管理工具管理密码理由很多，最主要的是方便、安全。Bitwarden 是一个开源的密码管理服务，全平台支持，介面简洁，前后端均开源（Telegram 仅客户端开源）功能全面，支持两步验证（Lastpass 付费版都不支持的功能）、团队共享密码库，另外，支持将服务端部署在自己的服务器上。\n\n小弟尝试在群晖搭建 Bitwarden 服务端，期间踩了一些坑，主要参考了[这位大大的帖子](https://www.chiphell.com/thread-2006498-1-1.html)。\n\n## 准备工作\n\n首先需要配置好域名和 SSL 证书，最简单的是利用群晖自带功能申请一个二级域名，并为这个二级域名申请 SSL 证书。在群晖「控制面板」→「安全」中导出证书，导出得到一个压缩包备用，\n\n![bitwarden_export_ssl](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/bitwarden_export_ssl.png)\n\n新建一个文件夹存放密码数据库，一个文件夹存放 SSL 证书，并将导出的证书压缩包解压至这个文件夹。\n\n## Docker 安装\n\n打开群晖 Docker，在「注册表」 中搜索 `bitwardenr`，找到 `bitwardenrs/server` 并选择 latest 下载。\n\n![bitwarden_docker1](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/bitwarden_docker1.png)\n\n待镜像下载完成（有群晖系统通知），到「映像」中找到并双击打开下载好的镜像，点击「高级设置」，\n\n![bitwarden_docker2](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/bitwarden_docker2.png)\n\n在「卷」 中添加路径存放密码数据库的文件夹，装载路径为`/data`，添加存放 SSL 证书的文件夹，装载路径为 `/ssl`\n\n![bitwarden_docker3](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/bitwarden_docker3.png)\n\n\n在 「端口设置」中自定义容器端口 `80` 所对应的本地端口，删去自带的 `3021` 的容器端口，\n\n![bitwarden_docker4](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/bitwarden_docker4.png)\n\n在环境变量中添加 `ROCKET_TLS`，值为 `{certs=\"/ssl/cert.pem\",key=\"/ssl/privkey.pem\"}`（值里面的文件名改为自己的证书的文件名），点击应用保存。\n\n## 设置端口映射\n\n在路由器中设置好端口转发（确保有有公网 IP），OpenWrt 系统可以在「网络」→「防火墙」→「端口转发」中找到。\n\n![bitwarden_port](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt23_new.png)\n\n\n## 使用\n\n在浏览器中输入 `https:// <DDNS 域名>:<端口号>` 即可访问刚刚搭建的 Bitwarden 服务，\n\n![bitwarden_web](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/bitwarden_web.png)\n\n之后注册一个账号即可使用，注意千万牢记主密码。\n\n![bitwarden_web2](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/bitwarden_web2.png)\n\n各端客户端可以到官方下载专区 https://bitwarden.com/download/ 下载，使用方法大致相同，在设置中填写服务器地址即可。\n\n![bitwarden_url](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/bitwarden_url.png)\n\n## 维护\n\n如果用的是群晖申请的 Let's Encrypt 证书，3 个月证书会过期，过期之后重新导出证书文件覆盖即可。\n\n\n\n\n"},{"title":"租房小物推荐（二）","url":"/necessary2/","content":"\n![necessary2_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/necessary2_cover.png)\n\n新世纪的北半球，世界第一经济体、通过最先进的共产主义理论治国的天下头号大国的一些年轻人为房子苦恼。原因之一是处在权力中心的人成功将伟大真理输出给年轻一代：1、房子生存必须，租房是给别人打工，拥有自己的房子才能翻身做主人；2、拥有房子跻身上流社会通行证，有房子是成功标志；3、房子是结婚生子必需品，与没有房产的伴侣结婚终生受苦；4、房子是超好的投资产品，购置房产是资产保值增值的绝佳方式。\n\n事实证明，这些都是无比光荣正确的。有了买房的观念，年轻人更加努力，房地产也成为经济增长的强动力，人类的进步由买房者创造。社会上总是有害虫，一些不思进取的堕落人口总喜欢提出一些歪理邪说，不知羞耻地诉说买房的种种坏处，作为自己不努力的理由：1、买房升值与否是个极复杂问题，受环境和运气影响，有很大赌的成分，买房一般花费不菲，这么大一笔钱去赌可能不明智；2、俗话「买的没有卖的聪明」，上游开发商买给下游的房子都是没太多升值价值的房子（好的保留，坏的找下游的人接盘），开发商或中介的目的是卖出更多的房子，一些不好的信息并不会传递给买房者；3、有些买到房子看起来「升值」是因为物价同步上涨，从购买力计算可能是贬值；4、房子买到的只是使用权，从没有「拥有」这回事，某种程度是长租到死亡，一次性付巨额房租给一个固定的房子一点也不酷；5、即便天下第一富翁，睡觉也只占几平方米的空间；6、贷款买房可能会使年轻人背上负债，可能会使年轻人蹑手蹑脚，患得患失，失去年轻人应有的热血。\n\n买的到房子，可能买不到快乐，租的到房子，可能租不到幸福。幸福需要自己去争取，以下几件小物可能可以给生活增加一点方便：\n\n## 纳米胶带\n\n![necessary2_tape](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/necessary2_tape.png)\n\n这个胶带很黏，可以完成大部分粘合操作，另外一个比较酷的是，这个胶带不太容易留痕迹，奇妙地做到了粘的时候粘，分手的时候干净利索。\n\n## 魔术理线\n\n![necessary2_cable](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/necessary2_cable.png)\n\n这个胶带两面可以粘在一起，可以方便收纳一些线缆。\n\n## Post-it 便利贴\n\n![necessary2_postit](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/necessary2_postit.png)\n\n便利贴是背面带一段胶的正方形纸片，可以方便记事或当纸片使用，有 Post-it 应用可以方便将便利贴上的内容数字化。另外，荧光色的 Post-it 便利贴可以在 Evernote 中使用。\n\n## 一转多插座\n\n![necessary2_socket](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/necessary2_socket.png)\n\n插座有时候会不够用，一转多插座可以方便拓展插口。\n\n## 节水感应器\n\n![necessary2_faucet](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/necessary2_faucet.png)\n\n小米供应链出的节水感应器，可以直接替换原来水龙头的出水孔，实现感应出水。\n\n"},{"title":"通过 Calibre-Web 制作图书在线管理","url":"/calibre/","content":"\n![calibre_cover.png](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/calibre_cover.png)\n\n随着时间推移，小弟渐渐不再局限在一个平台买电子书，[Kobo](http://kobo.com/)、美亚、中亚上都买过电子书，时间一长，图书的管理成了一个问题。\n\n小弟开始是用 [Calibre](https://calibre-ebook.com) 这个应用管理电子书，这个应用可以很好地完成去电子书 DRM、转换格式等等，缺点也有：1、图书管理限于本地电脑，无法全平台、外网访问图书资源库，图书本身也占用很多本地存储资源；2、转换格式时若图书文件较大会花很长时间，还会占用很多 CPU 资源，转换图书期间本地电脑几乎不能做其他的事。\n\n[Calibre-Web](https://github.com/janeczku/calibre-web) 是一个很酷的在线图书管理服务，基于网页，介面简洁，使用 Calibre 的数据库，可以在线转换格式、浏览、下载图书，如果设置好端口映射，就可以在外网全平台访问图书资源库了。下面是步骤：\n\n## 准备工作\n\nCalibre-Web 和 Calibre 使用相同的数据库，首次打开Calibre-Web 可能会因为没有数据库而报错，为此我们可以先建好一个空白数据库备用。在电脑上打开 Calibre，选择「资源库」→「切换/新增资源库」，\n\n![calibre_data.png](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/calibre_data.png)\n\n选择「在新路径新增资源库」并指定路径，之后可得到一个 `metadata.db` 文件，\n\n![calibre_data2](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/calibre_data2.png)\n\n在群晖任意路径新建一个文件夹用来存放图书，文件名任意，权限设置为可读写，\n\n![calibre_file](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/calibre_file.png)\n\n将上一步 `metadata.db` 文件拷贝至这个路径，\n\n## Docker 安装\n\n在群晖打开 Docker，在「注册表」中搜索「calibre」，选择「technosoft2000/calibre-web」这个映像并下载，\n\n![calibre_docker1](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/calibre_docker1.png)\n\n待下载完成（有群晖系统通知），在「映像」中找到「technosoft2000/calibre-web」双击，选择「高级设置」，\n\n![calibre_docker2](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/calibre_docker2.png)\n\n映射路径 `/books`，\n\n![calibre_docker3](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/calibre_docker3.png)\n\n端口根据自己情况设置或选择默认，之后应用设置。\n\n## 查看效果\n\n在浏览器输入地址 `http://hostname:<HTTP PORT>/opds`，输入用户名、密码，默认如下：\n\n```\n  用户名: admin\n  密码: admin123\n```\n\n登录之后可以更改密码、新增用户，或者上传书籍，设置 Kindle 推送，上传的书籍可以转化格式、epub 格式还可以在线阅读等等，都是图形化操作。\n\n![calibre_main_screen](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/calibre_main_screen.png)\n\n## 外网访问\n\n如果有公网 IP，可以在路由器中新增一个映射端口，这样就可以在外网访问了。\n\n"},{"title":"洗衣完成发送短信","url":"/ha_washer/","content":"\n![ha_washer_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_washer_cover.png)\n\n小弟看到有大大有贴[洗衣机洗衣完成发通知的自动化](https://blog.yxwang.me/2019/07/washer-dryer-notification/)，通过插座功率的改变来判断洗衣完成，小弟偏好这种接外挂式的改造，感觉实用，跟着试了一番：\n\n## 准备工作\n\n### 接入插座\n\n这个自动化需要一个可以测功率的插座，小弟有一个「小米插座增强版」，有内置测功率的功能，首先要先将这个插座接入 Home Assistant，具体步骤可参考[这个大大的程序](https://github.com/syssi/xiaomiplug)，其中 token 可以通过[修改版米家 App](https://www.kapiba.ru/2017/11/mi-home.html)（仅支持 Android 系统，免 root）获取。\n\n之后在 `configuration.yaml` 文件中添加一个传感器获取插座功率：\n\n```yaml\nsensor:\n  - platform: template\n    sensors:\n      xiaomi_plug_power:\n        friendly_name: \"socket load power\"\n        unit_of_measurement: W\n        value_template: \"{{ state_attr('switch.xiaomi_chuangmi_plug_v3', 'load_power') }}\"\n```\n\n### 配置通知\n\nHome Assistant 通知方式很多，App 通知无需配置，另外还可以选短信通知、TTS 通知等。\n\n### 配置 Twilio 短信通知\n\n利用 Twilio 可以发送短信通知，注册试用即送 $15，美国手机号文字短信 $0.0075/条，中国手机号文字短信 $0.0280/条。\n\n首先到 [Twilio](https://www.twilio.com) 网站注册并试用，验证手机号后可以获得一个美国手机号，账号 SID 及Token。\n\n![ha_washer_twillo](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_washer_twillo.png)\n\n在 Home Assistant 的 `configuration.yaml` 文件中添加配置：\n\n```yaml\ntwilio:\n  account_sid: ACCOUNT_SID_FROM_TWILIO\n  auth_token: AUTH_TOKEN_FROM_TWILIO\n```\n\n试用账号只能给白名单的手机号，需要将接受短信的手机号添加至白名单，\n\n![ha_washer_twillo_phone](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_washer_twillo_phone.png)\n\n### 配置 TTS 通知\n\n若使用 Googlecast 设备访问地址是配置了 SSL 证书，需要添加 base_url，另外，建议添加与文字内容相同的语言（避免用说英文的方式说中文）。\n\n```yaml\ntts:\n  - platform: google_translate\n    base_url: https://<Home Assistant URL>:8123\n    language: 'en-us'\n```\n\n### 配置 Home Assistant 应用通知\n\n免配置，装好应用，允许应用通知权限即可。\n\n## 自动化\n\n自动化这里小弟搬运[大大的配置](https://blog.yxwang.me/2019/07/washer-dryer-notification/)，用两种状态（空闲和运转）描述洗衣机状态，在 `configuration.yaml` 文件中添加配置：\n\n```yaml\ninput_select:\n  washer_status:\n    name: Washer Status\n    options:\n      - Idle\n      - Running\n    initial: Idle\n```\n\n定义虚拟的洗衣机传感器，\n\n```yaml\nsensor:\n  - platform: template\n    sensors:\n      washer_status:\n        value_template: '{{ states.input_select.washer_status.state}}'\n        friendly_name: 'Washer Status'\n```\n\n自动化脚本一：检测到电量后的更新洗衣机状态为运转，10 瓦作为运转开始的阈值。\n\n```yaml\nalias: Set washer active when power detected\ntrigger:\n  - platform: numeric_state\n    entity_id: switch.xiaomi_chuangmi_plug_v3\n    value_template: '{{ state_attr(''switch.xiaomi_chuangmi_plug_v3'', ''load_power'') }}'\n    above: '10'\ncondition:\n  - condition: or\n    conditions:\n      - condition: state\n        entity_id: sensor.washer_status\n        state: Idle\naction:\n  - service: input_select.select_option\n    data:\n      entity_id: input_select.washer_status\n      option: Running\nmode: single\n```\n\n自动化脚本二：洗衣机用电低于 3 瓦且超过 1 分钟以上后，把状态切换成空置并通过 Twilio 发送短信通知、应用通知、TTS。\n\n```yaml\nalias: Set washer inactive\ntrigger:\n  - platform: numeric_state\n    entity_id: switch.xiaomi_chuangmi_plug_v3\n    value_template: '{{ state_attr(''switch.xiaomi_chuangmi_plug_v3'', ''load_power'') }}'\n    below: '3'\n    for: '0:01:00'\ncondition:\n  - condition: or\n    conditions:\n      - condition: state\n        entity_id: sensor.washer_status\n        state: Running\naction:\n  - service: input_select.select_option\n    data:\n      entity_id: input_select.washer_status\n      option: Idle\n  - service: notify.sms\n    data:\n      message: 'The Washer is finished!'\n      target:\n        - '+8613012345678'\n        - '+8613033333333'\n  - service: tts.google_translate_say\n    data:\n      message: 'The Washer is finished!'\n    entity_id: media_player.bedroom_speaker\n  - service: notify.notify\n    data:\n      title: The Washer is finished\n      message: 'The Washer is finished!' \nmode: single\n```\n\n![ha_washer_notify](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_washer_notify.png)"},{"title":"窗帘快速接入 HA——免去换轨 超快接入","url":"/ha_curtain/","content":"\n![ha_curtain_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_curtain_cover.png)\n\n小弟觉得窗帘接入自动化还是有用的，早上打开窗帘可以更好地醒来，晚上关掉窗帘在黑暗环境也容易睡眠。不知因为什么，市面上大部分窗帘产品感觉都被带偏了，大多数都需要换轨道，安装繁琐，这一点对租房者不友好。\n\n偶然发现了 [Switchbot](https://www.switch-bot.com/) 有出 [Switchbot Curtain](https://www.switch-bot.com/products/switchbot-curtain) ，安装简单，无需更换轨道，感觉这样的产品更适合自己。\n\n小弟买的是淘宝的一款类似产品，[Zemismart 的涂鸦窗帘](https://www.zemismart.com/products/zemismart-tuya-smart-curtain-driver-for-m17)，价格只要 Switchbot Curtain 不到一半价格，涂鸦 433 mHZ 方案。\n\n## 与 Switchbot Curtain 对比\n\n有大大做了[与 Switchbot Curtain 对比视频](https://youtu.be/3Gm5bBW1sRY)，Switchbot Curtain 全面超越 Zemismart 窗帘，只有两点微微胜出：\n\n1、价格\n\n单个 Switchbot Curtain， $89（约 ￥584）\n\n单个 Zemismart，国际友人 $50，淘宝 ￥200\n\n单论价格，Zemismart 还是占优势的，淘宝购买更划算。\n\n2、接入 HA 便利\n\nZemismart 有附 433mHz WiFi 转接头，内置涂鸦固件，可以方便接入 HA（Switchbot Curtain 目前似乎不能原生接入 Home  Assistant，Switchbot 可以）。\n\n## 安装\n\nZemismart 好像一直在做海外市场，Youtube 有一些产品的视频，小弟买的这个是刚刚生产出来的，下单到收货花了近两周，外包装是一个白色的盒子，一个字也没有，打开盒子，有附一个窗帘马达、一个 WiFi USB 转换器、一个 433 mHZ 遥控器、三对挂钩适配三种窗帘轨道、两节 18650 电池、一本英文说明书。\n\n![ha_curtain_stuff](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_curtain_stuff.jpg)\n\nZemismart 窗帘安装很简单，装上电池，将马达挂在窗帘末端，用遥控器测距就安装好了。\n\n插上  WiFi USB 转换器，在 Tuya Smart App 中配对就可以接入 WiFi 了。如果 App 上开光与实际不一致，可通过反挂马达同步。\n\n另外这个窗帘也支持「touch and go」的功能，稍用力反方向手动拉窗帘可以自动开合窗帘。\n\n尾部还有一个鸡肋的光敏电阻，可以感知光线强弱，当光线较弱时认定为「夜间模式」，会省一点电。\n\n## 接入 Home  Assistant 及其他\n\nHome Assistant 支持涂鸦固件，直接在 Configuration 中点击右下角的添加按钮，搜索 `tuya`，之后填入用户名、密码、国家代码即可。\n\n![ha_curtain_ha](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_curtain_ha.png)\n\n另外，还可以通过 [OpenMQTTGateway](https://docs.openmqttgateway.com) 自制 RF 网关本地控制。\n\nGoogle Assistant 和 Alexa 可以通过 Home Assistant，也可以通过涂鸦账号接入。\n\nHomekit 可以通过 Home Assistant 接入。\n\n![ha_curtain_app](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_curtain_app2.png)\n\n## 自动化\n\n接入 Home Assistant 可以方便地进行各种自动化，玩法很多。\n\n## 缺点\n\n1、做工不优\n\nZemismart 好像在供应链议价能力较弱，这个窗帘外壳看起来像比较廉价的塑料，连接处缝隙也较大，小弟的这个窗帘电池垫片第一次装电池就陷到内壳里了，只能拆开取出。\n\n2、噪音较大\n\n这个是比较大的缺点，这款窗帘开关噪音很大，这一点产品开发时好像完全没有考虑优化，每次开合窗帘都像一个巨大机械怪兽在行走。\n\n3、不支持百分比控制\n\n无论 Home Assistant、Google Assistant、Alexa或者 HomeKit 中，都只能控制开合，没法按百分比控制（HomeKit 中有显示百分比，但只能控制开合）。\n\n4、433 mHZ\n\n这款窗帘是比较过时的 433 mHZ，没有采用 Zigbee，不过厂家似乎在以后会出 Zigbee 的版本。"},{"title":"小米温度计接入 HA","url":"/ha_xiaomi_tem/","content":"\n![ha_xiaomi_tem_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_xiaomi_tem_cover.png)\n\n小米有出好几款温度计，借助 ESPHome 和 Zigbee2MQTT，可以将其接入 Home Assistant。\n\n## 圆形 Zigbee 温度计\n\n![../images/devices/WSDCGQ01LM.jpg](https://www.zigbee2mqtt.io/images/devices/WSDCGQ01LM.jpg)\n\n\n\n\n\n| 型号 | [WSDCGQ11LM](https://www.zigbee2mqtt.io/devices/WSDCGQ11LM.html)、[WSDCGQ12LM](https://www.zigbee2mqtt.io/devices/WSDCGQ12LM.html) |\n| ---- | ------------------------------------------------------------ |\n| 协议 | Zigbee                                                       |\n\n这个 Zigbee 圆形温度计好像是小米出的第一款温度计，可以通过 Zigbee2MQTT 快速接入，具体制作可参考小弟之前的文章。\n\n## 方形 Zigbee 温度计\n\n![../images/devices/WSDCGQ11LM.jpg](https://www.zigbee2mqtt.io/images/devices/WSDCGQ11LM.jpg)\n\n| 型号 | [WSDCGQ11LM](https://www.zigbee2mqtt.io/devices/WSDCGQ11LM.html)、[WSDCGQ12LM](https://www.zigbee2mqtt.io/devices/WSDCGQ12LM.html) |\n| ---- | ------------------------------------------------------------ |\n| 协议 | Zigbee                                                       |\n\nZigbee 方形温度计可以通过 Zigbee2MQTT 接入。\n\n## 圆形 LCD 蓝牙温度计\n\n![../../_images/xiaomi_lywsdcgq.jpg](https://esphome.io/_images/xiaomi_lywsdcgq.jpg)\n\n| 型号 | LYWSDCGQ |\n| ---- | -------- |\n| 协议 | 蓝牙     |\n\n这款温度计是蓝牙协议，圓形，分段 LCD 显示，可廣播溫度、濕度和電池電量，可通过 ESPHome 接入（参考小弟之前的文章），\n\n配置示例：\n\n```yaml\nsensor:\n  - platform: xiaomi_lywsdcgq\n    mac_address: \"7A:80:8E:19:36:BA\"\n    temperature:\n      name: \"LYWSDCGQ Temperature\"\n    humidity:\n      name: \"LYWSDCGQ Humidity\"\n    battery_level:\n      name: \"LYWSDCGQ Battery Level\"\n```\n\n## 长方形 E-Ink 蓝牙温度计\n\n![../../_images/xiaomi_lywsd02.jpg](https://esphome.io/_images/xiaomi_lywsd02.jpg)\n\n| 型号 | LYWSD02 |\n| ---- | ------- |\n| 协议 | 蓝牙    |\n\n长方形 E-Ink 蓝牙温度计有電子墨水顯示屏，可廣播溫度和濕度值，無電池狀態。可通过 ESPHome 接入，\n\n配置示例：\n\n```yaml\nsensor:\n  - platform: xiaomi_lywsd02\n    mac_address: \"3F:5B:7D:82:58:4E\"\n    temperature:\n      name: \"LYWSD02 Temperature\"\n    humidity:\n      name: \"LYWSD02 Humidity\"\n```\n\n\n\n## 圆形 E-Ink 蓝牙温度计\n\n![../../_images/xiaomi_cgg1.jpg](https://esphome.io/_images/xiaomi_cgg1.jpg)\n\n| 型号 | CGG1 |\n| ---- | ---- |\n| 协议 | 蓝牙 |\n\n圆形 E-Ink 蓝牙温度计带電子墨水顯示屏，可通过 ESPHome 接入，\n\n配置示例：\n\n```yaml\nsensor:\n  - platform: xiaomi_cgg1\n    mac_address: \"7A:80:8E:19:36:BA\"\n    temperature:\n      name: \"CGG1 Temperature\"\n    humidity:\n      name: \"CGG1 Humidity\"\n    battery_level:\n      name: \"CGG1 Battery Level\"\n```\n\n\n\n## 方形 LCD 蓝牙小温度计\n\n![../../_images/xiaomi_lywsd03mmc.jpg](https://esphome.io/_images/xiaomi_lywsd03mmc.jpg)\n\n| 型号 | LYWSD03MMC |\n| ---- | ---------- |\n| 协议 | 蓝牙       |\n\n这款温度计体积很小，方形，分段 LCD 显示，蓝牙协议（已加密），可廣播溫度、濕度和電池電量，需要先可获取 bindkey 再通过 ESPHome 接入。\n\n有大大写了[很赞的网页版程序](https://github.com/atc1441/ATC_MiThermometer)可以快速获取到 bindkey，步骤如下：\n\n在浏览器（推荐电脑版 Chrome）打开网页 https://atc1441.github.io/TelinkFlasher.html ，点击「connect」可以看到蓝牙设备列表，选中名称叫做「LYWSD03MMC」的设备并配对，若有多个，建议关闭其他，一个一个获取，\n\n![ha_xiaomi_tem1](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_xiaomi_tem1.png)\n\n配对后即可获取到 bindkey，记下备用。\n\n![ha_xiaomi_tem2](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_xiaomi_tem2.png)\n\n在电脑连接的蓝牙设备中可以获取到温度计的 MAC 地址。\n\n之后通过 ESPHome 可接入 Home Assistant，配置示例：\n\n```yaml\nsensor:\n  - platform: xiaomi_lywsd03mmc\n    mac_address: \"A4:C1:38:B1:CD:7F\"\n    bindkey: \"eef418daf699a0c188f3bfd17e4565d9\"\n    temperature:\n      name: \"LYWSD03MMC Temperature\"\n    humidity:\n      name: \"LYWSD03MMC Humidity\"\n    battery_level:\n      name: \"LYWSD03MMC Battery Level\"\n```\n"},{"title":"Google Home 作报时钟","url":"/ha_clock/","content":"\n![ha_clock_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_clock_cover.png)\n\n小弟一直很偏好报时钟，买过 [MUJI 的郭公报时钟](https://www.muji.com/sg/products/cmdty/detail/4547315832491)，还用宜家的表壳 DIY 过一个报时钟。\n\n![ha_clock_diy](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_clock_diy.png)\n\n这些都可以实现报时，但是程序都是写死的。MUJI 报时钟很有趣，还可以感应光线开关报时，小弟觉得这个条件不够完善，有时候很早天亮会被吵醒，晚上完睡觉会吵到别人。DIY 报时钟音乐但是固定的，每天的报时时间也是固定的。\n\n有 Home Assistant，Google Home 作为音频输出，才是最酷的报时钟。\n\n首先准备好音频文件，常用的报时铃声有[西敏寺钟声](https://www.youtube.com/watch?v=oTW01MlbBRM)、[孤挺花](https://www.youtube.com/watch?v=0nc6lx2i4-Q)、[念故乡](https://youtu.be/yDETNSA-u6M)等等，需要将音频文件设置成外链，小弟是借助 [zdir](https://github.com/helloxz/zdir) 这个工具。\n\n之后新建一个自动化，配置参考：\n\n```yaml\nalias: clock hour\ndescription: ''\ntrigger:\n  - platform: time\n    at: '8:00'\n  - platform: time\n    at: '9:00'\n  - platform: time\n    at: '10:00'\n  - platform: time\n    at: '11:00'\n  - platform: time\n    at: '12:00'\n  - platform: time\n    at: '13:00'\n  - platform: time\n    at: '14:00'\n  - platform: time\n    at: '15:00'\n  - platform: time\n    at: '16:00'\n  - platform: time\n    at: '17:00'\n  - platform: time\n    at: '18:00'\n  - platform: time\n    at: '19:00'\n  - platform: time\n    at: '20:00'\n  - platform: time\n    at: '21:00'\n  - platform: time\n    at: '22:00'\n  - platform: time\n    at: '23:00'\ncondition: []\naction:\n  - service: media_player.play_media\n    data:\n      entity_id: media_player.bedroom_speaker\n      media_content_id: 'http://drunkfish.i234.me:4444/var/clock.mp3'\n      media_content_type: music\nmode: single\n```\n\n"},{"title":"Chromecast 设备接入 HA","url":"/ha_chromecast/","content":"\n![ha_chromecast_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_chromecast_cover.png)\n\nHome Assistant 可以自动发现 Chromecast 设备，进行相关配置可以解锁更多玩法。\n\n## Chromecast 音频\n\nChromecast 音频包括 Google Home、Google Home mini、Google Nest Mini、Google Audio。\n\n### 充当 AirPlay 设备\n\n若安装的是 HASS 可以在 Add-on Store 中查找安装插件 `AirCast`，安装后不需配置，Google Home就可以当做一个 AirPlay 设备使用了。\n\n![ha_chromecast_aircast](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_chromecast_aircast.png)\n\n### TTS\n\nGoogle Home 支持 TTS，配置 SSL 证书后会出现无法播放的情况，有大大贴出[解决方法](https://community.home-assistant.io/t/tts-with-ssl-on/207875/3)，比较简单的办法是在 `tts` 组件下添加一个 `base_url`，地址是配置了 SSL 证书的Home Assistant 访问地址。\n\n```yaml\ntts:\n  - platform: google_translate\n    base_url: https://<Home Assistant URL>:8123\n```\n\n### 播放音频文件\n\n同样音频文件在配置 SSL 证书后也会出现无法播放，小弟的解决办法是通过 [zdir](https://github.com/helloxz/zdir) 这个小工具将音频文件转成外链。\n\n## Android TV\n\nAndroid TV 在 Home Assistant 也可以自动发现，配置 ADB 有更多的控制选项。\n\n首先在 Android TV 在手机「设置」→「关于」→「Build」中连按 7 次，打开「开发者选项」，\n\n![ha_chromecast_adb](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_chromecast_adb.png)\n\n在 Add-on Store 中查找安装插件 `ADB - Android Debug Bridge`，并配置 Android TV 地址，\n\n```yaml\ndevices:\n  - <Android TV IP Address>\nreconnect_timeout: 90\n```\n\n在 `configuration.yaml` 文件中添加配置：\n\n```yaml\nmedia_player:\n  - platform: androidtv\n    name: Android TV\n    host: <Android TV IP Address>\n    adb_server_ip: 127.0.0.1\n    adb_server_port: 5037\n```\n\n配置好之后重启 Home Assistant，首次连接到设备时，Android TV 上将出现一个对话框，要求批准连接。选中「始终允许来自此设备的连接」复选框，之后点击「确定」。\n\n在前端 UI 添加媒体播放器即可看到新配置的 Android TV，组件可以看到屏幕缩略图，点开可以控制音量、上一首、下一首等等，也可以直接打开某一个应用。\n\n![ha_chromecast_tv](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_chromecast_tv.png)\n\n\n\n\n\n"},{"title":"空调快速接入 HA","url":"/ha_ac/","content":"\n![ha_ac_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_ac_cover.png)\n\n[IRbaby](https://github.com/Caffreyfans/IRbaby) 是一个 ESP8266 空调红外方案，只需对其进行简单设置就可以快速部署在 Home Assisant。\n\n## 材料准备\n\n1、ESP8266\n\n![Nodemcu](http://irbaby.caffreyfans.top/src/nodemcu.jpg)\n\n2、红外二级管\n\n![红外二级管](http://irbaby.caffreyfans.top/src/ir_led.jpg)\n\n3、红外接收头（非必须）\n\n![红外接收头](http://irbaby.caffreyfans.top/src/ir_receiver.jpg)\n\n\n\n## 连线\n\n![接线](http://irbaby.caffreyfans.top/src/connect.jpg)\n\n\n\n```\n红外二级管长引脚接 gpio，短脚接地。如果不使用录码功能可忽略红外接收头。\n```\n\n## 开始使用\n\n1. 下载 [ESP8266 固件](https://github.com/Caffreyfans/IRbaby-firmware/releases)并烧写到设备，\n\n2. 设备上电，移动端搜索连接到 `ESP**` 信号，并对设备进行联网设置，\n\n3. 下载 [Android 客户端](https://github.com/Caffreyfans/IRbaby-android/releases)并运行，对设备进行 MQTT 和红外收发引脚设定。\n\n   参考引脚：\n\n   ![../_images/nodemcu_esp8266-full.jpg](https://esphome.io/_images/nodemcu_esp8266-full.jpg)\n\n4. 匹配电器，完成控制。\n\n||||\n|---|---|---|\n|![发现设备](http://irbaby.caffreyfans.top/src/discovery.jpg) |![配置信息](http://irbaby.caffreyfans.top/src/device_setting.jpg) |![添加电器](http://irbaby.caffreyfans.top/src/select.jpg) |\n|![匹配电器](http://irbaby.caffreyfans.top/src/parse.jpg) |![已有电器](http://irbaby.caffreyfans.top/src/main.jpg) |![导出MQTT](http://irbaby.caffreyfans.top/src/mqtt.jpg) |\n\n5、在 Home Assistant 中的 Integrations 中可以自动发现一个 MQTT 设备。\n\n![ha_ac_mqtt](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_ac_mqtt.png)"},{"title":"到家附近 自动开灯","url":"/ha_tracker/","content":"\n![ha_washer_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_tracker_cover.png)\n\n我们几乎每天回家都会开灯，Home Assistant 的设备跟踪功能可以帮助这个过程自动化。\n\nHome Assistant 的设备跟踪功能可以判定在家、离家状态有很多，现在大多数人好像到哪里都会带手机，手机可以作为一个追踪的设备，设备跟踪功能很多，比如 [Apple iCloud](https://www.home-assistant.io/integrations/icloud/)、[通过蓝牙设备追踪](https://www.home-assistant.io/integrations/bluetooth_tracker/)、路由器追踪、[MQTT 设备追踪](https://www.home-assistant.io/integrations/device_tracker.mqtt/)等等。\n\n其中路由器追踪又分[华硕路由器追踪](https://www.home-assistant.io/integrations/asuswrt/)、[OpenWRT (luci)](https://www.home-assistant.io/integrations/luci/)、[OpenWrt (ubus)](https://www.home-assistant.io/integrations/ubus/) 追踪，小弟这里用 OpenWRT (luci)实例，在这个追踪器中，设备 WiFi 断开 2-3 分钟会设置状态为「离开」，连上 WiFi 10 秒会判定「在线」。\n\n## OpenWRT 配置\n\n打开 OpenWrt 介面，选中「系统」→「软件包」中，点击刷新软件列表，之后在「过滤器」中搜索「luci-mod-rpc」，如未安装可点击安装。\n\n![ha_washer_luci](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_tracker_luci.png)\n\n## Home Assistant 配置\n\n在 Home Assistant 的 `configuration.yaml` 文件中添加配置：\n\n```yaml\ndevice_tracker:\n  - platform: luci\n    host: ROUTER_IP_ADDRESS\n    username: YOUR_ADMIN_USERNAME\n    password: YOUR_ADMIN_PASSWORD\n    interval_seconds: 10\n    consider_home: 120\n    new_device_defaults:\n      track_new_devices: true\n```\n\n### 自动化\n\n以下是一个自动化的示例，追踪的设备的手机，在 18:00-23:00 期间若手机状态由「离家」变为「在家」，即打开灯。\n\n```yaml\nalias: welcome home\ndescription: ''\ntrigger:\n  - platform: state\n    entity_id: <device_tracker MAC Address>\n    from: not_home\n    to: home\ncondition:\n  - condition: time\n    after: '18:00'\n    before: '23:00'\naction:\n  - type: turn_on\n    device_id: <device_id>\n    entity_id: <entity_id>\n    domain: <domain>\nmode: single\n```\n\n"},{"title":"Alexa 接入 HA","url":"/ha_alexa/","content":"\n![ha_alexa_cove](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa_covwe.png)\n\n和 Google Assistant 一样，通过 [Home Assistant Cloud](https://www.home-assistant.io/cloud/) 服务可以快速接入 Home Assistant，每月 ＄5。有大大写了[一个程序](https://github.com/mike-grant/haaska)可以帮助接入 Home Assistant，并且写了[详细的 wiki](https://github.com/mike-grant/haaska/wiki)，小弟走了一遍流程，下面是步骤：\n\n## 设置好外网访问\n\n和 Google Assistant 一样需要设置好 https 外网访问。\n\n## 下载 haaska\n\n下载 [haaska 最新版本](https://github.com/mike-grant/haaska/releases/latest)，将其命名为like `haaska_1.1.0.zip`。\n\n将以下内容添加到您的`configuration.yaml`文件中：\n\n```yaml\napi:\n\nalexa:\n  smart_home:\n```\n\n之后在 Home Assistant 中创建一个获取一个长期令牌。登录 Home Assistant，单击头像或头像蓝色圆圈内的字母，向下滚动到「长期访问令牌」。点击 `CREATE TOKEN`，对于 `Name? 输入` haaska，之后点击 `OK`。令牌将出现，複製到安全的地方备用。\n\n## 设置 haaska\n\n### 设置与亚马逊的登录\n\n登录 [Amazon Developer Console](https://developer.amazon.com/home.html) （建议美亚账号），\n\n点击顶部导航栏中的[「使用 Amazon 登录」](https://developer.amazon.com/loginwithamazon/console/site/lwa/overview.html)链接，\n\n点击「创建新的安全配置文件」的金色按钮，\n\n![ha_alexa1](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa1.png)\n\n输入以下内容：\n\n- 输入您想要的任何安全配置文件名称，例如  haaska\n- 写一个简短的描述，例如 haaska for my Home Assistant\n- 添加您想要的隐私声明网址，随意填\n\n点击保存继续，\n\n![ha_alexa2](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa2.png)\n\n在新的安全配置文件上，点击齿轮按钮，选择网络设置，记下客户端 ID 和客户端密钥，将此窗口保持打开状态以供参考。\n\n![ha_alexa3](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa3.png)\n\n### 设置 Alexa 技能套件\n\n打开一个**新的浏览器窗口**，使先前的**窗口**保持打开状态，以供以后使用。\n\n点击页面右上方的[开发者控制台](https://developer.amazon.com/home.html)链接，\n\n在导航栏中查找 Alexa，选择 [Alexa Skills Kit](https://developer.amazon.com/alexa/console/ask) ，点击[创建技能](https://developer.amazon.com/alexa/console/ask/create-new-skill)按钮，\n\n![ha_alexa4](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa4.png)\n\n在这个新页面上，输入以下内容：\n\n- 技能名称-可以是您想要的任何名称，例如 haaska，\n- 语言-选择您要使用的正确语言，例如英语，\n- 点击「智能家居」图块，\n\n点击右上角的蓝色「创建技能」按钮，\n\n![ha_alexa5](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa5.png)\n\n记下列出的技能ID（例如`amzn1.ask.skill.ed66dfa4-1185-492e-bf6e-1f70e90fb018`）。\n\n![ha_alexa6](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa6.png)\n\n### 准备 AWS Lambda 访问\n\n打开一个**新的浏览器窗口**。请保持先前的窗口打开，以便以后使用。注册登录到 [AWS 控制台](https://console.aws.amazon.com/console/home)（注意：注册 AWZ 需要外币信用卡验证），选择 [IAM](https://console.aws.amazon.com/iam/home) ，\n\n![ha_alexa7](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa7.png)\n\n在左侧栏上，点击[角色](https://console.aws.amazon.com/iam/home#/roles)。之后点击蓝色的[创建角色](https://console.aws.amazon.com/iam/home#/roles%24new?step=type)按钮，\n\n![ha_alexa8](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa8.png)\n\n勾选「AWS服务」图块，点击选中 Lambda，之后点击右下角「下一步：权限」按钮，\n\n![ha_alexa9](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa9.png)\n\n在搜索框中输入「basic」，之后选中 AWSLambdaBasicExecutionRole，\n\n![ha_alexa10](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa10.png)\n\n点击右下角的「下一步：标签」按钮，无需输入任何标签，之后点击「下一步：查看」继续。\n\n在「角色名称」框中，输入 lambda_basic_execution，点击右下角「创建角色」，\n\n![ha_alexa11](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa11.png)\n\n单击左上方的AWS按钮，返回到[主控制台](https://console.aws.amazon.com/console/home)。\n\n### 地区选择\n\n在屏幕的右上角用户名旁边，根据语言选中相应的地区，英语选择「美国东部（弗吉尼亚北部）」。\n\n![ha_alexa12](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa12.png)\n\n### 设置 AWS Lambda-第 1 部分\n\n点击左上方的服务按钮，在列表中，找到「计算」部分，之后单击 [Lambda](https://console.aws.amazon.com/lambda/home) ，点击橙色的[创建功能](https://console.aws.amazon.com/lambda/home?#/create)按钮，选中「从头开始创建作者」图块，设置以下选项：\n\n- 名称 - haaska\n- 运行 - `Python 3.6`\n- 角色 - 选择现有角色\n- 现有角色 - lambda_basic_execution\n\n![ha_alexa13](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa13.png)\n\n### 设置 AWS Lambda-第 2 部分\n\n在新功能的「设计器」部分中，点击 Alexa Smart Home。如果没有看到此信息，说明尚未设置[正确的区域](https://github.com/mike-grant/haaska/wiki/Setting-up-haaska#Region-Select)。\n\n在「应用程序 ID」框中，从 Alexa 开发人员控制台窗口（例如`amzn1.ask.skill.ed66dfa4-1185-492e-bf6e-1f70e90fb018`）複製并粘贴「技能ID」，\n\n确保选中「启用触发器」，点击右下角的「添加」，在「设计器」部分中，点击功能名称（例如 haaska），在「功能代码」部分中，查找「代码输入类型」，点击此菜单，选择「上传.zip文件」，\n\n![ha_alexa14](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa14.png)\n\n点击「上传」按钮，选择之前下载的 zip 文件（例如`haaska_1.1.0.zip`）。\n\n在「处理程序」框中，将现有内容替换为 haaska.event_handler，等待其加载。\n\n## 配置 haaska 功能\n\n在「功能代码」部分，将看到文件列表，双击 `config.json`，\n\n在 URL 部分中，添加远程 Home Assistant URL（例如 `https://my-hass.example.com:8123`）\n\n在「承载令牌」部分中，添加先前保存的长期令牌（例如 amcb3i2248yfm ...）\n\n![ha_alexa15](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa15.png)\n\n## 将 AWS Lambda 链接到 Alexa 技能套件\n\n在Lambda窗口的右上方，有一个 ARN（例如 arn:aws:lambda:us-east-1:111234567890:function:haaska），复制此文本并保存。\n\n返回您的 Alexa 开发人员控制台窗口，将ARN粘贴到标有「默认端点」的框中，\n\n从可用的复选框中，点击与之前的技能语言/Lambda 功能区域匹配的「端点区域」，将 ARN 粘贴到区域框中，点击右上角的「保存」按钮。\n\n![ha_alexa16](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa16.png)\n\n## 链接 Alexa 技能套件以登录 Amazon\n\n点击「设置帐户链接」按钮，输入以下内容：\n\n| 名称                                | 内容                                                |\n| ------------------------------------ | ------------------------------------------------------ |\n| Authorization URI                    | `https://www.amazon.com/ap/oa`                         |\n| Access Token URI                     | `https://api.amazon.com/auth/o2/token`                 |\n| Client ID                            | 「使用Amazon登录」窗口中的客户端 ID |\n| Client Secret                        | 「使用亚马逊登录」窗口中的客户端秘钥 |\n| Client Authentication Scheme         | HTTP 脚本 (推荐)                             |\n| Scope                                | 点击 `+ Add Scope` 并输入 `profile`          |\n| Domain List                          | *Not used*                                             |\n| Default Access Token Expiration Time | *Not used*                                             |\n\n![ha_alexa17](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa17.png)\n\n之后将看到重定向URI的列表，把这些复制备用，点击右上角的保存。\n\n返回到 Amazon 开发人员控制台/使用 Amazon 登录窗口，点击右下角的编辑，在「允许的返回 URL」部分中，点击「添加另一个」，直到三行为止。\n\n在每一行上，从  Alexa Developer Console 窗口中添加一个重定向 URL，点击保存。\n\n### 测试 haaska\n\n登录到 [Lambda 控制台](https://console.aws.amazon.com/lambda/home)，点击 haaska，之后点击页面右上方的「测试」按钮，\n\n在「事件名称」字段中为测试指定一个自定义名称。将以下 JSON 复制到测试控制台：\n\n```json\n{\n  \"directive\": {\n    \"header\": {\n      \"namespace\": \"Alexa.Discovery\",\n      \"name\": \"Discover\",\n      \"payloadVersion\": \"3\",\n      \"messageId\": \"1bd5d003-31b9-476f-ad03-71d471922820\"\n    },\n    \"payload\": {\n      \"scope\": {\n        \"type\": \"BearerToken\",\n        \"token\": \"access-token-from-skill\"\n      }\n    }\n  }\n}\n```\n\n单击「创建」，测试应该在「测试」按钮旁边的下拉框中列出，单击「测试」按钮，如果测试成功，将出现一个绿色的选中标记。恭喜，haaska 可以与 Home Assistant 进行通信。\n\n![ha_alexa18](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa18.png)\n\n如果有问题，并且测试失败，可以展开「详细信息」部分查看。\n\n## Alexa App 中设定\n\n打开 Alexa App，在「更多」tab 中选择「Skill & Games」，之后就可以在「Your Skills」的「Dev」中可以看到建立的技能，连接即可。\n\n![ha_alexa19](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_alexa19.png)\n\n\n\n\n\n\n"},{"title":"Google Assistant 接入 HA","url":"/ha_ga/","content":"\n![ha_google_assistant_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_ga_cover.png)\n\nGoogle Assistant 接入 Home Assistant 最简单的方法是通过 [Home Assistant Cloud](https://www.home-assistant.io/cloud/) 服务，每月 ＄5，收入用于支持 Home Assistant 的开发，如果不想折腾可以直接订阅即可。另外一种方法是通过手动设置的方法，下面是步骤：\n\n## 设置好外网访问\n\n首先确保有公网 IP，在群晖或路由器中设置好 DDNS、端口映射 8123 端口，域名申请好 SSL 证书。\n\n## 新增 Action\n\n打开网址 [http://console.actions.google.com](http://console.actions.google.com/)，\n\n点击 `New Project` 并为项目命名，\n\n![ha_ga1](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_ga1.png)\n\n选中 `Smart Home` 卡片，之后点击 `Start Building`，\n\n![ha_ga2](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_ga2.png)\n\n点击 `Name your Smart Home action` 下方 `Quick Setup` 的名称，为操作命名（Home Assistant 将在 Google Home 应用中显示为 `[test] <Action Name>`），\n\n![ha_ga3](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_ga3.png)\n\n点击 `Build your Action`下方的 `Add Action(s)`，添加 Home Assistant 的访问 URL `https://[YOUR HOME ASSISTANT URL:PORT]/api/google_assistant`，之后点击 `Save`，在 `Overview` 选项卡，可以看到应用程序详细信息。\n\n![ha_ga4](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_ga4.png)\n\n## 关联账号\n\n点击页面 `Setup account linking` 下面的 `Quick Setup` 设置`Overview`，\n\n输入以下内容：1.专案项目 ID： `https://oauth-redirect.googleusercontent.com/r/YOUR_PROJECT_ID`（可以通过网址 URL 看到 YOUR_PROJECT_ID，）；2. Client Secret：无填写要求；3.授权 URL（与实际 URL 替换）： `https://[YOUR HOME ASSISTANT URL:PORT]/auth/authorize`。4.令牌URL（与实际URL替换）： `https://[YOUR HOME ASSISTANT URL:PORT]/auth/token`，\n\n![ha_ga5](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_ga5.png)\n\n在`Configure your client` `Scopes`文本框中，输入 `email` 并点击 `Add scope`，输入`name`并再次点击 `Add scope` 。（不要勾选 `Google to transmit clientID and secret via HTTP basic auth header`)，点击`Next`，然后点击 `Save`，\n\n![ha_ga6](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_ga6.png)\n\n选择顶部的选项卡 `Test` 按钮以生成草稿版本 Test App。\n\n![ha_ga7](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_ga7.png)\n\n## 启用设备同步\n\n这一步的目的是向Google服务器发送状态报告，当使用命令 Ok Google，sync my devices 时，可以同步设备。\n\n首先在GCP控制台中，转到[「创建服务帐户密钥」](https://console.cloud.google.com/apis/credentials/serviceaccountkey)页面。\n\n确保匹配 `project_id`，从服务帐户列表中，选择新服务帐户。在服务帐户名称字段中，输入名称。在服务帐户 ID 字段中，输入 ID。从角色列表中，选择服务帐户 > 服务帐户令牌创建者。密钥类型，选择 JSON，点击创建，之后包含密钥下载的 JSON 文件将自动下载。\n\n![ha_ga8](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_ga8.png)\n\n转到 [Google API 控制台](https://console.cloud.google.com/apis/api/homegraph.googleapis.com/overview)。选择项目，查找并启用 HomeGraph API。\n\n![ha_ga9](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_ga9.png)\n\n## Home Assistant 配置\n\n将以下配置添加至 `configuration.yaml`：\n\n```yaml\ngoogle_assistant:\n  project_id: YOUR_PROJECT_ID\n  service_account: !include SERVICE_ACCOUNT.JSON\n  report_state: true\n```\n\n如果有不想使用 Google Assistant 进行控制的实体，可以将其禁用，在其下方，键入`expose:`并将其设置为`false`。\n\n```yaml\ngoogle_assistant:\n    light.living_room:\n      expose: false\n```\n\n## Google Home App 设置\n\n打开手机上的 Google Home App，添加设备，选择 test 账号，之后填入 Home Assistant 用户名及密码。\n\n![ha_ga10](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/ha_ga10.png)"},{"title":"制作使用网址导航","url":"/nav/","content":"\n![nav_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/nav_cover.png)\n\n小弟在群晖上跑了不少服务，多了之后要记各个服务项的地址，想尝试做一个网址导航方便使用各项服务。一番搜索，发现[这个](https://github.com/WebStackPage/WebStackPage.github.io)好像不错，静态页面，简单直接。\n\n## 修改源码\n\n首先修改静态页面的源码，将里面的网址换成自己的地址。[下载](https://github.com/WebStackPage/WebStackPage.github.io)好作者的源码解压，用文本编辑器打开其中的文件修改即可。有一个问题是，html 文件里的各种标签的括号容易搞混层级，这里可以一款前端编辑器 [Espresso](https://www.espressoapp.com/)，这个小工具可以方便折叠收起各种标签，找到对应位置替换地址即可。\n\n![nav_tool](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/nav_tool.png)\n\n图片资源放在 `/assets/images` 路径下，作者还放了一个 Sketch 的源文件，方便改图。\n\n改好好可以在浏览器中看下效果。\n\n![nav_preview](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/nav_preview.png)\n\n## 设置外网访问\n\n比较简单从外网访问这个网页的方式是通过群晖的 Web 服务器。\n\n首先上传网页文件夹至群晖任意位置，在群晖套件中心安装「Web Station」，\n\n![nav_web1](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/nav_web1.png)\n\n打开 Web Station，新建一个网站，可以选择按端口号，之后填写端口号，后端服务器可任意选择，之后即可创建好网站。\n\n![nav_web2](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/nav_web2.png)\n\n若设置好了 DDNS 与端口映射，应该外网就可以访问了。\n\n需要注意的是，各类入口露在外网，记得设好密码，密码建议不要太简单。\n\n"},{"title":"舵机控制普通单控 86 开关","url":"/servo/","content":"\n![servo_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/servo_cover.png)\n\n小弟想将灯泡接入 HA，看到有大大通过舵机控制灯泡开关（参见[这里](https://taron.top/archives/108.html)），感觉思路很赞，那个大大是通过 Arduino 写固件，小弟觉得想用 ESPHome 实现，代码简单、有拓展性（可接入其他传感器之类的），尝试一番成功接入。\n\n## 材料准备\n\n1、ESP8266 开发板\n\n2、SG90 9g 克舵机（90 度）\n\n3、公对母杜邦线\n\n4、公对母 USB 延长线（方便接电源）\n\n5、90 度直角固定支架（或其他直角支架）\n\n## 刷入固件\n\n确保安装好 ESPHome，HASS 可以直接通过插件安装。打开 ESPHome ，新建或打开已经或在原有设备新增以下代码：\n\nESP8266 参考：\n\n```yaml\napi:\n  services:\n    - service: control_servo\n      variables:\n        level: float\n      then:\n        - servo.write:\n            id: my_servo\n            level: !lambda 'return level / 100.0;'\n\nservo:\n  - id: my_servo\n    output: pwm_output\n\noutput:\n  - platform: esp8266_pwm\n    id: pwm_output\n    pin: D7\n    frequency: 50 Hz\n\nswitch:\n  - platform: gpio\n    name: \"switch\"\n    pin: D7\n    on_turn_on:\n      - servo.write:\n          id: my_servo\n          level: +100.0%\n      - delay: 0.5s\n      - servo.write:\n          id: my_servo\n          level: 0%  \n    on_turn_off:\n      - servo.write:\n          id: my_servo\n          level: -100.0%\n      - delay: 0.5s\n      - servo.write:\n          id: my_servo\n          level: 0% \n```\n\n代码执行命令如下：按下「开」，正旋转 70%，500ms 之后回到初始位置；按下「关」，负旋转 70%，500ms 之后回到初始位置。注意角度可以按照实际情况修改。\n\n在 Home Assistant 可以自动发现 ESPHome 设备，添加即可。\n\n## 连线\n\n首先将舵机与 ESP8266 连线，\n\n| 舵机 | ESP8266 |\n| ---- | ------- |\n| 红色 | 3.3V    |\n| 棕色 | GND     |\n| 黄色 | D7      |\n\n将舵机、直角支架放在 86 开关上确定各自的距离，注意舵机旋转方向，用热熔胶粘在直角支架上，直角支架粘在墙上，舵机与开关可以留一定距离，这样不影响手动开关。\n\n![servo_pic1](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/servo_pic1.jpg)\n\n![servo_pic2](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/servo_pic2.jpg)\n\n距离可参考小弟的：\n\n![servo_distance](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/servo_distance2.png)\n\n粘上后最好等待 24 小时热熔胶固定再使用。\n\n"},{"title":"自制超酷的 Zigbee 网关","url":"/z2m/","content":"\n![z2m_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/z2m_cover.png)\n\n\n\n小弟之前用的是小米的空调伴侣做 Zigbee 网关，说实话，很不优。小米网关除了在 Home Assistant 中频繁掉线，秉持了强封闭特性，还强塞了扬声器、听国内洗脑广播等鸡肋功能。\n\n看到很多人用 [Zigbee2MQTT](https://www.zigbee2mqtt.io) 自制网关，可以支持市面上所有 Zigbee 设备。里面有介绍通过 CC2531 自制，小弟感觉这样还是不够好：\n\n1、CC2531 需要插群晖或树莓派 USB 口使用；\n\n2、刷机繁琐，需要 CC Debug，或者连 Esp 8266/树莓派刷机，CC2531 上面的线非常细，连线困难。\n\n看到大大有[完全自制 Zigbee 网关](https://bbs.iobroker.cn/t/topic/882)，自己刷机电路板、外壳，这个网关可以直接连入 WiFi，随意放在房间任意位置，感觉很酷。\n\n小弟动手能力弱，完全照做一个感觉很难，直到看到项目里有[定制固件](https://bbs.iobroker.cn/t/topic/3347)，里面提到固件有利用 [Tasmota](https://tasmota.github.io/docs/) 固件。研读 Tasmota 固件文档与大大的帖子，小弟觉得可以利用这个固件买模块自制一个，尝试过后小弟自制成功。\n\n![z2m_hardware](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/z2m_hardware.png)\n\n## 材料准备\n\n1、CC2530\n\n2、D1 mini 或 ESP8266（推荐 D1 mini，体积小巧一点）\n\n3、母对母杜邦线若干\n\n## CC2530 刷入固件\n\nD1 mini 刷入固件、联网可以参照[大大写的帖子](https://bbs.iobroker.cn/t/topic/3347)，很详细，小弟不再赘述。刷好固件可以按照以下连接 CC2530 与 D1 mini：\n\n| D1 mini | CC2530 |\n| ------- | ------ |\n| D5      | P21    |\n| D7      | P22    |\n| D6      | RST    |\n| 3.3v    | VCC    |\n| GND     | GND    |\n\n在控制台界面，发送命令 `CCloaderUpdate cc2530_c.bin` 刷入协调器固件。\n\n## CC2530 连接 D1 mini\n\n刷好固件，之后按照以下连接 CC2530 与 D1 mini：\n\n| D1 mini | CC2530 |\n| ------- | ------ |\n| RX      | P03    |\n| TX      | P02    |\n| 3.3v    | VCC    |\n| GND     | GND    |\n\n至此我们硬件配置就配好了。\n\n## 配置 MQTT\n\n如果是 HASS，可以直接通过 Mosquitto broker 这个插件，在配置中可以设置用户名、密码。\n\n或者可以通过 Docker 安装 MQTT，修改配置文件设置用户名和密码。\n\n## 配置 Zigbee2MQTT\n\n如果是 HASS ，可以通过添加仓库地址安装 Zigbee2MQTT，参见 [Zigbee2MQTT 的 Github 页面](https://github.com/Koenkk/zigbee2mqtt)，或者通过Docker 安装。在配置中需要修改 MQTT 信息和串口地址。\n\n```yaml\nmqtt:\n  base_topic: zigbee2mqtt\n  server: 'mqtt://MQTT 地址:1883'\n  user: MQTT 用户名\n  password: MQTT 密码\nserial:\n  port: 'tcp://D1 mini 地址:8880'\n```\n\n配置成功日志中会显示成功信息。\n\n## 接入 Zigbee 设备\n\n按照 Zigbee 设备接入流程即可，如米家的 Zigbee 设备可以通过戳后面的 reset 键，接入成功会显示在页面中。\n\n![z2m_hass_device](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/z2m_hass_device.png)\n\n![z2m_hass_map](https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/z2m_hass_map.png)"},{"title":"租房小物推荐","url":"/necessary/","content":"\n![necessary_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_cover.png)\n\n## 小物推荐\n\n俗话说，生活是租的，但房子可能是自己的。我们向上天租借了几十年的寿命，有 1/3 的时间要花在睡觉等日常活动。这些活动需要一个相对稳定的空间度过，在这个空间中，除了面对亲人、朋友、熟悉的陌生人，还要面对各种各样的物品（有个问题是，我们的东西会不会像《玩具总动员》里那样当我们离开的时候会苏醒起来动呢？）。下面是小弟觉得可能可以入手的一些小物（如果有好的推荐，恳请各位大大留言评论，小弟补充）：\n\n### 快递开箱刀\n\n![necessary_knife](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_knife2.png)\n\n参考价格：¥ 11/把\n\n现在大家很多在网上买东西，会收到很多快递箱子，这个小刀可以帮助拆快递。刀子体积很小，刀片可以伸缩，不用担心划到手，后面有磁铁，可以贴在铁的东西上，方便收纳。\n\n### 抽绳垃圾袋\n\n![necessary_bag](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_bag.png)\n\n参考价格：¥ 0.26/个\n\n资本主义社会提倡多多消费，还会设计花哨的包装吸引顾客，不知不觉就产生很多垃圾。这个垃圾袋带拉绳，可以方便收口。\n\n### 静电纸拖把\n\n![necessary_mop](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_mop.png)\n\n参考价格：¥ 29/把\n\n这个拖把可以替换拖把上的「布」，擦完把纸丢掉，免清洗拖把。拖把可以搭配「静电纸」或「湿巾」使用，「静电纸」可以吸附一定毛发灰尘。另外，拖把可以方便拆卸，搬家的时候也很方便。\n\n### 鞋盒纸盒子\n\n![necessary_shoes_box](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_shoes_box.png)\n\n参考价格：¥ 3.5/个\n\n网上有卖鞋盒纸盒，可以方便收纳鞋子，另外可以充当鞋架的功能。搬家的时候可以直接将盒子搬走。\n\n### 一次性抹布\n\n![necessary_rag](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_rag.png)\n\n参考价格：¥ 0.4/张\n\n抹布多潮湿，可能容易滋生细菌。一次性抹布可以用完即扔，不用再清洁抹布，适合懒人。另外，可以加水作为「湿巾」与上面提到的「静电纸拖把」搭配使用。\n\n### 宜家房门挂衣钩\n\n![necessary_hanger_or_door](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_hanger_or_door2.png)\n\n参考价格：¥ 14.9/个\n\n宜家的这个[房门小挂钩](https://www.ikea.cn/cn/zh/p/enudden-an-nu-deng-fang-men-shi-gua-yi-gou-bai-se-40251666/)可以悬挂在门上，挂衣服、包等等，充分利用房间空间。\n\n### 宜家带架洗衣袋\n\n2![necessary_laundry_bag](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_laundry_bag2.png)\n\n参考价格：¥ 15.9/个\n\n宜家的这个[洗衣袋](https://www.ikea.cn/cn/zh/p/jaell-jia-er-dai-jia-xi-yi-yong-dai-bai-se-10171826/)可以盛放脏衣服，避免「脏衣服」与「干净衣服」混在一起，不用的时候可以折叠，附把手，可以方拿取、移动。\n\n### 宜家衣物储物单元\n\n![necessary_storage_case](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_storage_case2.png)\n\n参考价格：¥ 29.9~69\n\n宜家的[思库布储物单元](https://www.ikea.cn/cn/zh/search/products/?q=%E6%80%9D%E5%BA%93%E5%B8%83)可以帮助收纳衣服，上面有扣子可以悬挂，拓展空间，另外，可以按需灵活搭配单元格。不用或搬家时，可以折叠起来。\n\n### 电源收纳盒\n\n![necessary_power_box](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_power_box.png)\n\n参考价格：¥ 14.9/个\n\n现在大家的用电产品越来越多，各种充电线容易乱，这个电源收纳盒可以帮助收纳各种用电设备的电线，保持整洁的桌面。\n\n### 黑绝缘胶带\n\n![necessary_black_tape](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_black_tape2.png)\n\n参考价格：¥ 3.8/卷\n\n很多电子产品有指示灯，夜晚时分，灯光关闭，各种指示灯非常刺眼，黑绝缘胶带可以帮助遮住指示灯的强光。\n\n### 米家洗手机\n\n![necessary_dispenser](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_dispenser.jpg)\n\n参考价格：¥ 69/个\n\n依托强大的供应链整合能力，小米的[自动洗手机](https://www.mi.com/dispenser)物美价廉，可以自动感应出泡，方便洗手。另外，小米的洗手液不怎么样，可以用螺丝刀撬开瓶子的盖子填充自己喜欢的洗手液。\n\n## 收纳建议\n\n推荐近藤麻理惠的[《怦然心动的人生整理魔法》](https://www.books.com.tw/products/0010521950)和[《怦然心动的人生整理魔法2：实践篇．解惑篇》](https://www.books.com.tw/products/0010582986)，积极选择取捨，只留下让自己怦然心动的东西。以下是书中折衣服的方法：\n\n![necessary_clothes1](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_clothes1.jpeg)\n\n![necessary_clothes2](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_clothes2.jpeg)\n\n![necessary_clothes3](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_clothes3.jpeg)\n\n![necessary_clothes4](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_clothes4.jpeg)\n\n![necessary_clothes5](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_clothes5.jpeg)\n\n![necessary_clothes6](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_clothes6.jpeg)\n\n![necessary_clothes7](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_clothes7.jpeg)\n\n![necessary_clothes8](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_clothes8.jpeg)\n\n收纳空间实例：\n\n![necessary_room1](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_room1.jpeg)\n\n![necessary_room2](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_room2.jpeg)\n\n![necessary_room3](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_room3.jpeg)\n\n![necessary_qr](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/necessary_qr.JPG)\n\n"},{"title":"大国特色奇异技巧系列之三：联通光猫改桥接实现外网访问","url":"/modem/","content":"\n![modem_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/modem_cover.png)\n\n如果想要外网访问群晖或其他自己搭建的 Docker 等服务，比较好的方法是利用 DDNS 和端口映射，比其他方法稳定且快速，方法如下：\n\n## 光猫改桥接\n\n光猫最好改成桥接模式，用路由器拨号，这样可以少一层 NAT，并且不受限于自带光猫羸弱的硬件配置和残缺的软件功能。不同光猫改桥接方法不尽相同，以小弟住的地方的光猫是中兴 F627V2，如果和小弟同款，可以参考以下步骤：\n\n### 前期准备\n\n1、确保同型号、同地区\n\n小弟用的是北京联通，中兴 F627V2，外观如下：\n\n![modem_hardware1](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/modem_hardware1.png)\n\n![modem_hardware2](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/modem_hardware2.png)\n\n另外可以连接光猫的 WiFi 登录光猫后台查看型号：\n\n![modem_series](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/modem_series.png)\n\n2、备份好拨号用户名和密码\n\n建议保存好拨号用户名和密码，路由器拨号时需要使用。\n\n连接光猫的 WiFi（名称与密码在光猫背面），浏览器访问 http://192.168.1.1/hidden_version_switch.gch ，选 `Default version`，输入密码 CUAdmin，保存修改，\n\n![modem_switch](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/modem_switch.png)\n\n浏览器访问 http://192.168.1.1/cu.html ，选择「管理员账户」，\n\n![modem_admin](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/modem_admin.png)\n\n输入密码 `CUAdmin` 进入，选择「基本配置」，连接名称选择 `2_INTERNET_B_VID_0`，端口绑定勾选 `LAN1`，VLAN 模式选 `改写(tag)`，VLAN ID 填写 `3961`，点击「修改」。\n\n![modem_config](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/modem_config.png)\n\n输完后再检查一遍，确保输入正确。\n\n### 配置路由器拨号\n\n不同的路由器配置拨号不完全一样，以 OpenWrt 为例：\n\n在「网络」中选择「端口」，找到「WAN」口，点击「修改」，\n\n![modem_pppoe1](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/modem_pppoe1.png)\n\n协议选择「PPPoE」，填入拨号用户名和密码，点击「保存并应用」。\n\n![modem_pppoe2](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/modem_pppoe2.png)\n\n之后浏览器打开网址试试，正常打开说明配置成功。\n\n## 确保有公网 IP\n\n外网访问 NAS 需要公网 IP，判断是否有公网 IP 可以参照[这篇](https://hsk.oray.com/news/5928.html )。\n\n由于 IPv4 是稀缺资源（现已耗尽），公网 IP 大部分默认没有开通。如果没有公网 IP，可以打电话给运营商的客服，一般情况会有装网师傅再联系，说明开通公网 IP 即可，注意不要说搭服务器之类的黑话（需要知道，在世界上最富裕、最发达、最文明、最开放的國家，网站是需要「备案」的）。话术可以参考以下：\n\n> 话术参考 1：我想用光猫里的端口映射功能，请问是应该怎样操作。\n\n（一般师傅会推荐使用光猫自带的 DMZ 功能，贴心会发一个 PDF 说明文件，之后如果没开公网 IP 师傅会帮开公网 IP ）\n\n> 话术参考 2：我想给家里的网开公网 IP。\n\n（不想拐弯抹角也可以直接问，有些师傅会说公网 IP 是企业用的，费用很高，这时候说是那种临时公网 IP）\n\n## 设置 DDNS\n\nDDNS 即动态 DNS，方便我们的公网 IP 更换时仍可以指向我们的主机。设置 DDNS 最简单的方法是利用群晖的 DDNS（OpenWrt 也支持，比群晖稍繁琐）。\n\n打开群晖控制面板，找到「外部访问」，之后添加 DDNS，最简单的是选择群晖自带的 DDNS。\n\n![modem_ddns](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/modem_ddns2.png)\n\n## 配置端口映射\n\n设置好 DDNS 还需要配置端口映射，不同路由器配置方法不尽相同，大体相似，以 OpenWrt 为例：\n\n在「网络」中选择「防火墙」，找到「端口转发」，添加主机、内部端口、外部端口即可。\n\n![modem_port](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/modem_port.png)\n\n配置好之后可以用手机蜂窝网络访问 DDNS 域名:端口号，可正常访问说明配置成功。"},{"title":"这个手机来自过去——掌阅 F1/海信 A5 使用","url":"/eink/","content":"\n![eink_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/eink_cover.png)\n\n> It's time for a phone to save us from our phones.\n>\n> -- [Windows Phone commercial - \"Really?!\"](https://youtu.be/l9evyGr57hs)\n\n（9 月 10 日补充「关于打卡」）\n\n小弟最近入手一个手机，[掌阅 F1](https://item.jd.com/100012756284.html)，这个手机特别之处是屏幕是电子纸，另外还可以参与[打卡 0 元购买](https://sale.jd.com/m/h5/urbwvqmqh1qb.html)。手机是海信代工的，外壳打上了掌阅的标志，和去年出的「[海信 A5](https://item.jd.com/100009261640.html)」硬件配置相同，配置如下：\n\n![eink_hardware](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/eink_hardware.png)\n\n小弟用了一段时间这个手机，感觉还挺好的，以下是一些应用推荐：\n\n## 作为电子纸阅读器\n\n这个手机作为一个文字类电子纸阅读器还是可以的，5.84 英寸、276 ppi、158g，比 Kindle 便携、更容易装进口袋。由于是手机，故可插手机卡，支持 4G，在没有 WiFi 的地方可以通过蜂窝网络联网。另外，手机对电子纸屏幕有软件上的优化，包括底部导航键可以选择「清晰」「流畅」等模式、双击左侧按键可以强制刷新、设置应用内整页刷新等等。骁龙 439、4G 内存非高配，但对阅读类应用够用。\n\n注意：阅读类应用尽量调成白底黑字、无动画、高对比度，在电子纸屏幕显示效果最佳。\n\n### 读书应用推荐\n\n1、各电子书平台\n\n手机内置 Android 9 系统，可以安装各类 Android 应用。如果在其他电子书平台（如 [Readmoo 读墨](https://readmoo.com/)、[Kobo](https://www.kobo.com/)）有购买电子书，可以免转档直接安装相应应用使用（Google Play 图书无法使用）。\n\n2、Kindle\n\n如果有 Kindle 设备，可以装一个 Kindle 应用，与硬件 Kindle 或其他平台的 Kindle 阅读进度保持同步。\n\n另外，亚马逊中国自己魔改了 Kindle 应用，推荐安装 Google Play 的版本，64 位，无启动广告。\n\n3、Moon+ Reader\n\n阅读应用推荐 [Moon+ Reader](https://www.moondownload.com)，可以高度定制化，对阅读内的方方面面设置，包括字体、间距、翻页方式、调用 TTS 等等，甚至可以设置使用耳机音量键翻页。\n\n4、KOReader\n\n[KOReader](https://koreader.rocks/) 可以方便读一些图片类、扫描类 PDF 文档，能自动切边、重排（许多人给 Kindle 越狱或选 Kobo 阅读器而不选 Kindle 就是为了可以用 KOReader）。由于有更高的硬件配置，使用中，感觉比在 Kindle 上使用 KOReader 更流畅，少有卡顿情况。\n\n下图是同一个文档同一页重排前后效果对比：\n\n![eink_koreader](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/eink_koreader.png)\n\n另外，由于是电子纸屏幕，可以关闭「颜色渲染」功能，减少一点内存占用。\n\n### 借书应用推荐\n\n1、Libby\n\nKindle 可以在图书馆借书，但是需要美国借书证或美国实体手机号（Google Voice 号码不可以）。\n\n借助安装 [Libby](https://www.overdrive.com/apps/libby/) 应用，借书并在电子纸屏幕上阅读成为可能。[Libby](https://www.overdrive.com/apps/libby/) 是一个超酷的借书应用，与全世界大多数图书馆都有合作（其中包括中国），在上面可以很方便地借电子书或有声书。\n\n首先可以到下面列出的图书馆办一张借书证，得到卡号与密码（其中浙江图书馆可以在支付宝中在线申请）。\n\n![eink_china_list](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/eink_china_list.png)\n\n在 Libby 中找到对应图书馆，之后添加借书证就可以借书了，可借的包括英文书、中文书、有声书（带耳机标志）。\n\n![eink_libby](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/eink_libby.png)\n\n注意：大部分读者书图书馆只有几份数字拷贝，可能需要预定排队。另外，借书有数量限制，每个图书馆不同，默认一定期限内自动归还，也可以提早归还。\n\n2、Hyread\n\n[Hyread](https://ebook.hyread.com.tw) 是台湾图书馆借阅平台，中文书多，还包括很多热门的的书。大多数台湾的图书馆注册验证并不严格，在中国也能用（参见这位大大写的[攻略](https://www.facebook.com/groups/hyreadgaze/permalink/872978743174546/)）。\n\n注册成功后在 Hyread 中找到对应图书馆并填入用户名及密码。之后可以按照类别选书，也可以直接搜索书名或作者名。可借的有中文书、杂志，其中一些很夯的如《原子习惯》也有。大部分书也只有几份数字拷贝，想借需要预定。\n\nHyread 比较酷的一点是大部分书可以在线读（这个比 Libby 还要酷），一本书看到「Read now」按钮表示这本书可以在线读，这个有点类似在图书馆阅览书，但不借回家。借书时，有些书会消耗点数，有些不会，不同图书馆点数不尽相同。\n\n![eink_hyread](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/eink_hyread.png)\n\n### RSS 订阅\n\nRSS 订阅推荐 [Inoreader](https://www.inoreader.com)，可以多平台同步，方便将文章保存至 Evernote 等。\n\n### 那么，Kindle 呢\n\n论显示效果，小弟感觉 Kindle 在软件层面优化得更好一点，文字显示更锐利，不容易有类似残影，漫画显示也更清晰、屏幕显得更大。2：1 的屏幕比时每行可以容纳的字减少，眼睛需要更频繁上下跳转。另一方面，2：1 的屏幕比使手机很细长，更容易装进口袋。内置相对开放的 Android 可以安装各种阅读类应用，作为 Kindle 的一个补充。\n\n![eink_compare](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/eink_compare.JPG)\n\n## 作为音乐播放器\n\n这个手机视频体验不优，但当一个音乐播放器，连接音箱还是不错的。小弟连的是 Google Home Mini，手机不支持使用 Google Home 应用连接 Chromecast，但是可以蓝牙连接。使用中，蓝牙连接较稳定，也支持各种语音指令，如「pause」「continue to play」「next」等等。\n\n### 网易云音乐\n\n网易云音乐配合 [UnblockNeteaseMusic](https://github.com/nondanee/UnblockNeteaseMusic) 解锁脚本可以听大多数音乐。建议安装[网易云音乐 v4.0.0](https://www.wandoujia.com/apps/293217/history_v90)，没有花里胡哨的功能、资源占用小。 \n\n### Youtube\n\nYoutube 有很多官方或个人上传的 MV 视频，基本覆盖所有已发行的音乐， Youtube 也可以做一个音乐播放工具。一个问题是，小弟目前不知道怎么给这个手机安装 Google 框架，官方的 Youtube 没法使用。小弟安装了一个改版的 Youtube，[YouTube Vanced](https://vanced.app/)（感谢 Xin Yee 推荐），免 Google 服务，另外可以去广告，还有后台播放。\n\n### Spotify\n\n如果没有 Spotify Premium，可以到 [MODDROID](https://moddroid.com/) 下载一个修改版的 Spotify ，可以去广告、无限切歌。不过，比较尴尬的是， Spotify 在这个手机上显示黑乎乎一片，看起来有一点吃力。\n\n![eink_music](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/eink_music.png)\n\n## 作为学习手机\n\n这个设备和 Kindle 不同之处在于，可以作为手机使用。小弟觉得这个手机很适合作为想学习的人，需要手机的一些便利，但是又不希望沉迷在视频、社交等应用，某种程度可能是一个「save us from our phones」的手机。\n\n### 优点\n\n作为一个手机，这个手机在系统上做了优化，包括上划、左划、下划全局手势，还为电子纸屏幕的优化，不用操心的后台自动清理、等等，以及一些贴心的新功能，如分屏、息屏手势、两指识别等。\n\n手机自带的应用也相对很完善，拨号内置了 T9 拨号，也有类似冰箱的应用，甚至有一个语音助手。\n\n手机电池容量够，加上电子纸屏幕耗电少，待机时间长。\n\n### 缺点\n\n由于 E-Ink 屏幕限制，手机屏幕对视频、动效显示不佳，另外，有些暗色系应用看起来有些吃力。\n\n另外一个是小弟没有正常安装使用 Google 框架（应该可以使用，但小弟没找到方法），依赖 Google 框架的应用用不了，手机可用性大大降低。\n\n另外，手机 WiFi 只支持 2.4GHz，有点遗憾。\n\n### 应用推荐\n\n这个手机自带的应用还挺完善的，拨号内置了 T9 拨号，也有类似冰箱的应用，甚至有一个语音助手。\n\n1、卸载自带垃圾应用\n\n**方法一：**\n\n系统自带应用大多数可以禁用卸载，浏览器与自带应用市场需要 ADB 连电脑禁用或删除，方法如下：\n\n① 电脑端装好 ADB 工具；\n\n② 在手机「设置」→「关于手机」→「Kernel 版本」中连按 7 次，打开「开发者选项」；\n\n③ 在手机「设置」→「其他设置」→「开发者选项」中，打开「USB 调试」；\n\n![eink_adb](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/eink_adb2.png)\n\n④ 手机 USB 连接电脑，并允许 USB 调试；\n\n⑤ 打开系统终端机，输入 `adb shell`，进入 adb 命令环境， `pm disable-user  --user 0 应用包名` 可以禁用应用，`pm uninstall  --user 0 应用包名` 可以卸载应用。\n\n如：禁用浏览器和自带应用市场可以输入：\n\n```\n浏览器 pm disable-user  --user 0 com.android.browser\n应用市场 pm disable-user  --user 0 com.hisense.hiphone.appstore\n```\n\n卸载浏览器和自带应用市场可以输入：\n\n```\n浏览器 pm uninstall  --user 0 com.android.browser\n应用市场 pm uninstall  --user 0 com.hisense.hiphone.appstore\n```\n\n不知道包名，可以安装 LibChecker 或 Package Names（可在 Google Play 搜索下载）。\n\n**方法二（免电脑，推荐）：**\n\n安装 [App Manager](https://f-droid.org/packages/io.github.muntashirakon.AppManager/) （可在 [F-Droid](https://f-droid.org/) 下载），这个应用可以模拟 ADB，安装好后找到要禁用或卸载的应用即可，免电脑操作，推荐。\n\n![eink_app-manager](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/eink_app-manager.png)\n\n2、浏览器\n\n浏览器推荐 [Alook](https://www.coolapk.com/apk/alook.browser) 是一个好用的浏览器，可以倍速、小窗、后台播放，小窗播放视频等等，贴心功能很多。\n\n3、应用市场\n\nGoogle Play 里的应用都是 64 位，可以更好发挥硬件性能、更省电。另外，Google Play 里的应用都经过 Google 审核，相对更安全，是应用市场首选。\n\n由于小弟没安装成功 Google Play，所以只能用第三方应用市场，如 [Aurora Store](https://auroraoss.com/downloads.php) （基于 Google Store API 构建，可以登录 Google 账号，推荐）、 [APKPure](https://apkpure.com)（可以直接使用网页版）、[APKMirror](https://www.apkmirror.com/)（仅网页版）。\n\n如果有下载国内应用需求，可以使用[酷市场](https://www.coolapk.com/)（推荐 [v6.0.1](https://www.wandoujia.com/apps/998339/history_v1601131) 版本，够用，没有乱七八糟的功能）。\n\n另外可以安装 [F-Droid](https://f-droid.org/)，里面的应用都是开源的。\n\n4、Wormhole\n\n[Wormhole](https://er.run) 可以方便在电脑查看、控制手机，可以直接在电脑键盘操作、输入文本等。\n\n![eink_pc](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/eink_pc7.png)\n\n5、AirDroid\n\n[AirDroid](https://www.airdroid.com) 可以方便在电脑浏览器控制、管理手机，传输文件等等。\n\n6、欧路词典\n\n[欧路词典](https://www.eudic.net/v4/en/app/eudic)是一个好用的词典应用，支持 MDX 格式的词典，可以剪贴板取词，跨应用全局使用。\n\n7、Telegram\n\n[Telegram](https://telegram.org/) 作为一个即时沟通工具没话说，占用资源极少，运行超流畅，各种好玩的贴纸，不用担心泄露隐私。另外可以作为在其他设备传输工具，方便传输文本、文件等。\n\n另外，Telegram 借助 [ehForwarderBot](https://github.com/blueset/ehForwarderBot) 这个小工具，可以作为一个微信客户端，界面美观、现代，启动迅速，运行流畅，可无限多端登录，信息全云端存储，不用担心臃肿的垃圾微信信息占用宝贵的存储空间。\n\nTelegram 可以自定义皮肤，建议将消息背景、气泡等调成黑白获得更好的显示。\n\n![eink_telegram_mini](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/eink_telegram_mini2.jpg)\n\n8、讯飞输入法\n\n手机系统自带[讯飞输入法](https://srf.xunfei.cn/)，也支持超酷的无需切换直接手写功能，使用时手写笔迹有些延时。自带的功能较精简，可以选择升级（建议安装 Google Play 的 版本，64 位），升级后会比自带的臃肿，但是功能也会多一点，升级后小弟比较喜欢的功能有：① 按键有振动反馈，更有打字的感觉；② 可以安装剪贴板插件，方便管理剪贴板。 \n\n推荐使用「无缝线框·浅色」这款皮肤，在电子纸屏幕显示更清楚。\n\n9、Overdrop\n\nOverdrop 是一款天气应用，可以设置白底黑字、无动画显示，在电子纸屏幕上获得较好的天气体验。\n\n![eink_weather&tts](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/eink_weather&tts.png)\n\n10、Google Text-to-speech Engine\n\nGoogle 有把文字转语音引擎单独打包，可以直接安装，在需要 TTS 的应用（如 Moon+ Reader）中使用。\n\n11、乐播投屏\n\n这个手机投屏协议是 Miracast，没法使用 Google Home 这个应用，所以没法使用 Chromecast 投屏。可以安装[乐播投屏](https://www.hpplay.com.cn/)进行投屏（电视或盒子端、手机端均需安装），推荐安装 [v3.2.14 版本](https://m.wandoujia.com/apps/6651787/history_v30214)，体积小，免注册。\n\n## 关于打卡\n\n（9 月 10 日补充）\n\n这个手机可以[打卡 0 元购买](https://sale.jd.com/m/h5/urbwvqmqh1qb.html)，大体规则是在「掌阅精选」应用阅读 30 分钟，打卡 180 天可返购机款。有大大写了 Auto.js 脚本，可帮助完成打卡。\n\n首先下载 [Auto.js V4.0.1 Beta](https://drive.google.com/file/d/11qGDEPZZnrfgVoY3xW5bg-eGGAEkLANz/view?usp=sharing)（最后一个免费版本，最新版本需付费），允许无障碍权限，新建脚本，输入以下内容并保存：\n\n```javascript\n//等待无障碍服务开启\nauto.waitFor();\n//启动掌阅精选\napp.startActivity({\n    packageName: 'com.zhangyue.read.iReader',\n    data: 'zyireaderpro://home'\n});\n//打开书籍\nvar bookList = selector().id('bookshelf_all_recyclerview').findOne()\nvar book0 = bookList.child(1); // child0是空白的view，跳过。\nbook0.click();\n//进度展示\nvar readMinutes = 0;\nvar tipWindow = floaty.window(\n    <frame gravity=\"center\">\n        <text id=\"text\">本次已阅读0分钟</text>\n    </frame>\n);\ntipWindow.setPosition(360,10);\nfunction updateTip(){\n    tipWindow.text.setText('本次已阅读'+readMinutes+'分钟');\n}\n//定时翻页\nconst width = device.width;\nconst height = device.height;\nfunction nextPage(){\n    var random = (Math.random()*2 + 7)/10;\n    var x = width*random;\n    var y = height*random;\n    click(x,y);\n}\nvar count = 30;\nvar stopAfter31m = true;\nwhile (count > 0){\n    var random123 = Math.floor(Math.random() * 3);\n    sleep(1000 * 61 * random123);\n    nextPage();\n    count -= 1;\n    readMinutes += random123;\n    ui.run(updateTip);\n    if (stopAfter31m && readMinutes > 31){\n        break;\n    }\n}\n//关闭书籍\nback();//不需要退出掌阅精选，H5Bridge需要向它获取数据。\n//启动打卡应用H5Bridge\napp.startActivity({\n    action: 'hmct.intent.action.H5BRIDGE'\n});\nsleep(5000);\nclick(677,810);//刷新时长\nsleep(5000);\nvar button = selector().className('android.widget.Button')\n                        .text('立即打卡');\nif (button.exists()){\n    button.findOne().click();\n} else {\n    log('button not found');\n}\n```\n\n使用脚本过程确保联网、电量充足。另外，系统升级可能会造成脚本失效，建议关闭系统更新。\n\n![eink_script](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/eink_script.png)\n\n![eink_clock](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/eink_clock.jpg)\n\n\n\n"},{"title":"谈谈电子书 DRM","url":"/drm/","content":"\n![drm_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/drm_cover.png)\n\n> 藏天下於天下。\n\n2007 年，乔布斯希望唱片公司废除音乐的 DRM（数字版权管理），这样 iTunes 上销售的音乐可以就可以在所有设备上播放。这个倡议推动了音乐平台的 DRM 改革，几年过后，线上一首首卖歌逐渐被订阅制听歌取代\n\n电子书市场的 DRM 似乎和音乐市场不太一样，出版社众多，看到饱的订阅制无法覆盖每一本书，一本本购书是主流。一个问题是，DRM 是防盗版的好办法吗？DRM 好处会大于坏处吗？\n\n有位大大曾有过 [DRM-free 的实验](https://bookfere.com/post/380.html)，其中的观点如下：1.有了盗版，书籍销售不降反升；2.去 DRM 对程序员并不费劲；3.盗版是一个宣传、评估内容受欢迎的一种方式。\n\n已经购买了正版电子书，可以在不同平台、不同设备可以不受限阅读，小弟认为这没有不对的地方，以下是几种电子书平台去电子书的 DRM 的方法：\n\n## Amazon 电子书\n\n中亚、美亚、日亚等电子书去 DRM 方法相同。Amazon 电子书在 Windows 下去 DRM 最方便，\n\n1、下载安装 [calibre](https://calibre-ebook.com/)，\n\n2、下载 [DeDRM_tools](https://github.com/apprenticeharper/DeDRM_tools/releases)，解压，\n\n3、打开 calibre，在工具栏中找到「偏好设置」，\n\n![drm_win1](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/drm_win1.png)\n\n在偏好设置中找到「插件」，\n\n![drm_win2](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/drm_win2.png)\n\n选择「从文件导入」，选择文件 `DeDRM_Plugin.zip`，安装并重启 calibre，\n\n![drm_win3](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/drm_win3.png)\n\n4、下载安装旧版 [Kindle for Windows v1.17](https://www.epubsoft.com/soft/kindle-for-pc.html)，\n\n5、登录亚马逊账号，下载要去 DRM 的电子书，\n\n6、在路径 `C:/Users/user name/Documents/My Kindle Content` 下找到后缀名为 `azw` 的电子书文件，将文件拖入 calibre，此时已经去好 DRM 了，可以进一步转成 mobi 或 epub 格式。\n\n\n## Kobo 电子书\n\nKobo 电子书在 Windows 和 macOS 下均可去 DRM，\n\n1、下载安装 [calibre](https://calibre-ebook.com/)，\n\n2、下载 [DeDRM_tools](https://github.com/apprenticeharper/DeDRM_tools/releases)，解压，\n\n3、打开 calibre，在工具栏中或菜单栏中的「文件」中找到「偏好设置」，在偏好设置中找到「插件」，\n\n![drm_mac1](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/drm_mac1.png)\n\n选择「从文件导入」，\n\n![drm_mac2](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/drm_mac2.png)\n\n选择文件 `DeDRM_Plugin.zip`，之后选择文件 `Obok_plugin.zip`，安装并重启 calibre，安装成功后工具栏会看到 Obok DeDRM 图标，\n\n![drm_mac3](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/drm_mac3.png)\n\n3、下载安装 [Kobo 桌面客户端](https://www.kobo.com/us/en/p/desktop)，\n\n4、登录 Kobo 账号，下载要去 DRM 的电子书，\n\n5、打开 calibre，在工具栏中点击「Obok DeDRM 图标」，可以看到 Kobo 中的电子书，点击「好」可以汇入，汇入之后即去 DRM，之后可以将电子书转成 mobi 或其他格式。\n\n![drm_calendar_min](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/drm_calendar_min.JPG)"},{"title":"大国特色奇异技巧系列之二：Telegram 收发微信消息","url":"/ehforwarderbot/","content":"\n![ehforwarderbot_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/ehforwarderbot_cover.png)\n\n![ehforwarderbot_ui](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/ehforwarderbot_ui.png)\n\n不鳥萬如一老师曾讨论过[关于微信](https://blog.yitianshijie.net/2018/02/27/2nd-anniversary-of-ditching-wechat/)，小弟很赞成其中的观点。微信可以成功，和防火长城关系密切。[Telegram](https://telegram.org/) 是一款在功能及体验上远超微信的即时聊天工具，关于 Telegram 的传奇故事可以参见[这篇](https://www.tmtpost.com/1443098.html)。\n\n[EH Forwarder Bot](https://github.com/blueset/ehForwarderBot) 是一位大大开发的一个消息隧道聊天机器人框架，可将一个平台的消息转到另一个平台，其中包括将微信消息转发至 Telegram。\n\n这个小工具可以将 Web 端的微信消息转发至 Telegram，这样做有几个好处：1、使用更现代的 Telegram 聊天界面收发微信消息；2、聊天记录在 Telegram 云备份一份；3、得益于 Telegram 优秀的跨平台特性，可以更方便多平台使用微信；4、 Telegram 的某些功能，如超多的贴图、定时发信息等也可以使用。\n\n使用 EH Forwarder Bot 微信消息转至 Telegram 需要准备：1、可以连外网的 VPS 或连外网的群晖（推荐）；2、两个 Telegram 账号；3、确保微信可以正常登录 Web 端。\n\n## 配置 Telegram 机器人\n\n### 创建 Telegram 机器人\n\n首先创建一个新的 Telegram 机器人，打开 Telegram 应用，与 [@BotFather](https://t.me/BotFather) 开始对话，\n\n发送 `/start` ，可以看到各种指令及简要说明，\n\n发送 ` /newbot ` 创建一个新机器人，之后会询问机器人的名字及机器人的用户名，根据提示输入即可。\n\n之后会返回机器人的 token，记下备用。\n\n### 配置 Telegram 机器人\n\n接下来配置刚刚建立的 Telegram 机器人，\n\n发送 `/setprivacy` 至 @BotFather，选择刚刚建立的机器人，设置为 `Disable`，\n\n发送 `/setjoingroups` 至 @BotFather，选择刚刚建立的机器人，设置为 `Enable`，\n\n发送 `/setcommands` 至 @BotFather，选择刚刚建立的机器人，回复以下内容：\n\n```\nhelp - 显示命令清单\nlink - 连接对话到 TG 群组\nunlink_all - 解除群组中所有对话的连接\ninfo - 显示当前对话的详细信息\nchat - 创建对话\nrecog - 回复语音消息以进行识别\nextra - 获取更多功能\nupdate_info - 更新组群名字及头像\n```\n\n### 获取 Telegram ID\n\n之后获取自己的 Telegram ID，与 [@get_id_bot](https://t.me/get_id_bot) 对话，发送 `/start`，获得的一串数字即为自己的 ID，记下这串数字备用。\n\n## 配置 Docker\n\n首先确保 VPS 或群晖可以连外网，Telegram 目前需要连外网才能用。另外，有些 VPS 可能触发微信的异地登录，导致登录 Web 端微信失败（小弟有尝试在谷歌云上搭建，最后导致禁止 Web 端登录微信），相对比较安全且稳定的是在连外网的群晖上搭建。\n\n小弟使用的是[这个大大的 Docker](https://hub.docker.com/r/jemyzhang/ehforwarderbot)。首先新建存放这个 Docker 的文件夹，文件夹依照下面的层级结构建立好子文件目录：\n\n```\n📂profiles\n└── 📂default\n    ├── 📂blueset.telegram\n    │   └── config.yaml\n    ├── 📂blueset.wechat\n    └── config.yaml\n```\n\n其中，`profiles/default/config.yaml` 这个文件输入以下内容：\n\n```\nmaster_channel: blueset.telegram\nslave_channels:\n  - blueset.wechat\n```\n\n`profiles/default/blueset.telegram/config.yaml` 这个文件中输入机器人的 token 和 Telegram ID，\n\n```\ntoken: \"123456789:ABCD_1-1A2BASDFA_ASFASDFASDFASDFASF\"\nadmins:\n- 1234567\n```\n\n打开群晖 Docker ，在「注册表」标签卡中搜索「ehforwarderbot」，找到「jemyzhang/ehforwarderbot」下载映像，\n\n![ehforwarderbot_reg](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/ehforwarderbot_reg.png)\n\n待下载完成，在「映像」标签卡中点击「启动」，选择「高级设置」，在「路径」选项卡中选择存放配置文件的路径，挂载路径填写 `/data`，\n\n![ehforwarderbot_dir](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/ehforwarderbot_dir.png)\n\n之后启动容器，在「日志」或「终端机」中可以看到微信登录二维码，可以复制网址到浏览器，微信扫描二维码登录，登录成功日志会有显示，Telegram 可以收到微信的消息。\n\n![ehforwarderbot_qr](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/ehforwarderbot_qr.png)\n\n## 使用 \n\nWeb 端支持的文字、语音、文件都可以转发至 Telegram，红包、定位、朋友圈等 Web 端没有的功能不支持。\n\n### 直接回复\n\n默认会将所有微信 Web 端的消息汇总至一个消息框中，想要回复可以直接发送命令`/chat`，选择要回复的联系人或群组，之后右滑返回的消息回复即可。另外还支持 `/chat 关键词` 快速定位要回复的联系人或群组。\n\n### 分组对话\n\n如果某个联系人或群组，可以首先用两个 Telegram 账号新建一个空白群组，之后向机器人发送命令 `/link` 将某个联系人或群组连接至空白群组，也支持 `/link 关键词` 快速链接联系人或群组，之后选择空白群组，链接好之后就可以实现消息分组。\n\n### 酷功能\n\n#### 超酷贴图\n\nTelegram 有很多不错的贴图，还有很多从 Line 移植过来的贴图，比微信的贴图精致很多，其中静态贴图可以直接发送至微信，动态贴图可以借助 [Sticker download](https://t.me/Stickerdownloadbot) 这个机器人将动态贴图转成 GIF 发送。\n\n#### 定时发送\n\nTelegram 支持定时发送信息，这个也支持。\n\n"},{"title":"大国特色奇异技巧系列之一：群晖 Docker 接管百度网盘","url":"/baidupan/","content":"\n![baiduyun_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/baiduyun_cover.png)\n\n21 世纪的欧亚大陆，天下第一超级大国有一项领先全球的科技创举，这项独步世界的先进技术可以对处在水深火热地区传播落后、低级思想的网站或应用进行屏蔽封锁。事实证明，科技创新力量大，国内的同类应用在缺少害虫的情况下，逐渐成长成问鼎天下的巨无霸，其中不乏微信、百度这样的忧质、业界凉心应用。\n\n都说科技使人变懒退步，这种事情在神奇的超级大国不会发生，我们的聊天工具有内置不允许自有生态链以外、可能会随时打不开朋友发来的链接的超级浏览器，我们有下载速度几乎为零的优秀网盘工具。因为这些优质工具，我们需要「用浏览器打开」等操作，让人动手又动脑，一举解决世界性重大科学难题——人类科技使人变懒的魔咒。\n\n人人努力上进，偏偏有人退步，「大国特色奇异技巧系列」这个系列介绍国内忧秀应用的退化降级版，帮助大家识别辨认。\n\n百度网盘是闻名全球的网盘工具，创新性地突破重大技术难关、实现 100M、200M、300M 带宽下下载速度为零，网纷纷按赞业界良心，有些人还感受到了愤怒拍桌后手疼的酥麻感觉。\n\n[baidunetdisk-crossover-vnc](https://hub.docker.com/r/johnshine/baidunetdisk-crossover-vnc) 是一位大大开发的百度网盘下载工具，将虚拟机系统和 VNC 客户端打包至一个 Docker 中，可以帮助高速、稳定下载百度网盘的文件。\n\n## 搭建\n\nbaidunetdisk-crossover-vnc 比较适合装在群晖 Docker 中，首先打开群晖 Docker ，在「注册表」中搜索「baidunetdisk」，之后下载映像，\n\n![baiduyun_reg](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/baiduyun_reg.png)\n\n待映像下载完映像后在「映像」中找到「baidunetdisk-crossover-vnc」，点击「启动」，选择「高级设置」，\n\n![baiduyun_img](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/baiduyun_img.png)\n\n默认占用 5901 端口，可以在「端口设置」中根据需要修改，\n\n![baiduyun_port](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/baiduyun_port.png)\n\n在路径中选择存放下载文件的路径，挂载路径填入`/home/baidu/baidunetdiskdownload/`，\n\n![baiduyun_dir](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/baiduyun_dir.png)\n\n设置好之后启动容器。\n\n另：如果感觉 Docker 设置起来麻烦，也可以直接使用群晖套件安装，在[这里](https://github.com/john-shine/synology-baiduNetdisk-package/releases)下载后缀为 `spk` 的群晖套件文件，打开群晖套件中心，点击「手动安装」\n\n![baiduyun_spk](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/baiduyun_spk.png)\n\n## 使用\n\n可以事先先将待下载的文件转存至百度网盘账号内，访问网址 `http://群晖 IP:自定义的端口号`即可使用百度网盘客户端，首先登录，找到要下载的文件下载，文件会下载至预先设置的文件夹内。小弟使用中速度平均在几兆/秒，最慢也在 100K 左右，相对较稳定。\n\n![baiduyun_ui](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/baiduyun_ui.png)\n\n## 客户端推荐\n\n如果只是需要看百度网盘的视频或音频，可以尝试使用在线播放。\n\n### 电脑端\n\n电脑端可以使用网页版百度网盘在线播放视频、视频。推荐使用 Firefox 浏览器，自带倍速播放。\n\n### 手机端\n\n手机端不建议使用臃肿的官方客户端，代码质量差、广告多。可以安装 ES File Explorer，百度发力海外市场的应用，支持挂载百度网盘，可以直接播放百度网盘中的视频、音频，支持倍速播放。iOS 可直接 App Store 搜索安装，Android 建议到 [MODDROID.COM](https://moddroid.com/es-file-explorer.html) 下载修改版，解锁付费功能（不建议付费入正版）。"},{"title":"解锁网易云音乐变灰歌曲——送给男女朋友的音乐礼物","url":"/163music/","content":"\n![163-music_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/163-music_cover2.png)\n\n[UnblockNeteaseMusic](https://github.com/nondanee/UnblockNeteaseMusic) 是一位大大开发的小工具，可以帮助解锁[网易云音乐](https://music.163.com)客户端变灰歌曲，主要原理是通过其他音源（如酷我等等）替换变灰歌曲。\n\n## 使用路由器\n\nUnblockNeteaseMusic 有 OpenWrt 端，参见[这里](https://github.com/project-openwrt/luci-app-unblockneteasemusic)或[这里](https://github.com/maxlicheng/luci-app-unblockmusic)。如果已经在用软路由，可以直接刷已经内置 UnblockNeteaseMusic 的固件，固件可以自己编译或者到[恩山论坛 x86 区](https://www.right.com.cn/forum/forum-169-1.html)找其他大大编译好的（小弟用的是[这个](https://www.right.com.cn/forum/thread-3708606-1-1.html)）。\n\n刷好固件后进入路由器后台，找到「解锁网易云灰色歌曲」启用保存即可，另外还可以选择解锁程序或者音源等等。\n\n![163-music_openwrt](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/163-music_openwrt.png)\n\n启用后，路由器自动分流解锁，大部分设备无需配置即可使用。iOS 设备需要先安装[这个证书](https://raw.githubusercontent.com/nondanee/UnblockNeteaseMusic/master/ca.crt)，之后在设置 > 通用 > 关于本机 > 证书信任设置，信任证书（参见[官方教程](https://support.apple.com/zh-cn/HT204477)）。macOS 下载[这个证书](https://raw.githubusercontent.com/nondanee/UnblockNeteaseMusic/master/ca.crt)，参照[这里](https://blog.51cto.com/viming/2161919)信任证书。如果想在电脑浏览器中使用，可以额外安装 Tampermonkey 插件的 [NeteaseMusic UI Unlocker](https://greasyfork.org/zh-CN/scripts/382285-neteasemusic-ui-unlocker) 脚本。\n\n解锁是否成功可以在网易云音乐搜索没有版权的歌曲。如「周杰伦 晴天」，如果可以正常播放说明解锁成功。\n\n在软路由上使用可以兼顾科学上网与解锁音乐，设备也可免过多配置，很方便。\n\n## 群晖 Docker 搭建\n\n另外还可以在群晖 Docker 上安装。打开群晖 Docker，在「注册表」中搜索「unblockneteasemusic」，\n\n![163-music_reg](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/163-music_reg.png)\n\n待映像下载完映像后（群晖会有系统通知），在「映像」中找到「UnblockNeteaseMusic」，点击「启动」，选择「高级设置」，\n\n![163-music_image2](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/163-music_image2.png)\n\n脚本默认使用 8080 端口，可以在「端口设置」中根据需要填写，\n\n![163-music_port](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/163-music_port.png)\n\n在「环境」中输入命令 `-s -e https://music.163.com` ，其中 `-s` 参数是限制仅网易云音乐所属域名的请求走代理，`-e` 参数是设置转发音源的域名，确保 iOS 端可以用，具体参见[这里](https://github.com/nondanee/UnblockNeteaseMusic/issues/368)的第 2 点。\n\n![163-music_command](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/163-music_command.png)\n\n设置好之后启动容器。\n\n使用时各端需要在 WiFi 配置中填入 PAC 代理脚本地址 `http://<群晖 IP:端口号>/proxy.pac`，参见下面：\n\n| 平台    | 基础设置                              |\n| ------- | ------------------------------------- |\n| Windows | 设置 > 工具 > 自定义代理 (客户端内)   |\n| UWP     | Windows 设置 > 网络和 Internet > 代理 |\n| Linux   | 系统设置 > 网络 > 网络代理            |\n| macOS   | 系统偏好设置 > 网络 > 高级 > 代理     |\n| Android | WLAN > 修改网络 > 高级选项 > 代理     |\n| iOS     | 无线局域网 > HTTP 代理 > 配置代理     |\n\n和路由器端一样，iOS 设备使用时需要先安装[这个证书](https://raw.githubusercontent.com/nondanee/UnblockNeteaseMusic/master/ca.crt)，之后在设置 > 通用 > 关于本机 > 证书信任设置，手动信任证书（参见[官方教程](https://support.apple.com/zh-cn/HT204477)）。另外，macOS 设置代理无法使用，有大大有用 Proxifier 成功的，参见[这里](https://www.sheyilin.com/2019/06/unblockneteasemusic/)。\n\n可以在群晖中设置好 DDNS 、路由器中设置一个端口转发规则，这样就可以在外面的 WiFi 中使用了。\n\n以上仅限于 WiFi 下使用，蜂窝网络使用及 WiFi 下与科学上网共存，小弟没有研究。另外，这个脚本还有衍生项目，参见[这里](https://github.com/nondanee/UnblockNeteaseMusic/issues/233)。\n\n## 其他几个听音乐的地方\n\n如果不想折腾软路由、群晖，也不愿在服务器或本地电脑上折腾，可以试试以下方法：\n\n### YouTube\n\n在 YouTube 上几乎可以找到所有歌曲（除非太过于冷门）的 MV，如果想听某首歌，可以直接到 YouTube 搜索。用 YouTube 听音乐也有限制，想听多首歌需要建好播放清单，电脑端不支持后台快捷键切歌、手机客户端非 YouTube Premium 会员无法后台播放。\n\n### Listen 1 浏览器插件\n\n[Listen 1](https://github.com/listen1/listen1_chrome_extension) 是一个电脑浏览器插件，支持 Chrome、Firefox，可以支持多个音乐平台搜索歌曲，可以做一个电脑端的备选。\n\n![163-music_1listen](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/163-music_1listen.gif)\n\n"},{"title":"学习这件小事","url":"/ultralearning/","content":"\n![ultralearning_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/ultralearning_cover.png)\n\n最近一本书很火爆，多个中文书排行榜都有，名字是《[超速学习](https://www.books.com.tw/products/0010855836)》。作者是一个学习神人，曾经一年学完 MIT 计算机四年课程，一年学会四门语言，一个月学会素描肖像。\n\n除了书中作者提供的很多关于学习的实用锦囊，读这本书中另一个理由是通过作者的经历让我们重新审视人生的各种可能性，同时提醒我们在实现目标过程中重新重视方法的重要性。\n\n作者在书中提炼出「超速学习」九大法则给我们参考：\n\n## 1、后设学习\n\n先画一张学习地图，先学习如何学习想进行的主题或技能。后设学习研究拆解成三个问题：「为什么」「做什么」「怎么做」\n\n### 为什么\n\n了解学习动机，确定学习某个主题是否可能带来想要的效果。\n\n### 做什么\n\n了解需要取得的知识与能力。把事情拆解成概念、事实与程序，标出将面对的障碍、如何用最好的方法去克服。\n\n### 怎么做\n\n先找出人们学习那个技能或科目的共同方式，再对其进行修改。在开始之前，投入预期全部学习时间的百分之十在研究后设学习上。\n\n## 2、专心致志\n\n把刀磨利，培养专注的能力。在专注度上会遇到的困难，主要有：无法开始、无法维持、无法做到真正的专注。\n\n### 无法开始\n\n承认一件不愿意去做的大部分是不愉快的，说服自己撑过最不愉快的几分钟再休息。当卡在某个更初阶、更基本的问题时，不要试图转移到追求另一个更困难的目标上。若执行计划时不再受到严重拖延症所扰，可以改用一份行事历，特地挪出一天时间来执行计划。\n\n### 无法持续专注（即分心）\n\n有三个不同原因会导致分心现象：\n\n1.环境，有没有把手机关掉？是不是可以上网、看电视或玩游戏？\n\n2.学习任务，有些活动因其本质，就是比其他活动要难以让人专注。有时可以稍稍修改一下正在做的事，让专注力更强。\n\n3.负面情绪，「让它升起，注意它，释放它，或让它走」，而非压抑情绪，可能会减少分心。\n\n### 无法做到真正的专注\n\n专注力与「兴奋感」与「工作复杂度」有关，应该透过自我测试，找出什么方式对维持自己的专注力最有效。\n\n## 3、直截了当\n\n走最短的路，勇往直前。透过实际去做想擅长的事来学习，而不要用其他比较方便或舒服的任务来取代。\n\n### 以计划为基础的学习\n\n选择制定计划，而非课程来学习需要的技能。这样至少保证会学到如何制作出那个东西，如果只是上课，可能会花很多时间记笔记与读书，但不会达到想要的目标，比如可以透过创作电脑游戏来学习编程。\n\n### 沉浸式学习\n\n让自己身处实行那项技能的目标环境的过程，让自己完全暴露在真实情境中，如藉着让自己完全沉浸在说某种语言的环境中学习语言。\n\n### 飞行模拟法\n\n专注在认知特征，并提取出储存在脑中的知识。当不可能直接练习的时候，只要模拟认知学习环境，也能达到效果，如学习驾驶飞机。\n\n### 矫枉过正法\n\n增加挑战性，让设定的目标完全包含所需的技能，把自己放到一个要求极高的环境中或把目标放在一个会高于自己必备技能水准的测验、演出或挑战。\n\n## 4、反复操练\n\n直击最大的弱点，要坚决改善最大的弱点，把複杂的技能拆解成一个个小部分，精通每一部分，再组合起来。\n\n### 切割时间法\n\n把一连串较长行动中的一小段时间独立出来，加以练习。\n\n### 认知练习法\n\n有时想练习的不是一项大技能的一小部分时间，而是一个特定的认知要素。找个只操练一项要素的方法，加以练习。\n\n### 模仿法\n\n透过直接复制技能中不想操练的部分，只专注在想练习的要素上。\n\n### 放大镜法\n\n在想学会的技能的其中一个要素，花上比其他要素更多的时间。\n\n### 连动法\n\n从一项没有任何必备条件的技能开始学习，当不可避免地做得不好时，往回退一步，去学其中一个基本主题，再重复操练。\n\n## 5、提取记忆\n\n用测验来学习，测验不只是评估知识，也是创造知识的方式。在觉得有信心之前就自我检验，督促自己主动回想，而非被动复习。\n\n### 快闪卡\n\n适合对特定类型的记忆提取，当需要记住资讯的情境变动很大时，快闪卡练习可能会有缺点。\n\n### 自由回想法\n\n在读完一本书的某个部分，或听完一节课之后，在一张白纸上试着写下所有能记得的内容。\n\n### 试题簿法\n\n把记录下来的东西，改写成以后要回答的问题。限制在一个文本的每个部分只写一个问题，强迫自己确实了解重点并改写，而非强调了某个不重要的细节。\n\n### 自创的挑战\n\n可以在阅读被动教材时，为自己创造以后要解决的挑战。或者可以在接触到一个新技巧时写注记，用一个实际的例子来说明那种技巧。\n\n### 合上书本学习法\n\n借着不让自己查阅来源，让资讯储存在脑中。\n\n## 6、意见回馈\n\n别闪避重拳，回馈是严厉且不舒服的，要懂得如何利用它，别让自尊心妨碍了自己。从杂音中萃取出讯号，如此就会知道哪里该注意、哪里该加以忽略。\n\n### 几种反馈类型\n\n1. 结果型回馈：做错了吗？结果型回馈能透过几种不同机制来改善学习方式。一种是为提供针对目标的激励指标，另一种机制能發现不同学习方法的优劣。\n\n2. 资讯型回馈：哪里做错了？资讯型回馈能进一步告诉「哪里做错了」。\n\n3. 改正型回馈：如何修正错误？最佳回馈类型是改正型回馈，能让我们看见的不只是哪裡做错，还包括如何修正。\n\n###  改善回馈\n\n1. 消除噪音：收到回馈时，会同时收到信号以及伴随而来的噪音，噪音是由随机因素造成的，在试图改善问题时，不须对噪音过度反应。\n\n2. 击中困难的有效打击点：要因应难度，小心调整学习环境，让自己无法预测是否会成功或失败。应该尽量避免总是让自己对自我表现感觉良好（或不好）的情境。\n\n3. 可据以改变的回馈：1.如果学习速率慢到几近于零，代表目前的方法已到达报酬递减状态，接下来应该试着透过不同类型的操练、困难或环境，来得到更多好处。2.比较两种不同的学习方法，看哪一个效果比较好。\n\n## 7、保留记忆\n\n别往有漏洞的桶子倒水，要了解忘记什么与为何忘记，要学习不只是现在记得、也要永远记得事情。\n\n### 间隔法：用重复来记忆\n\n在较长的学习期间，建议把学习时段分散在较多区间当中，虽然容易导致短期表现稍微不佳，但长期下来的表现会好很多。\n\n### 程序化：习惯性会持续下去\n\n多数技能都是分阶段进行的，一开始是陈述性的，但随着练习越多，最后就会变成程序性的。\n\n### 过度学习：超越完美的练习\n\n1.核心练习，持续练习并精修一项技能的核心要素。\n\n2.预先练习更高一阶的技能，当把较低阶技能的核心部分应用在较困难的领域时，那些部分就可被过度学习。\n\n## 8、培养直觉\n\n先深掘，再累积。透过游戏以及对概念与技能的探索，来培养直觉。去了解「理解」是如何發生的，别仰赖廉价的记忆法把戏，来逃避深入理解事物。\n\n### 别轻易放弃困难的问题\n\n在处理问题时给自己一个「挣扎计时器」。当想放弃，认为不可能想出某个困难问题的解决方式，就试着把计时器再多设定十分钟，多逼迫自己一点点。\n\n### 用证明过程来理解\n\n不要透过遵循他人的答案，在脑海中努力重建出答案。\n\n### 永远从具体例子开始\n\n将问题发展成具体例子的习惯，不仅能强化并保留记忆，也能促成直觉上的理解。这种技巧也能带来一些回馈，当无法想像出适当的例子，就代表对某事的了解不够深入。\n\n### 别欺骗自己\n\n避免自欺欺人，多问问题。\n\n### 「费曼技巧」\n\n1.在一张纸最上方，写下想了解的观念或问题。\n\n2.在下方空间解释那个想法，彷彿必须传授给他人。(a) 若是个观念，问自己要如何把这观念传达给过去从未听过的人。(b) 若是个问题，说明该如何解答；重要的是，要说明为何认为解题步骤是合理的。\n\n3.当卡住了，代表理解无法提供清楚解答，请回去找书、笔记、老师，或参考资料，直到找出答案为止。\n\n4.应用：完全不了解的事物、似乎无法解决的问题、扩展直觉。\n\n## 9、勇于实验\n\n往舒适圈外探索。这些法则都只是起点，真正的精通不仅来自遵循他人走过的道路，也来自探索他人从未想像过的可能性。\n\n### 先模仿，再创造\n\n模仿在某种程度上能简化实验会有的问题，因为这样可以给自己一个做决定的起点。\n\n### 把各种方法放在一起比较\n\n运用相同的过程在学习实验上，透过尝试两种不同方法，只改变单一条件，来观察有什么影响。借着一起使用两种不同方法，通常可以很快得到不只是什么最有效、还有哪个方法比较适合个人风格的相关资讯。\n\n### 采用新的限制\n\n在能进行的方式中创造特定的限制，会鼓励我们去探索较不熟悉的选项，并强化基本技能。\n\n### 结合不相关的技能，找到超能力\n\n结合两种不一定有重叠的技能，带来那些只专精其中一项技能的人所没有的明显优势。\n\n### 探索极限\n\n把正在培养的技能的一部分推到某种极限，通常是个很好的探索策略，即使最后决定把它拉回到较一般的状态。这样可以更有效率地去搜寻可能性的空间，同时也能得到更广的经验。\n\n"},{"title":"产品经理小众工具推荐","url":"/pm/","content":"\n![pm_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/pm_cover.png)\n\n推荐几个小众、非主流的产品经理小工具参考用：\n\n## 收集资料\n\n### 笔、本\n\n笔和纸相对电子设备可以更自然地记录想法。笔推荐可以按动的笔，这样就不用担心笔帽找不到。推荐用本子代替纸，方便收纳。\n\n### Evernote\n\n[Evernote](https://evernote.com) 很适合收纳各种信息，Evernote 有其他笔记应用没有的杀手锏功能，包括电脑端的 Web Clip 插件、手机端可以自动加强扫描文件、直接搜索图片中的文字等等。\n\n# 时间管理\n\n### Evernote\n\n推荐用 Evernote 作为 GTD+子弹笔记工具，淘汰其他时间管理工具，详阅[《大脑减压的子弹笔记术》](https://www.books.com.tw/products/0010815339)一书。\n\n### Diii\n\n单核工作法可以帮助高效完成任务，[Diii Notify](https://apps.apple.com/us/app/id1001398032) 可以作为辅助工具，具体可以参考[《单核工作法图解》](https://book.douban.com/subject/27177909/)。\n\n# 文档输出\n\n产品经理主要的输出产物包括「产品需求文档」等等，推荐 Markdown+在线文档的形式。文档中的文字、表格等用 Markdown 书写，流程图、原型图等用其他作图工具做。现在的很多在线文档都支持层级目录、协作及提交版本记录，可以方便协作、记录版本。\n\n### Sketch\n\n[Sketch](https://www.sketch.com/) 可以方便绘制界面图，可以将线框图（Wireframe）与说明、跳转关系放在一张图。另外，可以将界面可以复用的元素利用 Sketch 的「元件」功能形成组件库，保持设计样式统一、提高出图效率。\n\n### Typora\n\n[Typora](https://typora.io) 是一款 Markdown 编辑工具，可以实时预览。\n\n### OmniGraffle\n\n[OmniGraffle](https://www.omnigroup.com/omnigraffle/) 是绘制流程图等图形的好工具，有很多模板可以选择。\n\n### MindNode\n\n[MindNode](https://mindnode.com) 可以方便输出思维导图。\n\n### uPic\n\n[uPic](https://github.com/gee1k/uPic) 可以将图片上传至图床，图床推荐 Github 图床。\n\n### Principle\n\n苹果前员工写的[《Creative Selection》](http://creativeselection.io)一书中曾提到可交互原型（Prototype）在苹果开发过程中的重要性。[Principle](https://principleformac.com) 可以方便制作交互动效原型。\n\n### Clickup 或 Thoughts\n\n推荐使用在线 Markdown 文件输入各类文档，推荐 [Thoughts](https://thoughts.teambition.com/site)（Teambition 推出，需付费）或 [Clickup](https://clickup.com) （近乎免费全功能），两者都支持 Markdown、支持目录层级、版本记录、协作、全终端。\n\n### 伙伴云笔记\n\n[伙伴云笔记](https://www.huoban.com) 可以用于管理需求的补充，按照不同维度分类需求，对需求的状态、优先级等标签化管理，支持协作。\n\n## 项目协作\n\n### Clickup 或 Teambition\n\n项目管理推荐使用 [Teambition](https://www.teambition.com/)（需付费）或 [Clickup](https://clickup.com) （免费够用），两者都支持看板视图、日历视图。 \n\n### 群晖 NAS\n\n国内公司好像用[群晖](https://www.synology.com)的没有很多，群晖可以方便、安全地存储、共享团队文件。\n\n### Post-it 便利贴\n\nPost-it 便利贴可以方便团队成员集思广益，还有 [Post-it App](https://www.post-it.com/3M/en_US/post-it/ideas/app/) 可以将便利贴快速转成电子版。\n\n## 笔记模板\n\n（2020.6.10 新增）\n\n小弟整理了几个产品经理可能会用到的的几个模型的笔记模板，Evernote 格式，可以在[这里](https://www.evernote.com/pub/shanglietanyu/drunkfish)查看或加入共享。\n\n\n\n"},{"title":"想要快乐，读读庄子——How Chuang Tzu Can Change Our Life","url":"/zhuangzi/","content":"\n![zhaungzi_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/zhaungzi_cover.png)\n\n> 人在江湖，身由自己。\n\n正如我们和邻居是「熟悉的陌生人」，除了知道有一本叫做《庄子》的书，有时用到出自这本书的成语，如「每下愈况」「朝三暮四」「庖丁解牛」等等，我们对这本书知之甚少。\n\n《庄子》这本书不好读，不仅仅是成书时间离我们远，还因为这本书是写在乱世，庄子生活的战国时期有七国争雄，战乱频繁，为了安全书中观点通过隐晦的方式书写。作者庄子，当时是管理漆树园的一个小吏。\n\n尽管《庄子》这本书不好读，但这本书深深影响了很多人的一生，包括陶渊明、李太白、白居易、苏东坡等等。小弟看了蔡璧名老师的公开课[《正是时候读庄子》](http://ocw.aca.ntu.edu.tw/ntu-ocw/ocw/cou/103S123)，发现庄子这本书很不简单。\n\n作者蔡璧名老师是个奇女子，她是台大中国文学系博士、中文系副教授，出生在中医和武术世家，曾得过癌症又奇迹痊愈。看公开课时，可以配合[蔡老师的书](https://search.books.com.tw/search/query/key/蔡璧名)一起看。\n\n庄子讲的是什么？庄子讨论了跟每个人息息相关的主题：爱情、人生选择、情绪、死亡等等。下面是庄子对我们人生的几条建议：\n\n## 灵魂人的视角\n\n在庄子看来，人的一生应该是热血的，我们应该把人生当做一个 RPG （角色扮演游戏），努力克服困难，顺境时可以随造化之气乘正而行，在六气异变的逆境时可以积极应对变化，将不利因素为己所用（「若夫乘天地之正，而御六气之辩」），做一个「逍遥」的人。\n\n以地球人的视角，我们往往希望事事顺遂、追求安全感，但在灵魂人的视角，这样的一生是乏味、无趣的。庄子力主我们坚韧不拔，听从自己内心的呼唤，跳出舒适区，勇敢实现自我完成，以「灵魂人的视角过肉体人的一生」。\n\n此外，庄子希望我们要精进自己的职业、技艺或专业，因为这些可以当作是内在、不可见的生命境界于现实情境中的投影（「一龙一蛇」），以此评估生命进退消长、达标与否，作为提升自己生命境界的辅助工具。\n\n## 保持开放心态\n\n庄子认为，我们痛苦来源之一在于执意要心中所认定的「正色」「正味」，认定世界只有一种正确，自动屏蔽其他可能性，当外在环境不符其成见所预期时，便会立即断定其是非对错，是故产生得失、利害等成见，以致劳倦不安。\n\n而事实是，对立的一方可能是另一方的养料（「物无非彼，物无非是」），当陷于辩论之中时，庄子建议我们远离「此」的坚持，不固执自己原先的立场为「是」，靠近「彼」的处境，体谅对方的行为与想法，改以「两行」的态度谅解、包容不同的异议。\n\n## 注意力转向内\n\n我们会感到疲惫、痛苦的原因是，我们将太多注意力投放在无法操之在己的外在世界，「终身役役而不见其成功，苶然疲役而不知其所归」地追随世俗、主流价值，以外在世界中的鹄的为人生要务（「以物为事」）。而事实是，所有的追求和盼望都可能随时落空，这使得我们身体坐立不安，精神心神不宁，难以获得长久、真实的「逍遥」。\n\n庄子并非是劝导我们拒绝或舍弃外在世界的所有，而是希望我们将专注力的探照灯转向，照回内在自我的身、心、灵，致力从事一己身体、心灵的控制与锻炼，以期使个我的身心不论置身何种处境、际遇，都能保持平和、镇静与放松，拥有稳定长远的安乐。\n\n## 勇于面对现实\n\n情绪的来源之一是我们不愿承认某些事实。庄子提醒我们，勤奋地去寻找自己没有看清的事实和真相，接受现实，在行为上承认事实，我们的情绪就会少很多，心情会平静很多（「知不可奈何，而安之若命」）。\n\n同时，我们要勇于面对自己，可以活在自己的黑暗面中，对自己诚实，承认自己想要的，不要受到世俗的影响，勇敢去争取自己想要的。\n\n## 深情而不沉溺\n\n关于情感，庄子认为，理想的关系像是你喜欢一棵树，只是出自本心地这棵树，为它浇水、施肥、驱虫，而不是想吃树上的果子，或者把树做成家具。喜欢一个人，只是单纯地喜欢，希望他可以终日逍遥、心安身健，而不是把对方当成一个工具，相处的过程中，不会因为提起某个名字、碰触某件话题以致情绪欠佳甚至翻脸无情。\n\n我们在情感里不要把对方当成一个器具，同时也应该避免自己被当成一个器具，深情但不陷溺在感情里（「不以好恶内伤其身」）。关于爱情，庄子力劝我们应该去寻找那个发光、能够照亮我们生命的人，而前提是我们自己先变这样的人，这样我们才会吸引到这样的人。\n\n## 选择权在于我\n\n庄子提醒我们，人要遭受外在情境的种种压迫与影响，或是能够主动地乘御于情境之上，皆是「咸其自取」、操之在己的。一旦了解到自身拥有选择的权力，许多原本以为是身不由己的困难，便可藉由一己之决心、意志而克服。这也正是庄子所揭示的真正自由——必须为自己的每一个选择负责，不得一味归咎于外在的境遇而加以推拖。另外，庄子还为我们提供了一些小工具：\n\n「用心若镜」：将自己的心陶冶如一面镜子，无论面对怎样的人事物，都不因有所好恶而刻意迎向或离弃所映照的事物，心平如镜地与人事物应对交接，却不将已然过往的影像情绪留藏镜里，陷溺其中（「至人之用心若镜，不将不迎，应而不藏」）。\n\n「照之于天」：以日、月为喻——抽离一己「将执而不化」所固守的成见、跳脱一己的立场，看待、体谅人我与所有人间世的异议与纷争。\n\n「环中」「道枢」：从原本对立的两端抽离而出，转移立场居于车轮或门户的轴心，如此便与轮框、门户上无数过往的「彼」「此」皆成等距——远离了「此」的坚持、靠近「彼」的处境。\n\n## 保持身心强健\n\n在庄子眼中，身体和心灵难分轩轾地影响、决定着我们的生命（「其形化，其心与之然」）。形体一旦衰败，心神也将随之日渐消损，步上「近死」之途；同理，身体一旦升进，心灵的操控与自主能力也将随之一并提升。\n\n庄子告诉我们，当我们改变「用心」，原本在情境中「日以心斗」的情绪归于平静祥和，保持心绪在「心如死灰」的状态，身体也较不会因情境的压迫而感到疲惫不堪；而若能经由身体的锻炼，将身体维持在「形如稿木」的放松轻盈，亦有助于心绪的宁定，也更易以开阔、包容的眼光与态度，面对生命中的一切处境。\n"},{"title":"挂保证！Evernote 这样用会更酷","url":"/evernote/","content":"![evernote_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/evernote_cover.png)\n\n最近读了[电脑玩物 Esor](https://www.playpcesor.com/) 大大的[《大脑减压的子弹笔记术》](https://www.books.com.tw/products/0010815339)和[《电脑玩物站长的笔记思考术》](http://www.books.com.tw/products/0010775489)。以下是几个核心观点：\n\n## 「改变」思维\n\n笔记的目的不是记忆过去，记忆过去是为了改变未来。笔记的核心，在于我们如何思考现实的方式，而改变思考，就能改变现实的可能性。 可以试试看在笔记中问自己三个问题：为什么会这样？我是怎么想的？我想要变成怎么样？即「我的记录」、「我的想法」、「我的行动」三种内容。他们分别是：行动层、构思层、封存层。\n\n![evernote_1](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/evernote_1.png)\n\n笔记的三个练习：练习条列重点、练习穷举范畴、练习分析追问、练习翻转想法。写不出文章时：先挤出文字、关键词、妙句子和分散的段落。\n\n## 「专案」思维\n\n笔记的行动要有效，关键在于我们做出有效的选择。作者建议我们归结到、关联到、聚焦到专案目标上来做整理。善用 Evernote 的「笔记标签、记事连结功能」，用少数专案笔记，管理任务笔记。以进度「流程」、「情境」、「优先级」作为标签分类依据，如作者将工作三个主要的进度，设计出了重要、追踪、计划三个标签，将写作专案，设计了三种情境标签：测试、思考、撰写。\n\n![evernote_2](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/evernote_2.png)\n\n## 「行动」思维\n\n笔记的目的，在于产生行动，在整理时要以行动为方向。用数量较少的专案，管理数量庞大的任务与行动。行动归纳成任务，任务逐步归纳聚焦在几个专案目标上。「一个任务、一则笔记。」善用 Evernote 笔记链接功能，把任务的目标成果、任务的行动清单、任务相关的资料，统整各种形式内容，都放入同一个任务的同一则笔记当中，关联相关行动。利用「笔记大纲功能」拆解困难任务变成更具体的下一步行动，同时将排程顺序排好，照着排程一步一步做，就不会漏掉任何一个关键的环节，减少电脑压力。\n\n![evernote_3](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/evernote_3.png)\n\n![evernote_4](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/evernote_4.png)\n\n同时决定这个任务笔记「应该什么时候开始准备」，把那个准备时间变成提醒时间。\n\n![evernote_5](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/evernote_5.png)\n\n## 「反省」思维\n\n关于复盘，作者提到几个工具：\n\n1.礼拜天的晚上，把下一周七天的每日行动清单列出来。\n\n2.「1-3-5待办清单法则」，让每天的待办清单控制在以下的数量，并依序排列你的清单：每天1件重要任务、每天3件中等任务、每天5件小型琐事；\n\n3.KPT 日记法：\nKeep（保持）归纳哪些部分是下一次要继续维持的\nProblem（问题）找出哪些部分是这一次还有疑问，下一次需要解决\nTry（尝试）提出下一次可以改进的测试行动。  "},{"title":"Chrome 插件推荐","url":"/chrome/","content":"\n![chrome_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/chrome_cover.png)\n\n记得 08 年的小弟生日那天，晚上发现一款浏览器在这一天发布了公开测试版，名字是一个不认识的英文词语 Chrome，感觉和这款浏览器有源。\n\n![chrome_website_2008](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/google-chrome-website-2008.png)\n\n许多年过去了，Chrome 从小众成为用的人最多的浏览器，功能也越来越多。下面是小弟的一些插件推荐（除了 Chrome，也大部分适用于 Chromium 内核的浏览器，如 [Opera](https://www.opera.com)、[Vivaldi](https://vivaldi.com/)、[Brave](https://brave.com)、[Edge](https://www.microsoft.com/en-us/edge) 等）：\n\n## 插件推荐\n\n以下 Chrome 插件均可在 [Chrome 线上应用商店](https://chrome.google.com/webstore/category/extensions)安装。\n\n### 1Password\n\n此插件需配合 1Password 程序使用，快速填入密码及表单、保存密码，支持快捷键，比 Chrome 自带密码管理功能更多。\n\n[安装地址](https://chrome.google.com/webstore/detail/1password-extension-deskt/aomjjhallfgjeglblehebfpbcfeobpgk)\n\n### Evernote Web Clipper\n\n可以快速将网页内容保存到 Evernote，还可以简单标注、加标签，支持快捷键。\n\n[安装地址](https://chrome.google.com/webstore/detail/evernote-web-clipper/pioclpoplcdbaefihamjohnefbikjilc)\n\n### AdGuard AdBlocker\n\n小弟用过好几款广告过滤插件，这款效果最好，AdGuard 本身主要的盈利方式是出售付费的 AdGuard 应用，有理由相信拦截效果不错。\n\n[安装地址](https://chrome.google.com/webstore/detail/evernote-web-clipper/pioclpoplcdbaefihamjohnefbikjilc)\n\n### Tampermonkey\n\n可以为浏览器安装脚本，脚本下载可以到[这里](https://www.tampermonkey.net/scripts.php)。\n\n[安装地址](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo)\n\n### Context Menus\n\n此插件可以增强右键，比如以图搜图等等，插件已多年未更新，已从 Chrome Store 下架，可以从[这里](https://www.crx4chrome.com/crx/1606/)离线下载安装。\n\n### Dark Reader\n\n人们使用屏幕的时间越来越长，dark mode 越来越被人接受，这个插件可以页面实现 dark mode。\n\n[安装地址](https://chrome.google.com/webstore/detail/dark-reader/eimadpbcbfnmbkopoojfekhnkhdbieeh)\n\n### Extension Manager\n\n这款插件可以快速禁用、启用插件，还可以将插件分组。\n\n[安装地址](https://chrome.google.com/webstore/detail/extension-manager/gjldcdngmdknpinoemndlidpcabkggco)\n\n### User-Agent Switcher for Chrome\n\nGoogle 出的方便切换浏览器标识的小插件，可以方便查看不同设备上的网页展示效果。\n\n[安装地址](https://chrome.google.com/webstore/detail/user-agent-switcher-for-c/djflhoibgkdhkhhcedjiklpkjnoahfmg)\n\n### 下载管理\n\n这个插件可以实现快速查看下载文件列表。\n\n[安装地址](https://chrome.google.com/webstore/detail/%E4%B8%8B%E8%BD%BD%E7%AE%A1%E7%90%86/nfmgapnodlagabglffakjglkalonidld)\n\n### LastPass\n\n另外一款密码管理插件，LastPass 免装额外应用，可以账号登录同步数据。小弟是个人的密码用 1Password，公司的密码用 LastPass。LastPass 的最快捷用法是 ⌘+L 定位至地址栏，之后输入「lp」空格就可以直接搜索密码。\n\n[安装地址](https://chrome.google.com/webstore/detail/lastpass-free-password-ma/hdokiejnpimakedhajhdlcegeplioahd)\n\n### Next Page\n\n这款插件可以实现类似 [GreenBrowser 的自动翻页功能](http://www.morequick.com/Skill/NextPage.htm)，提供快捷的翻页功能，免去寻找和点击翻页链接，适合在浏览搜索结果、论坛时使用。\n\n[安装地址](https://chrome.google.com/webstore/detail/next-page/ibcgnmdhkbkcmjflhddddemihaoehbdj)\n\n### Workona\n\n我们常常打开很多标签页，查找、管理很不方便。Workona 可以实现标签页分组，保存已打开的标签页，类似 [GreenBrowser 群组功能](http://www.morequick.com/Skill/Groups.htm)。另外按下 ⌥+f 还可以实现类似 Spotlight 的功能，快速定位标签页。\n\n[安装地址](https://chrome.google.com/webstore/detail/workona/ailcmbgekjpnablpdkmaaccecekgdhlh)\n\n### SetupVPN\n\nSetupVPN 是一个免费 VPN 插件，注册登录之后有很多免费线路可以选择，可以做为一个 VPN 备选。\n\n[安装地址](https://chrome.google.com/webstore/detail/setupvpn-lifetime-free-vp/oofgbpoabipfcfjapgnbbjjaenockbdp)\n\n### Page Marker\n\n用这个插件可以简单的对网页内容做标注，画个草图或示意图什么的，类似 [GreenBrowser 的鼠标手势轨迹功能](http://www.morequick.com/Skill/MouseGesture.htm)。\n\n[安装地址](https://chrome.google.com/webstore/detail/page-marker/jfiihjeimjpkpoaekpdpllpaeichkiod)\n\n### 购物党\n\n购物党可以方便查看淘宝等购物网站历史价格、比价等等。\n\n[安装地址](https://chrome.google.com/webstore/detail/%E8%B4%AD%E7%89%A9%E5%85%9A%E8%87%AA%E5%8A%A8%E6%AF%94%E4%BB%B7%E5%B7%A5%E5%85%B7/jgphnjokjhjlcnnajmfjlacjnjkhleah)\n\n### Google Arts & Culture\n\n这个插件可以实现每打开新标签页显示一幅艺术画，比其他新标签类插件酷多了，图的来源是 [Google Arts & Culture](https://artsandculture.google.com)。\n\n[安装地址](https://chrome.google.com/webstore/detail/google-arts-culture/akimgimeeoiognljlfchpbkpfbmeapkh)\n\n### 彩云小译\n\n这个插件可以实现中英文对照翻译。\n\n[安装地址](https://chrome.google.com/webstore/detail/lingocloud-web-translatio/jmpepeebcbihafjjadogphmbgiffiajh)\n\n### Server IP\n\n这个插件可以显示网址 IP 所在国家的国旗。\n\n[安装地址](https://chrome.google.com/webstore/detail/server-ip/adcbaggcjppnkmhfmjcdgagmggnfeikh)\n\n### Aerys - 窗口标签管理器\n\nAerys 可以分类显示标签页，拖动改变顺序，方便在窗口之间移动标签页、快速重新打开最近关闭的标签页。\n\n[安装地址](https://chrome.google.com/webstore/detail/aerys-tab-manager/kclbicheojedbinfjdjjolmciodoihkl)\n\n### Clearly\n\n这个插件可以实现类似 Safari 的阅读模式，侧边栏还可以显示文章的层级结构，唯一不足的是中文字体只能使用非衬线体。\n\n[安装地址](https://chrome.google.com/webstore/detail/clearly/odfonlkabodgbolnmmkdijkaeggofoop)\n\n### Double Click Closes Tab\n\n这个插件可以实现双击或三击关闭标签页，注意，这个是双击页面任意位置关闭标签页，不是双击标签页。\n\n[安装地址](https://chrome.google.com/webstore/detail/double-click-closes-tab/megplcpdkmjjoondippkedoaidkeikcm)\n\n### 扩充功能/扩展管理器（Extension Manager）\n\n这款插件可以方便管理插件，快速禁用、启用插件、分组等等。\n\n[安装地址](https://chrome.google.com/webstore/detail/extension-manager/gjldcdngmdknpinoemndlidpcabkggco)\n\n## 自带功能\n\n### 快速指定搜索\n\nChrome 可以方便地快速指定搜索，在地址栏输入 `chrome://settings/searchEngines` 回车，可以看到浏览的网页中含有搜索引擎的，可以指定快捷键，如指定 「yt」为 YouTube 搜索，之后直接在地址栏输入「yt」空格后面加关键词可以直接在 YouTube 搜索。\n\n![chrome_search](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/chrome_search.png)\n\n### 开启同步功能\n\nChrome 同步功能很完善，可以同步书签、历史记录、插件等等，推荐开启。另外可以在「[我的 Google 活动](https://myactivity.google.com/myactivity)」中看到历史记录。\n\n### 设置插件快捷键\n\n地址栏输入 `chrome://extensions/shortcuts` 回车，可以对插件设置快捷键。\n\n### 几个 chrome:// 设置\n\nchrome:// 可以对 Chrome 进行很多设置，以下几个推荐打开：\n\n- 打开阅读模式\n\nChrome 自带阅读模式，需要手动打开，在地址栏输入 `chrome://flags/#enable-reader-mode` ，选择「Enable」，之后重启浏览器。\n\n- 开启多线程下载\n\n地址栏输入 `chrome://flags/#enable-parallel-downloading` 回车，选择「Enable」重启，可以打开多线程下载，提高下载文件速度。\n\n- 打开悬停标签页显示\n\n  Chrome 自带悬停标签页显示，打开方式：地址栏输入 `chrome://flags/#tab-hover-cards`，可以选择「Enable B」或「Enable C」。\n\n- 打开自带标签页分组显示（v83 以上版本）\n\n  地址栏输入 `chrome://flags` 找到「tab groups」选择「Enabled」。\n\n### Chromecast 功能\n\n可以在 Chrome 浏览器内将网页视频、音频投放至 Chromecast 设备。\n\n### 网页翻译\n\n依托自家的 Google Translate，Chrome 可以提供比其他浏览器更无缝的网页翻译。\n"},{"title":"平板也能充当音箱——Fire HD8 使用踩坑","url":"/fire/","content":"\n![fire_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/fire_cover2.png)\n\n开始的时候，小弟准备买一个带屏幕的 Nest Hub，过程中发现了 [Fire HD8（2018）](https://www.amazon.com/All-New-Fire-Tablet-Display-Black/dp/B0794RHPZD) 这款平板，支持 Alexa，可以当一个低配版 Echo Show，还能当一个平板用，感觉很值，于是入手。以下是一些使用情况：\n\n开机之后用美亚账号登录，若没有可以到亚马逊网站注册，注册时记得写「有效」的美国虚假地址。\n\n## 低配版 Echo Show\n\n下滑通知栏，选中「Alexa Hands-free」，打开「Show Mode」开关即可变成一个低配版 Echo Show。\n\n### 支持功能\n\nAlexa Show Mode 支持大部分 Alexa 指令，比如：\n\n1. 询问天气、时间等，如：“Alexa, what is the weather like?”   “Alexa, what's the forcast for tomorrow?” “Alexa, what is the date?”   “Alexa, what day is it?”  “Alexa, what time is it?” \n\n2. 定时、提醒，如：“Alexa, set an alarm for [date/time].”  “Alexa, set a timer for [number of seconds/minutes/hours].” “Alexa, remind me [reminder] at [date/time].”\n\n3. 控制家电，如：“Alexa, turn [on/off] the lights.” “Alexa, turn [on/off] the [device name].”\n\n关于控制家电，可以自己搭建一套对接 Alexa，详细可以参阅小弟其他文章。\n\n4. 询问其他问题，如：“Alexa, why the sky blue?”  “Alexa, how to spell fish?” \n\n5. 有趣问题，如：“Alexa, sing me a song.”  “Alexa, tell me a joke.”\n\n6. 打电话，仅限美国手机号，也可以和装有 Alexa App 的设备通话，或者找手机，如：“Alexa, call my phone.”\n\n7. Alexa 支持 routine，即可以设置一条指令执行多条命令，可以在 Alexa App 中设置；\n\n8. 支持 Skills，可以使用第三方开发者开发的 Skill，可以在 Alexa App  中设置。注意：有些 Skill 需要付费，且是订阅制，可以直接用语音制定付款，小心使用，防止意外扣费（如果像小弟一样不小心开了订阅，可以到 Amazon.com 「订阅」中取消或联系客服取消）。\n\n### 不支持功能\n\nAlexa Show Mode 像 Echo Show，甚至屏幕都是同样大小，但功能缩水不少：\n\n1. 唤醒词只能使用「Alexa」、「Amazon」，无法像其他 Alexa 设备那样使用更直觉的「Echo」、「Computer」；\n\n2. 不支持连续对话，只能一条语音指令后重复「Alexa」；\n\n3. 不支持超酷的「Whisper Mode」；\n\n4. 不支持自定义主页面布局，无法像 Echo Show 调整主页面元素；\n\n6. 有些指令不是直接执行命令，而是打开 App，如「play Jazz music on Spotify」，不是直接播放歌曲，而是打开 Spotify，可用性大大减弱。\n\n7. 麦克风有时不够灵敏，扬声器音量不够大；\n\n8. 机器配置较低，有时会莫名卡死。\n\n## 低配版 Android 平板\n\n这款平板配置较低，过时的配件加上臃肿的亚马逊自家应用，使得这款机器运行卡顿，只能作为轻量 Android 平板。\n\n### 安装 Google 框架\n\n机器自带的亚马逊应用市场应用少且很多应用已经很久没更新，Google Play 是更好的选择，且可以安装 YouTube 等应用，安装所需文件可以参考[这篇](https://www.howtogeek.com/232726/how-to-install-the-google-play-store-on-your-amazon-fire-tablet/)，总共要安装四个文件，apk 文件导入至平板有两种方法：\n\n1.使用 mircoSD 卡将文件导入；\n\n2.将文件在电脑端上传至 Amazon Docs，之后用平板自带 Docs 打开。\n\n### 卸载系统应用\n\nFire 平板预装 Amazon 全家桶，如果熟悉 ADB 命令，可以连接装好 ADB 的电脑禁用或卸载系统应用，参考[这篇](https://liliputing.com/2020/06/amazon-fire-hd-8-2020-how-to-disable-specific-amazon-apps-and-features.html)。\n\n另外，可以安装 [App Manager](https://f-droid.org/packages/io.github.muntashirakon.AppManager/) （可在 [F-Droid](https://f-droid.org/) 下载），找到要禁用或卸载的应用即可。\n\n### App 推荐\n\n这个小平板配置低，只能用一些轻量级的应用，如播放视频、音频，阅读电子书等等。\n\n#### 系统增强\n\n1. Smart Launcher\n\n系统自带的 launcher 包含大量的 Amazon 服务，如果不喜欢，想更纯净地使用 Android，可以安装第三方 launcher，如 Smart Launcher。\n\n注意，安装第三方 launcher 需要先禁用系统自带 launcher，应用包名是 'com.amazon.firelauncher'。\n\n2. 讯飞输入法\n\n讯飞输入法支持免切换直接手写，以及其他实用功能，比自带输入法好用很多。\n\n3. AirDroid\n\nAirDroid 允许用户在同一 WiFi 网络内通过浏览器管理平板。在浏览器中输入 Fire 的 IP 地址及端口号，可以通过浏览器传输文件、、管理文件等等。\n\n4. Google Keep\n\n可以通过 Google Keep 将一些文本信息传到平板上。\n\n5. Google Files\n\nGoogle Files 可以方便管理文件、SD 卡文件，清除一些缓存文件等等。\n\n6. Google Home\n\n可以把 Fire 平板画面或声音投屏至 Chromecast 设备，比如将画面投屏至电视变成一个巨大屏 Alexa，或者将声音投屏至 Google Home，在 Google Home 上使用 Alexa。\n\n7. 应用市场\n\n如果需要下载国内应用，可以使用[酷市场](https://www.coolapk.com/)（推荐 [v6.0.1](https://www.wandoujia.com/apps/998339/history_v1601131) 版本，功能更纯粹）。\n\n另外可以安装汇集开源应用的应用市场 [F-Droid](https://f-droid.org/)。\n\n8. Wormhole\n\n[Wormhole](https://er.run) 可以方便在电脑查看、控制 Fire 平板，可以直接在电脑键盘操作、输入文本等。\n\n#### 阅读应用\n\n1. Moon+ Reader\n\n[Moon+ Reader](https://www.moondownload.com)，支持主流电子书格式，可以高度定制化，对阅读内的方方面面设置，包括字体、间距、翻页方式、调用 TTS 等等。\n\n2. KOReader\n\n[KOReader](https://koreader.rocks/) 可以方便读一些图片类、扫描类 PDF 文档，能自动切边、重排。\n\n3. Libby\n\n[Libby](https://www.overdrive.com/apps/libby/)可以借世界大多数图书馆借电子书或有声书（包括中国）。\n\n4. Hyread\n\n[Hyread](https://ebook.hyread.com.tw) 是台湾图书馆借阅平台，中文书多。\n\n5. Inoreader\n\n[Inoreader](https://www.inoreader.com) 是一款好用的 RSS 阅读器，可以多平台同步。\n\n6. 欧路词典\n\n[欧路词典](https://www.eudic.net/v4/en/app/eudic)是支持 MDX 格式的词典，可以剪贴板取词，跨应用全局使用。\n\n7. Live Translate\n\nLive Translate 是 Google 出的语音转文本应用，可识别多种语言，识别准确率很高，这个应用最早只能在 Pixel 手机使用，Google 把它提取出来。 \n\n#### 媒体应用\n\n1. nPlayer\n\n支持多种格式的播放器，方便播放 NAS 或公用云的视频。\n\n2. Netflix\n\n使用 Netflix 请在系统自带的应用市场下载，其他地方下载的没有 Netflix 授权。\n\n3. 星火电视\n\n[星火电视](http://bbs.xhzb.tw)内置很多港台电视直播，频道很多。\n\n4. Cloud TV\n\n[Cloud TV](https://www.cloudtv-agents.com) 包含很多国家的电视直播，这款「盗版」直播应用有「破解版」。\n\n5. TVTAP Pro\n\n使用 TVTAP Pro 可以观看国外电视直播。\n\n6. IPTV Pro\n\nIPTV Pro是一款 IPTV 应用，需要自己填入直播源地址。\n\n港澳台直播源：https://homenet6.github.io/list.m3u\n\n英语台直播源：https://fluxustv.blogspot.com/p/m3u-list.html\n\n7. TV 影院\n\n国人开发的电影、剧集搜索工具，主要是将在线的盗版视频抓过来，清晰度不是很高。\n\n8. TeaTV\n\n可以搜索在线视频，可以选清晰度、下载中英文字幕。\n\n\n## 小问题\n\n1. Alexa 只能打开 Amazon Appstore 的应用，如在 Google Play 装了而不是在  Amazon Appstore  装的Spotify，Alexa 会认为没有安装 Spotify；\n\n2. 若 Amazon Appstore 无法安装应用，请确保收货地址是一个「有效」的美国地址；\n\n3. 默认 Alexa 主页面中会显示收货地址的天气，请在系统内置的 Alexa 应用中修改；\n\n4. 有些 Kindle 电子书无法在这台机器上阅读（自家设备不支持自己内容，Amazon 天下第一），此问题无解，若书不想要，可以联系 Amazon 客服退款。"},{"title":"这样用 Kindle 有点不一样","url":"/kindle/","content":"\n![kindle_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/kindle_cover.png)\n\n1. 新买的 Kindle 注册后注意断开 WiFi 防止自动升级固件，待越狱之后再升级固件，越狱可以解锁更多可能性（如阅读 epub 格式电子书等等），越狱相关可以参考[这里](https://bookfere.com/skills/jailbreak)。\n2. 推荐的越狱插件：① [File Browser](https://bookfere.com/post/823.html)：可以方便地在浏览器管理 Kindle 文件；② [Koreader](https://bookfere.com/post/39.html)：超酷的阅读应用，方便在 Kindle 阅读 epub 等格式电子书，pdf 文件支持切边、重排，重排效果很赞，甚至可以 OCR 识别扫描 pdf 文件中的文字。 \n3. Kindle 屏幕较脆弱（小弟已经用坏两个了，一个进水、一个被压），建议装一个保护套，一般都带休眠功能，打开即读也挺好的。如果感觉重，也可以取出保护套，记得取出时，先取一个对角，再取另一个对角，方能取出。\n4. 天下第一超级大国中国的外文翻译书删减随意、翻译质量差、引进时间长，读台版、英文原版是一个更好、不得不的选择。电子版是购买纸质书的一个补充，可以节省一部分印刷、物流费用，且无需等待物流时间。\n5. 购买台版电子书可以到 [Readmoo 读墨电子书](https://readmoo.com/)、[Kobo](https://www.kobo.com)、[Google Play 图书](https://play.google.com/store/books)、[BOOKWALKER](http://www.bookwalker.com.tw/)、[博客来电子书](http://www.books.com.tw/)、[Amazon.com 繁中电子书店](https://www.amazon.com/Chinese-Traditional-eBooks/)、[HyRead](https://ebook.hyread.com.tw/)、[pubu 书城](https://www.pubu.com.tw/)、[TAAZE 读册生活](https://www.taaze.tw/) 等平台，购买前可以先比价，比价可以用「[台湾电子书搜寻](https://taiwan-ebook-lover.github.io/)」这个小工具，有网页版、 App。其中，各平台对比可以参考这位大大的[文章](https://twinsyang.net/archives/19487)。购书前建议准备好外币银行卡。\n6. 在其他平台购买的电子书想要在 Kindle 上阅读，需要去 DRM 保护、转成 mobi 格式，Kobo 可以很容易去 DRM（参考这个大大的[文章](https://medium.com/akichy/筆記-如何用-kindle-閱讀-kobo-樂天-電子書檔案-5aa529b61203)）。如果比较看重在 Kindle 上阅读这一点，建议在 Kobo 上购买电子书。另外，中亚、美亚账号不互通，建议两个邮箱注册，想在登录美亚的 Kindle 上读中亚的书需要去 DRM。\n7. 寻找英文原版书可以直接 Google 关键词「书名 mobi」或「书名 epub」，另外可以到这两个网站搜索：[Library Genesis](http://gen.lib.rus.ec/)、[The Pirate Bay](https://thepiratebay.org/index.html)。\n8. 购买英文原版书可以到 [Amazon.com](https://www.amazon.com) 购买，需要注册美亚账号，填入「有效的」美国地址（可以在[这里](http://www.fakenamegenerator.com)生成），建议选择 AK、DE、MT、NH，OR 五个免税州中的地址，免扣税（重要，小弟被扣了好几次税才知道）。\n9. 登录美亚账号后 Kindle 会有广告，广告会出现在锁屏及主页底部。有广告需要右划才能解锁，如果感觉繁琐可以联系[在线客服](https://www.amazon.com/hz/contact-us/)，选择「Kindle 设备」，接入人工客服，说 Kindle 上的促销广告很吸引人，奈何自己在中国用不上，每每想到此心急如焚，茶不思饭不想，可以帮去掉广告吗，类似下面的话术：\n\n> Hi, I've got a Kindle, but I am in China now. The special offer ads are nothing to me, would you please unsubscribe special offers for me? Thanks a lot.\n\n之后客服会帮操作去广告，有些客服需要提供给设备序列号，成功去除 Kindle 会显示一条通知，广告就可以去掉了。\n\n10. Kindle 支持图书馆借书。前提是有一张美国图书馆的借书证或者有一个美国的非虚拟手机号（Google Voice 这类虚拟手机号不可以）。借书是借助 [Libby](https://www.overdrive.com/apps/libby/) 这个服务，有 [Web 端](https://libbyapp.com) 及手机端。首先先添加图书馆，有借书证直接搜索图书馆添加，没有借书证，可以根据手机号查询归属地邮编，搜索添加当地的图书馆。之后输入手机号验证即可在线办理借书证（少部分图书馆不支持在线办理）。添加好借书证就可以借书了，注意有些书需要预定排队（图书馆图书馆不拥有电子书版权，仅仅是一定数量数字拷贝，且每份数字拷贝有借阅次数限制），如果上面有显示「Kindle 格式」，则可以选 Kindle 格式，跳转至 Kindle 借阅链接，点击「借阅」即可。\n11. Kindle 可以看漫画，漫画资源可以到[这里](https://volmoe.com)下载。\n12. Kindle 词典资源可以到[这里](https://bookfere.com/dict)下载，英文词典推荐朗文、柯林斯、牛津词典，中文词典推荐萌典。另外 Kindle 支持选中文本在「维基百科」搜索，可以作为词典的一个补充。\n\n![kindle_calendar](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/kindle_calendar.jpeg)"},{"title":"这个甜甜圈很酷——Google Nest Mini/Home Mini 指南","url":"/nest/","content":"\n![nest_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/nest_cover.png)\n\nGoogle Nest Mini （小弟的是旧款 Google Home Mini）是 Google 出的小型音箱，小弟觉得够酷够实用，以下是一些使用建议：\n\n## 基本设置\n\n使用前可以先注册好 Google 账号，建议使用 Gmail App 或 Google App 注册，免输手机号。注意配置好路由器，可以连外网，Google Nest Mini 所有功能均需外网环境下使用。手机安装好名为「Google Home」的 App，Android 系统非原生系统可能安装 Google 框架，iOS 系统需非中国区账号。\n\nGoogle Nest Mini ，支持英文、中文。英文可以更换语音角色，还有名人录制的声音，小弟觉得 Google Assistant 的英文声音很自然（目前感觉是最自然的），听起来有活力。另外，可以添加中文，中文支持的指令比英文少，且感不够自然、不支持「连续对话」，建议还是使用英文。比较酷的一点是，Google  Nest Mini 支持自动识别中英文，问英文，回答是英文，问中文，回答是中文。\n\nGoogle Nest Mini 唤醒软硬件都做了优化，唤醒异常灵敏。唤醒词是「Hey Google」或「OK Google」，另外「Hey googoo」「Hey noddle」「OK goodle」「Hey d00doo」这些也可以唤醒。另外，Google Nest Mini 支持超酷的连续对话，无需一直说唤醒词。\n\nGoogle Nest Mini 支持 Routines，可以将一系列命令集合成一个命令，方便日常操作。\n\nGoogle Nest Mini 支持各种 action，详细可以到[这里](https://assistant.google.com/explore)或 Google Assistant 应用中查看。\n\n## 作为音箱\n\n小弟认为  Nest Mini  作为音箱已经值回票价，外观漂亮，音质比手机或电脑自带的好一点，更酷的是可以直接用语音控制，如\n\n\"Hey Google, pause the music.\"\n\n \"Hey Google, continue to play.\"\n\n\"Hey Google, turn it up.\"\n\n\"Hey Google, louder.\" \n\n\"Hey Google, stop.\"\n\n等等。 \n\nNest Mini 可以绑定 Spotify、YouTube Music 等平台账号，之后可以直接语音控制。\n\n\"Hey Google, play relaxing music on Spotify.\"\n\n\"Hey Google, play my 'Discover Weekly' playlist on Spotify.\"\n\n等等。\n\n或者可以利用 Chromecast 播放音乐（各种支持 Chromecast 的 App、Chrome 浏览器等等 ），国内的音乐应用可以通过连接蓝牙播放。\n\n## 实体  Google\n\nGoogle Nest Mini 像实体的 Google ，简单的问题可以直接用语音获得答案。日常的询问，如日常天气、现在的时间、设定定时器、设定闹钟都可以，如\n\n \"Hey Google, what's the weather like?\"\n\n \"Hey Google, what's the forecast for today?\"\n\n \"Hey Google, set a timer for [time].\"\n\n\"Hey Google, cancel my timer.\"\n\n\"Hey Google, what time is it?\"\n\n\"Hey Google, set an alarm for [time].\" \n\nGoogle Nest Mini 天气、提醒、闹钟\n\n或者听新闻（需要先在 App 内选新闻来源），中文新闻有「东森新闻」、「TVBS 新闻」、「公视新闻  PTS News」，如\n\n\"Hey Google, give me some news.\" \n\n或者问一些百科问题，如\n\n\"Hey Google, how to spell [word]?\" \n\n\"Hey Google, how do you say [word or phrase] in [language]?\" \n\n\"Hey Google, why the sky blue?\" \n\n\"Hey Google, who is Steve Jobs?\" \n\n等等。\n\n## 小朋友的好伙伴\n\nGoogle Nest Mini 是小朋友的好伙伴，对世界充满好奇心的小朋友的问题 Google 总会耐心解答，如\n\n\"Hey Google, tell me a joke.\"\n\n\"Hey Google, sing a song.\"\n\n\"Hey Google, what does the cat say?\"\n\n\"Hey Google, play a game.\"\n\n等等。\n\n## 控制其他设备\n\nGoogle Nest Mini 可以很方便地控制其他硬件，可以直接购买支持 Google Assistant 的设备，也可以自己搭建接入。"},{"title":"Android TV 应用推荐——以 Mibox 为例","url":"/tv/","content":"\n![tv_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/tv_cover.png)\n\n小弟入手了一个小米盒子国际版 [Mibox](https://www.mi.com/global/mibox)，运行 Android TV 系统，预装 Google Play、Google Assistant，有 Netflix 授权，下面是一些使用建议（适用于 Mibox、Mibox S、Shield TV 等原生 Android TV 设备 ）：\n\n## 小贴士\n### 网络建议\n建议使用前将路由器连好外网，比如可以群晖虚拟机安装软路由，开机绑定 Google 账号及使用 Google 各类服务（如 Chromecast、YouTube 等等均需要连外网）。\n### 如何安装应用\n最简单的是通过系统自带 Google Play 安装，另外还有以下方法：\n\n1、免 U 盘，在电脑或手机将 Android 安装 apk 安装文件上传至 Google Drive，在 Google Play 搜索安装 X-plore File Manage，挂载 Google Drive；\n\n2、准备一个 U 盘，在电脑将 Android 安装 apk 安装文件拷贝至 U 盘，在 Google Play 搜索安装 X-plore File，找到要安装的 apk 文件；\n\n3、安装「沙发管家」，打开「远程管理」，局域网浏览器打开 `http://Mibox IP 地址:8899`，上传 apk 安装文件。\n\n### Google 账号\n\n建议 Google 账号改成美区或港区，Google 账号换区相对容易，修改 Google Pay 收费资料即可，参见[这篇](https://love4taylor.me/easily-change-google-play-country/) 。另外，Android 支持多账户登录。\n\n### Youtube\n\nAndroid TV 已内置 YouTube， Mibox 支持 4k。\n\n### Netflix\n\n已内置，有授权，支持 4k。\n\n### Chromecast\n\n内置 [Chromecast](https://store.google.com/product/chromecast_apps)，可以将支持 Chromecast 的应用，投放视频、音频，或者游戏。\n\n### Google Assistant\n\n系统内置，按下遥控器按钮激活，用语音执行很多操作（打开应用、搜索影片、控制其他设备等等），像这个[影片](https://www.youtube.com/watch?v=hIHsgqID9Xc)。另外，如果有 Google Home，还可以用 Google Home 控制 Android TV。\n\n## 推荐应用\n\n### ATV Launcher Pro\n\nAndroid TV 自带启动器不能将所有 App 显示出来，还有各种推荐内容，ATV Launcher Pro是一个启动器选择，可以隐藏应用，还可以自定义应用图标。\n\n## 沙发管家\n\n[沙发管家](http://www.shafa.com)是国人开发的 TV 端应用管理应用，方便安装、卸载应用。\n\n## 乐播投屏\n\n[乐播投屏](https://www.hpplay.com.cn)可以将 Android TV 模拟成 Apple TV，方便苹果设备投屏。\n\n### Kodi\n\nKodi 以前是 Xbox 的 Media Center，之后开源，作为播放器很不错，可以直接在 Google Play 安装。\n\n### VLC\n\n另一款媒体播放器，可以直接在 Google Play 安装。\n\n### Keep 国内版\nKeep 有适配 TV 端，可以在「沙发管家」下载国内版。\n\n### Mouse Toggle \n\nMouse Toggle 可以把遥控器模拟成鼠标，方便操作一些遥控器不方便进行的操作。\n\n### TiviMate IPTV Player\n\nTiviMate IPTV Player 是一款为 TV 端适配的 IPTV 应用，需要自己填入直播源地址。\n\n港澳台直播源：https://homenet6.github.io/list.m3u\n\n英语台直播源：https://fluxustv.blogspot.com/p/m3u-list.html\n\n### Plex\n\n播放自己或别人搭建的 Plex 媒体服务器中的视频。\n\n### Emby\n\n另一款媒体服务器播放器。\n\n### HBO GO Hong Kong\n\n如果有订阅香港的 HBO Go，可以用 HBO GO Hong Kong，从 Google Play 下载需要 Google 港区账号，或直接在[这里](https://apkpure.com/hbo-go-hong-kong/hk.hbo.hbogo)下载。\n\n### Amazon Prime Video\n有订阅 Amazon Prime Video，可以在[这里](https://androidpctv.com/amazon-prime-video-4-14-for-android-tv-compatible-with-xiaomi-mi-box/)下载安装。\n\n## 盗版应用\n\n除了道德意义上的「善」与「恶」，正版资源意味着省心、方便，不必折腾（你的时间非常值钱），支持正版也有助于内容提供者产出更好的内容。得益于 Android 的开放，Android TV 有更多的可能性。\n\n### 直播类\n\n1. 星火电视\n\n[星火电视](http://bbs.xhzb.tw)内置很多港台电视直播，频道很多。\n\n2. Cloud TV\n\n[Cloud TV](https://www.cloudtv-agents.com) 包含很多国家的电视直播，这款「盗版」直播应用有「破解版」。\n\n3. TVTAP Pro\n\n使用 TVTAP Pro 可以观看国外电视直播。\n\n### 点播类\n\n1. TV 影院\n\n国人开发的电影、剧集搜索工具，主要是将在线的盗版视频抓过来，清晰度不是很高。\n\n2. TeaTV\n\n可以搜索在线视频，可以选清晰度、下载中英文字幕。\n\n## 手机应用推荐\n\n### Android TV\n\n手机端 Android TV 可以用手机控制 Android TV。\n\n### nio tvQ\n\n[nio tvQ](http://www.niotv.com/tvQ/ ) 可以看台湾第四台的节目预告。"},{"title":"Sketch 使用小贴士","url":"/sketch/","content":"\n![sketch_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/sketch_cover.png)\n\n1. 多使用 「元件」（Symbol） 与样式（Style）功能。若元素在界面中有复用的地方，可以考虑使用元件与样式功能。使用元件使用时注意几个问题：\n   - 元件内是否嵌套元件；\n   - 元件内元素位置是否需要钉在边缘、固定长度或宽度保证缩放时位置大小正确；\n   - 保持元件分类归纳整齐，可以用斜线「/」进行分类或在「组件」模板内调整。\n\n2. 多利用填充（Data）功能。多使用文本数据填充、头像填充、图片填充等等。\n3. 适当使用快捷键，快捷键参考[这里](https://www.sketch.com/docs/shortcuts/)，可配合 jitouch 使用。\n4. 推荐使用 [Sketch Runner](https://sketchrunner.com/) 插件，可以快速执行命令、快速跳转页面或图层、快速插入元件、快速安装插件等等。目前这个插件需要付费，建议付费使用，若不想付费，可以使用旧版本。\n5. 数据填充推荐 [Sketch-Stuffing](https://github.com/Ashung/Sketch-Stuffing ) 插件，内置很多文字数据，如中英文男女姓名、电话等等，还可以方便自定义文本。\n6. 推荐使用 [Rename It]( https://renameit.design/sketch/) 插件，方便批量命名图层、元件、画板。\n7. Sketch 开发人员很活跃，每过一段时间就增加一些功能，在老版本需要多步操作可能在新版本一步就可以完成，建议隔一段时间翻阅 Sketch 的[使用文档](https://www.sketch.com/docs/)，关注[博客](https://www.sketch.com/blog/)、[YouTube 频道](https://www.youtube.com/channel/UC-1eTnnUmKJ8yEa1nCnAGpw/videos)，获得一手资料。\n\n\n\n\n\n"},{"title":"Home Assistant 系列——DIY 篇（上）","url":"/ha3/","content":"\n![ha3_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/ha3_cover.png)\n\nHome Assistant 有很多工具可以方便我们 DIY，其中一个是 [ESPHome](https://esphome.io)，以下是小弟的一些尝试：\n\n## 准备工作\n\n### 安装 ESPHome\n\n方法一：在 macOS 安装\n\n首先安装 ESPHome，打开系统终端机，输入\n\n```\npip install esphome\n```\n\n之后安装 ESPHome 面板，\n\n```\npip install tornado esptool\nesphome config/ dashboard\n```\n\n在浏览器访问地址 `localhost:6052`\n\n方法二：在群晖 Docker 安装\n\n在群晖 Docker 安装 ESPHome，之后通过 [NodeMCU PyFlasher](https://github.com/marcelstoer/nodemcu-pyflasher/releases) 刷入固件。\n\n### 搭建 MQTT 服务器\n\n打开群晖 Docker，在「注册表」标签中搜索「mqtt」，下载映像，\n\n![mqtt1](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha3_mqtt1.png)\n\n在「映像」标签中找到下载的映像，点击「启动」，在「卷」中添加以下路径 `/mosquito/log`、`/mosquito/data`、`/mosquito/config`，且在`/mosquito/config` 路径下建立`mosquitto.conf` 文件，内容可以为空，或参考[这里](https://blog.csdn.net/luckykapok918/article/details/84954017)配置。网络可以选择与宿主机一致或根据自己偏好调整。\n\n![mqtt2](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha3_mqtt2.png)\n\n之后启动 Docker。访问 `http://群晖 IP:6052` 即可管理 ESPHome，在 Home Home Assistant 的 configuration.yaml 文件，添加以下代码：\n\n```\nmqtt:\n  broker: 群晖 IP\n  port: 1883\n```\n\n## 小米墨水屏温度计\n\n![](https://esphome.io/_images/xiaomi_lywsd02-full.png)\n\n![](https://esphome.io/_images/xiaomi_cgg1-full.jpg)\n\n小米有出两款墨水屏的温度计，墨水屏比 LCD 屏幕更加清晰，可以利用 ESP32 通过 ESPHome 接入 Home Assistant。\n\n### 圆形温度计\n\n参考[这里](https://esphome.io/components/sensor/xiaomi_cgg1.html)接入，访问 `ESPHome IP:6052`，\n\n![ha3_esphome1](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha3_esphome1.png)\n\n点击「＋」，填入名称、类型选「NodeMCU-32S」、WiFi信息，ESPHome 会帮我们增加一个设备，\n\n![ha3_esphome2](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha3_esphome2.png)\n\n点击「编辑」，加入以下代码：\n\n```\n# Example configuration entry\nesp32_ble_tracker:\n\nsensor:\n  - platform: xiaomi_cgg1\n    mac_address: 7A:80:8E:19:36:BA\n    temperature:\n      name: \"Xiaomi CGG1 Temperature\"\n    humidity:\n      name: \"Xiaomi CGG1 Humidity\"\n    battery_level:\n      name: \"Xiaomi CGG1 Battery Level\"\n```\n\nMAC 地址可由米家 App 获得，之后点击保存、上传刷入固件，Home Assistant 可以自动发现。\n\n### 长方形温度计\n\n参考[这里](https://esphome.io/components/sensor/xiaomi_lywsd02.html)接入，加入以下代码：\n\n```\nesp32_ble_tracker:\n\nsensor:\n  - platform: xiaomi_lywsd02\n    mac_address: 3F:5B:7D:82:58:4E\n    temperature:\n      name: \"Xiaomi LYWSD02 Temperature\"\n    humidity:\n      name: \"Xiaomi LYWSD02 Humidity\"\n```\n\n## 门禁改造\n\n参考这个大大的[文章](https://mp.weixin.qq.com/s/10tm0XzSvAlUTu-l8rDhSg)，小弟的门禁比大大的简单，不需要先摘机，可以直接按下开关，所以只需要引出一条线即可，接入继电器，继电器正负极分别接入 NodeMCU 的 3V、G，in 接入 D7，\n\n![ha3_doorbell](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha3_doorbell.png)\n\n在 ESPHome 中加入以下代码：\n\n```\nswitch:\n  - platform: gpio\n    pin: D7\n    id: relay\n  - platform: template\n    name: \"Doorbell\"\n    turn_on_action:\n    - switch.turn_on: relay\n    - delay: 500ms\n    - switch.turn_off: relay\n```\n\n这里设置了打开 500ms，自动关闭，模拟按下的弹簧弹起。\n\n## 各种传感器\n\nESPHome 接入各种传感器很方便，如温度传感器、光照传感器、手势传感器等等。"},{"title":"Home Assistant 系列——设备接入篇","url":"/ha2/","content":"\n![ha2_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha2_cover.png)\n\n[Home Assistant](https://www.home-assistant.io/) 支持大部分主流智能硬件，列表见[这里](https://www.home-assistant.io/integrations/)。下面是小弟验证可以接入的：\n\n## 接入设备\n\n### 米家 WiFi 插座\n\n米家 WiFi 插座有分基础板（带一个开关）、增强版（带一个开关、一个 USB 口），接入 Home Assistant 方法相似：\n\n1. 获取设备 IP 地址、token\n下载俄罗斯大大的[修改版米家 App](https://www.kapiba.ru/2017/11/mi-home.html)（仅支持 Android 系统，可免 root 直接获取米家设备 token），按照 App 内说明将插座连入。接入后接入设备详情页面，点击右上角「三个点」进入「设置」，在「设置」中找到「附加设置」，在「附加设置」中进入「网络信息」，在网络信息中可以看到设备 IP 地址及 token，复制保存。\n\n2. 下载这位大大的[源码](https://github.com/syssi/xiaomiplug)到本地，\n\n3. 打开群晖保存 Home Assistant 配置文件的路径，将下载的源码中`/custom_components` 路径下的文件复制到相同名称的路径下，用文本编辑器打开 configuration.yaml 文件，添加以下代码：\n\n  ```\n  # configuration.yaml\n  \n  switch:\n    - platform: xiaomi_miio\n      name: Original Xiaomi Mi Smart WiFi Socket\n      host: 192.168.130.59\n      token: b7c4a758c251955d2c24b1d9e41ce47d\n      model: chuangmi.plug.m1\n    - platform: xiaomi_miio\n      name: Xiaomi Mi Smart Power Strip\n      host: 192.168.130.60\n      token: 0ed0fdccb2d0cd718108f18a447726a6\n      model: zimi.powerstrip.v2\n  ```\n\n  其中，\n  - **host** (必填): 设备 IP 地址。\n  - **token** (必填): 设备 token。\n  - **name** (选填): 可任意名字。\n  - **model** (选填): 设备型号，可填入的值： `chuangmi.plug.v1`, `chuangmi.plug.v3`, `qmi.powerstrip.v1`, `zimi.powerstrip.v2`, `chuangmi.plug.m1`, `chuangmi.plug.m3`, `chuangmi.plug.v2`, `chuangmi.plug.hmi205` 和 `lumi.acpartner.v3`。 填入后可以繞過設備型號檢測，如果設備並接入有问题，建議填入此项。\n\n打开群晖保存 Home Assistant 配置文件的路径，将下载的源码中`/custom_components` 路径下的文件复制到相同名称的路径下，用文本编辑器打开 configuration.yaml 文件，添加以下代码：\n\n4. 重新载入设备，若日志中不报错则成功接入。\n\n### 米家空调伴侣\n\n米家空调伴侣有分带 Zigbee 模块和不带 Zigbee 模块，接入方法相似：\n\n1. 获取设备 IP 地址、token，参考 WiFi 插座，若想接入空调，在 App 内接入空调，\n\n2. 下载[源码](https://github.com/syssi/xiaomi_airconditioningcompanion)到本地，\n\n3. 打开群晖保存 Home Assistant 配置文件的路径，将下载的源码中的文件复制到`/custom_components` 路径下，用文本编辑器打开 configuration.yaml 文件，添加以下代码：\n\n```\n# configuration.yaml\n\nclimate:\n  - platform: xiaomi_miio_airconditioningcompanion\n    name: Aqara Air Conditioning Companion\n    host: 192.168.130.71\n    token: b7c4a758c251955d2c24b1d9e41ce47d\n    target_sensor: sensor.temperature_158d0001f53706\n    scan_interval: 60\n```\n\n4. 若要接入内置的 Zigbee 网关，可以参考[这里](https://www.home-assistant.io/integrations/xiaomi_aqara/)。在 configuration.yaml 文件，添加以下代码：\n\n```\nxiaomi_aqara:\n  discovery_retry: 5\n  gateways:\n```\n网关接入后，各种传感器也会同时接入 Home Assistant。\n\n5. 重新载入设备。\n\n### 斐讯 DC1 插座\n\n斐讯 DC1 插座接入有两种办法，一种是拆开刷机，另一种是 DNS 劫持（免拆机），可参考[这篇](https://bbs.hassbian.com/forum.php?mod=viewthread&tid=5637&highlight=dc1)，免拆机具体做法：\n\n1. 在路由器设置界面设置 DNS 劫持，不同路由器设置地方不相同， OpenWrt 可以在「网络」→「主机名」中修改，添加 `smartplugconnect.phicomm.com` 到 `群晖 IP`\n![ha2_dns](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha2_dns.png)\n\n2. 下载帖子中的「WiFi智能插座」 apk 文件，将插座连入 WiFi，在路由器中找到插座的 IP 地址，\n\n3. 下载配置源码，将对应文件放进对应文件夹，修改 `/packages` 下的 configuration.yaml 文件，将 IP 改为群晖 IP，设备名字自定义，\n\n4. 重新载入设备。\n\n### Chromecast\n\nHome Assistant 可以自动发现局域网内的 Chromecast 设备，如 Google Home、 Chromecast、 Android TV 等，按照页面设置即可若想手动配置，可以参考[这里](https://www.home-assistant.io/integrations/cast/)。\n\n另外，Google Home 还可以作为一个 TTS 设备。\n\n## 设备分组\n\nHome Assistant 调整 UI 很方便，只要点击右上角「三个点」，之后选择「配置 UI」，之后可以添加、删除设备。\n\n![ha2_homekit](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha2_homekit.png)\n\n## 接入语音平台\n\nHome Assistant 可以接入 HomeKit、Google Assitant、Alexa，使用 Siri、Google、Alexa 控制设备。\n\n### HomeKit\n\n在 configuration.yaml 文件添加以下代码，\n\n```\nhomekit:\n```\n打开 iOS设备的 Home App，选择「添加设备」，之后选择「我没有设置码或不能扫码」→「手动输码」，\n\n![ha2_u](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha2_ui.png)\n\nHome Assistant 会发一条通知，填入通知内的数字即可接入 HomeKit。\n\n若想手动配置，可以参照[这篇](https://www.home-assistant.io/integrations/homekit/)。\n\n### Google Assitant\n\nHome Assistant 接入 Google Assitant 步骤较多，参考[这里](https://www.home-assistant.io/integrations/google_assistant/)，以后专门文章写，想简单体验可以这样：\n\n1. 访问 https://www.nabucasa.com/，点击右上角「开始使用」，输入邮箱、密码，并验证邮箱，\n2. 在 Home Assistant 页面中登录 Home Assistant Cloud，在Google Assistant App 中添加设备，搜索「home assistant」，绑定注册的账号，体验时间是 30 天。\n\n### Alexa\n\nAlexa 设置可以参考[这里](https://www.home-assistant.io/integrations/alexa/)，也可以利用 Home Assistant Cloud 体验。 \n\n## 外网访问\n\n外网访问 Home Assistant 可以利用公网 IP 和 DDNS 实现，公网 IP 需要向运营商申请，DDNS 可以直接利用群晖自带的 DDNS。\n\n打开群晖控制面板，在「外部访问」中的「DDNS」中选择「添加」，之后可以申请域名，也可以用自己的域名，\n\n![ha2_ddns1](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha2_ddns1.png)\n\n在路由器中设置 DDNS，如 OpenWrt 可以在「网络」→「防火墙」中添加一条记录。\n\n![ha2_ddns2](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha2_ddns2.png)"},{"title":"Home Assistant 系列——Docker 安装篇","url":"/ha1/","content":"\n![ha1_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha1_cover.png)\n\n>欢迎，人类！\n>我们带着和平与友好前来拜访您！\n>\n>- 机器人不得伤害人类，或袖手旁观坐视人类受到伤害。\n>- 机器人见过人类绝对无法置信的事物。\n>- 机器人是您的塑胶伙伴，有它作伴快乐无比。\n>- 机器人有着不该被咬的闪亮铁屁股。\n>  而且他们有个计划…\n\n[Home Assistant](https://www.home-assistant.io/) 是最酷的开源智能家居平台，可以很方便地接入各种设备、DIY，以及 Homekit、Google Assistant、Alexa。\n\n运行 Home Assistant 可以选择树莓派，或者其他 Linux 硬件，下面是群晖 Docker 的安装步骤：\n\n在群晖套件中心搜索「docker」安装 Docker（图标是小鲸鱼顶集装箱） 并打开，\n\n![ha1_docker](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha1_docker.png)\n\n\n\n在「注册表」标签中搜索「home assistant」，下载 Home Assitant 的映像，\n\n![ha1_reg](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha1_reg.png)\n\n\n\n等待映像下载完成，完成后群晖会有通知。在「映像」标签中找到下载的映像双击，\n\n![ha1_set0](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha1_set0.png)\n\n选择「高级设置」，\n\n![ha1_set1](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha1_set1.png)\n\n在「高级设置」标签中根据偏好选择是否「自启动」，\n\n![ha1_set2](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha1_set2.png)\n\n在「卷」标签中添加一个文件夹，这个文件夹将存放 Home Assistant 的配置文件，挂载路径为 `/config`，\n\n![ha1_set3](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha1_set3.png)\n\n在「网络」标签中选择「与宿主网络相同」，\n\n![ha1_set5](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha1_set5.png)\n\n在环境中添加 `variable = TZ` 和 `value = Asia/Shanghai` ，\n\n![ha1_set6](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/ha1_set6.png)\n\n确认「高级设置」，点击「下一步」，之后「应用」，在浏览器访问 `http://群晖 IP:8123` 。至此，Home Assistant 安装成功。\n\n\n\n\n\n"},{"title":"iOS 应用推荐","url":"/ios/","content":"\n![ios_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/ios_cover.png)\n\n以下是小弟的一些 iOS 应用推荐：\n\n## Alook\n\n[Alook](https://apps.apple.com/us/app/id1261944766) 是一款很酷浏览器应用，提供了比 Safari 更多的人性化功能，如视频倍速、悬浮播放，自带下载、解压，广告屏蔽、翻译等等。\n\n## 讯飞输入法\n\n[讯飞输入法](https://apps.apple.com/cn/app/id917236063) 提供一个非常酷的功能，无需任何切换可以直接在键盘上手写（支持连写），其他方面也没有短板。\n\n## Pin\n\n[Pin](https://apps.apple.com/us/app/id1039643846) 可以扩展剪贴板的功能：复制后打开 Widget 进行记录、将剪贴板文本分词，方便复制或搜索其中一部分使用等等，另外支持 iCloud 在多台设备中同步。\n\n## nPlayer\n[nPlayer](https://apps.apple.com/us/app/id1116905928) 是一款功能全面的播放器，可以方便地播放 NAS、云服务（如 Google Drive等）内的视频、音频， 支持 Chromecast。\n\n## Picsew\n\n[Picsew](https://apps.apple.com/us/app/id1208145167) 是一款长截屏工具，可以方便制作长截屏，支持屏幕录制直生成长截图、拼接长截屏。\n\n## 1Password\n\n[1Password](https://apps.apple.com/us/app/id568903335) 可以方便管理密码、快速登录，支持 iCloud 同步。\n\n## 欧陆词典\n\n现在可以使用在线词典查词，小弟还是偏好纸质词典的电子版，[欧陆词典](https://apps.apple.com/us/app/id393670998)支持多种扩展词库（支持自制扩充词库：如朗文、牛津等等），可以离线使用。\n\n## 萌典\n\n[萌典](https://apps.apple.com/us/app/id393670998)是一款汉语词典，字典来源为教育部《重编国语辞典修订本》，支持汉字笔顺动画、发音等等，可以离线使用。\n\n## Google Translate\n\n[Google Translate](https://apps.apple.com/us/app/id414706506) 支持多国语言，可以手写、语音、拍照实时翻译。\n\n## Reeder\n\n[Reeder](https://apps.apple.com/us/app/reeder-4/id1449412357 ) 是一款漂亮、好用的 RSS 阅读器，支持 inoreader 等第三方登录。\n\n## Draft\n\n[Draft](https://apps.apple.com/us/app/drafts/id1236254471 ) 是一款草稿应用，打开即可书写，写完可以方便地利用 URL Schemes 发送至其他应用，支持 iCloud，有 Mac 版。另外，Draft 支持 Markdown ，也可以作为一个 Markdown 写作工具。\n\n## Thor\n\n[Thor](https://apps.apple.com/us/app/id1210562295) 是一个抓包工具，可以方便地提取 App 或网页里的视频、音频等等。\n\n## 白描\n\n[白描](https://apps.apple.com/us/app/id1249901692)是一个 OCR 识别工具，可以方便地识别图片中的文字，支持批量识别。\n\n## Google\n\n[Google](https://apps.apple.com/us/app/google/id284815942) 是 Google 同名应用，内置 Google Lens， 可以识别物体、快速复制、翻译文字等等。另外还可以用来注册 Google 账号，免输手机号。\n\n## Snapseed\n\n[Snapseed](https://apps.apple.com/us/app/snapseed/id439438619) 是一款照片处理应用，功能全面。\n\n## Priime\n\n[Priime](https://apps.apple.com/us/app/priime/id934587545) 是一款图片后期处理应用，内置很多滤镜，应用内的滤镜很好用。\n\n## Shortcuts\n\n[Shortcuts](https://apps.apple.com/us/app/id915249334) 是一款自动化应用，可以将功能串到一起，形成一个工作流，以快捷方式的形式访问。\n\n## IFTTT\n\n[IFTTT](https://apps.apple.com/us/app/id660944635) 可运用不同事件与动作的组合 (这个组合称之为 Applet)，帮你串起各种 App 及装置。比如说，若有个你常用的 App 中发生了新事件，IFTTT 就能自动帮你在另一个 App 或装置中进行特定动作。\n\n## Diii notify\n\n[Diii notify](https://apps.apple.com/us/app/diii-notify-hourly-chime/id1001398032) 可以设置每个半点、整点提醒，方便使用「[单核工作法](https://book.douban.com/subject/27177909//)」，配合 Apple Watch 使用效果最佳。\n\n## Gmail\n\n邮箱中 [Gmail](https://apps.apple.com/us/app/id422689480) 最好用，另外 Gmail 应用还支持其他邮箱登录。\n\n## Hangouts\n\n[Hangouts](https://apps.apple.com/us/app/id643496868) 可以用来收 Google Voice 号码的短信和接听电话，避免注册各种应用时泄露手机号码，保护隐私。\n\n## 自带应用\n\niOS 内置一些好用应用：\n\n### Wallet\n\n系统自带 Wallet 除了可以放银行卡、电影票等等，还可以自制卡片添加到 Wallet，将各种会员卡或其他固定的文本信息添加进来，支持条形码、二维码等等。因为是系统层级的应用，调出非常方便。自制卡片可以使用 [Pass2u](https://www.pass2u.net) 或 [Passdock](https://api.passdock.com) 这两个网站。\n\n### FaceTime\n\nFaceTime 很适合家人使用，对老年人、小朋友操作简单，通话质量佳。注意：「国行版」原生不支持 FaceTime 语音和群组通话。\n\n### Message\n\nFaceTime 适合家人使用，点对点加密，安全，与信息融合，无需额外安装，使用简单。\n\n\n\n\n\n"},{"title":"群晖虚拟机安装软路由","url":"/openwrt/","content":"\n![openwrt_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt_cover.png)\n\n> 我外表是胖，但内在的我是瘦的。你有没有想到过每个胖人的内部都有个瘦人，就像有人所说，每块石头里都有座雕像？\n\n软路由是一台运行 [OpenWrt]( https://openwrt.org/) 系统的主机，以软件的形式实现拨号、DHCP 等路由器功能。相较于「硬路由」，使用软路由的主要理由有：\n\n1、可以更快更稳地科学上网，因为一个只处理网络相关的 Linux（OpenWrt 基于 Linux） 处理需要消耗 CPU 的运算（如科学上网中的加密解密过程）比其他设备做得更好。\n\n2、有些设备需要科学上网的环境才能正常使用，如 Google Home，Android TV 等等。\n\n这篇文章是群晖虚拟机运行 OpenWrt 作为主路由的步骤，这样做的好处是免去另外增添额外硬件。如果群晖只有一个网口，OpenWrt 只能以「旁路由」的方式运行，想以主路由的方式运行，建议群晖有两个物理网口。\n\n## 网络连接建议\n\n大多数光猫默认负责拨号，小弟建议改成桥接模式，不同光猫设置方法不尽相同，可以自行搜索方法，如果搞不定，可以像小弟一样到淘宝寻求办法。\n\n建议软路由做主路由，硬理由以无线 AP 的模式运行，这样的好处是少了一层 NAT ，减少网络损耗，具体网络连接方式如下：\n\n![openwrt1](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt1.png)\n\n## 建立虚拟机\n\n首先准备好软路由固件，固件可以自己编译（推荐用 Github Actions 编译），也可以使用别人编译好的固件。编译好的固件可以到[恩山论坛 x86 系统区](https://www.right.com.cn/forum/forum-169-1.html)去找，有很多大大编译好的，比如小弟使用的[这个](https://www.right.com.cn/forum/thread-3708606-1-1.html)。\n\n注意：固件文件一般会有 combined 和 uefi-gpt 两种，前者支持 MBR 的分区表和 BIOS 系统，后者支持 GPT 分区表和 EFI 系统。我们这里选用 uefi-gpt 即可，下载的固件后缀名为「.gz」，需要解压成「.img」文件。\n\n打开群晖「套件中心」，搜索「Virtual Machine Manager」，下载并安装，\n\n![openwrt2](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt2.png)\n\n打开 Virtual Machine Manager，在「网络」中添加两个网口，一个作为软路由 LAN 口（作为 DHCP 的网口），一个作为 WAN 口（连外网的网口），\n\n![openwrt3](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt3.png)\n\n最终添加两个网口，\n\n![openwrt4](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt4.png)\n\n在「映像」中选择「创建」，选择「从电脑上传」，上传后缀为「.img」的固件文件，\n\n![openwrt5](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt5.png)\n\n在「虚拟机」中选择「新建」→「导入」，选择刚刚的映像，\n\n![openwrt7](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt7.png)\n\n填入虚拟机名称，名字任意，如 openwrt，选择 CPU、内存（建议 1G 或以上）配置，点击「下一步」，\n\n![openwrt8](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt8.png)\n\n选择硬盘容量，最小是 10G，点击「下一步」，\n\n![openwrt9](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt9.png)\n\n点击「+」新增网口，注意 LAN（作为 DHCP 的网口）在上， WAN（连外网的网口）在下，点击「下一步」，\n\n![openwrt10](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt10.png)\n\n建议勾选「开机自启动」，点击「下一步」，\n\n![openwrt11](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt11.png)\n\n权限可以全部勾选，点击「下一步」，\n\n![openwrt12](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt12.png)\n\n确认配置，点击「完成」。\n\n![openwrt13](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt13.png)\n\n## 联网设置\n\n### 配置网口\n\nOpenWrt 模拟了一个管理地址 192.168.1.1 ，可能与我们的路由器或光猫冲突，我们需要先调整管理界面地址。\n\n在「虚拟机」标签卡中找到刚刚建立的虚拟机，若未开机可以先开机，点击「连接」，\n\n![openwrt14](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt14.png)\n\n在新浏览器标签页可以看到 OpenWrt 运行的命令行，点击回车，看到 OpenWrt 的标志，之后输入`vi /etc/config/network`，点击回车，\n\n![openwrt15](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt15.png)\n\n之后输入`i`，进入编辑模式，找到「lan」，将地址改为其他未占用的 IP，如`192.168.77.1`，之后按 esc 键退出编辑模式，之后重启虚拟机。\n\n![openwrt16](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt16.png)\n\n下一步将硬路由设置为 AP 模式，不同路由器设置方法不一样，若是华硕路由器可以下载 [ASUS Router](https://www.asus.com/asus-router-app/) 这个 App 将路由器改为 AP 模式，\n\n![openwrt17](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt17_new.png)\n\n先将群晖关机，将一根网线一端插入  LAN 口（作为 DHCP 的网口），另一端插入路由器，之后将群晖开机，\n\n电脑连接路由器的 WiFi，访问刚刚设定的 OpenWrt 的管理地址，如`192.168.77.1`，输入密码（可以在固件介绍页找到），找到「网络」→「接口」，在 WAN 口点击「修改」，\n\n![openwrt18](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt18_new.png)\n\n设置连外网方式，如选择「PPPoE」，填入宽带账号、密码，\n\n![openwrt19](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt19_new.png)\n\n稍等片刻，应该可以联网了。\n\n### 科学上网设置\n\nOpenWrt 固件一般会内置不止一个科学上网工具，如 ShadowSocksR Plus+、PassWall、Hello World、OpenClash，填入节点信息即可，或者填入订阅地址。\n\n![openwrt20](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt20_new.png)\n\n### 其他\n\n若群晖无法联网，可以这样修改，在「控制面板」中找到「网络」，在「常规」选项卡中修改网关地址，将 OpenWrt 的管理地址移到上面。\n\n![openwrt21](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt21_new.png)\n\n## 软路由设置\n\nOpenWrt 功能很多，以下是几个常用功能的位置：\n\n### 设置密码\n\n在「系统」→「管理权」中可以修改登录密码。\n\n![openwrt22](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt22.png)\n\n### 端口转发\n\n我们想在外网访问内网的服务或设备，可以使用「端口转发」功能，可以在「网络」→「防火墙」→「端口转发」中找到。\n\n![openwrt23](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt23_new.png)\n\n### DNS 劫持\n\n需要将特定域名跳转至特定地址，可以使用「DNS 劫持」，可以在「网络」→「主机名」找到。\n\n![openwrt24](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt24_new.png)\n\n## 管理 Openwrt\n\n### SSH 连接\n\nOpenWrt 有内置终端机，在「系统」→「TTYD」可以找到。\n\n![openwrt25](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt25.png)\n\n### STP 管理文件\n\n在 STP 客户端，如 Transmit 中选择「STP」，填入 OpenWrt IP地址，用户名填「root」，之后就可以管理 OpenWrt 文件。\n\n![openwrt27](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt27.png)\n\n### 固件升级\n\nOpenWrt 支持固件升级，若使用同一个作者编译的，可以保留配置，Web 页面升级 \\*.gz 文件无需解压，在「系统」→「备份/升级」中上传固件即可。\n\n![openwrt26](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/openwrt26_new.png)\n\n\n\n\n\n\n\n\n\n\n\n"},{"title":"Apple Watch 使用理由","url":"/watch/","content":"\n![watch_cover2](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/watch_cover2.png)\n\n小弟很幸运，很早以前嫂子就送小弟一块 Apple Watch，如果要说这块表有没有用，用一句话描述很合适——「还没用的时候感觉手机可以替代，用了之后离不开」，以下是有一块 Apple Watch 的理由：\n\n## 提醒珍惜时间\n\n正如手机的功能之一是打电话，手表可以看时间。 Apple Watch 提供最酷的时间显示，偏好简洁可以选大字体表盘，喜欢运动可以选运动表盘，还有万花筒、蝴蝶等等可选，每个表盘都设计精美。最酷的是「米奇」「米妮」表盘——这款复刻 1933年 的迪士尼表盘，点一下表盘可以报时，中文「米妮」声音很萌，有时还会加「哇呜」等等语气词。充电时会显示大字体时间，敲一下桌子会显示。\n\n我们需要一个可以随时看到时间的物品的原因不仅是我们仅仅获得时间信息，更重要的是会给我们一个珍惜时间提醒。佛经的作用不仅仅是提供文字信息，实体的经书犹如佛像，可以提供我们一个可以看到、触摸的实体，提醒我们重要的不是经书，而是佛经中的教义。而时间是我们最稀缺资源，无法再生，一块实体表以一个实体的形式通过数字的笔画、指针的转动提醒我们时间在流逝，人生有限。\n\n## 减少手机依赖\n\n手机的硬件越来越厉害，能做的事情越来越多，我们花在手机上的时间也越来越多，甚至花了过多时间。我们不想沉溺于几英寸的屏幕，又担心错过「重要」的信息。Apple Watch 可以设置每个应用的通知形式，过滤「不重要」的信息，并以一种「温和」「可以感知」的振动方式提醒。我们大可以设置好应用的通知与否，放下手机，专注于其他事情，而手腕收到「重要」通知的振动时，抬手一窥通知简要详情，在需要的时候打开手机。\n\n## 帮助保持健康\n\nApple Watch 内置保持健康提醒，每日会以温和、不打扰、鼓励为主的方式发提醒。我们快接近设定的目标时，会有提醒，我们超过设定的目标时，会鼓励，我们久坐时，会提醒站立，每个提醒文案和动画都是精心设计，使我们不自觉想要完成健身目标。\n\n## 简化日常操作\n\n手机功能越来越多，操作也越发复杂，有时候我们可能两手拿很多东西不方便，又需要看一些信息或执行一些简单操作，这时候 Apple Watch 的作用就体现出来了，下面是一些例子：\n\n1. 简化付款\n\n在中国好像都偏好用二维码、条形码付款，支付宝有出手表付款码，并且可以在表盘上加快捷入口，只要抬腕、点一下即可展示付款码，有二维码、条形码（一般店员扫的是条形码，自己扣机器的是二维码），比较酷一点是，付款码支持「离线」，即Apple Watch 无需联网、连手机可以独立使用（确切地说是半离线，扫码的电脑需要联网）。\n\n2. 简化看购物清单\n\n有时我们会写一个购物清单去购物，有时手机并不是很方便，因为手机会占用一只手。Google Keep 可以解决这个问题，Google Keep 是一个轻量级的笔记应用，在 Apple Watch 很好地适配，且执行速度很快，可以提前打开手表上的 Google Keep ，找到要看的笔记，之后只要抬腕就可以看到诸如购物清单等简单的文字信息。\n\n3. 简化控制家电\n\n如果有搭建或购买 Homekit 的设备，可以直接用手表控制，不用到处找各种开关，可以作为语音控制设备的一个补充。\n\n4. 简化用天气等小工具\n\n手机不在身边，可以用 Apple Watch 完成一些轻量级的操作，如查看天气、设定定时器等等。\n\n5. 简化导航\n\n现在的道路越来越复杂，去陌生地方不得不带手机的原因之一是手机可以导航。小弟曾经尝试用 Apple Watch 的地图导航，是可以基本完成导航这个功能的。首先需要在 iOS 自带地图设定好起点、终点，启动导航，此时打开 Apple Watch 就可以看到导航开始，在过程中，表盘上会显示下一步要乘哪路车，或者应该走哪条路，待该下车或拐弯的时候会振动提醒，同时表盘提示下一步要做什么。整个过程中， Apple Watch 会将路线以文字显示，适时提醒。"},{"title":"DIY 超酷的像素钟","url":"/awtrix/","content":"\n![awtrix_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/awtrix_cover.png)\n\n![awtrix_display](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/awtrix_display.png)\n\n小弟以前听说过 [LaMetric TIME](https://lametric.com/)，觉得很酷，像桌面版的 Apple Watch，可以显示一些固定信息（如时间、天气等等），还可以显示通知，过滤信息。但是囊中羞涩，只能远观。直到发现这位大大的[视频](https://www.youtube.com/playlist?list=PLmxTR4AYd_9T3Lw7PR9u_UrtplM1Dqp77)，详细记录了替代品的完整制作过程，小弟根据步骤也做了一个，期间踩了一些坑，以下是过程：\n\n## 购买配件\n\n像素钟的名字是 [Awtrix](https://blueforcer.de/awtrix-2-0/)，在[这里](https://awtrixdocs.blueforcer.de/#/en-en/hardware)中可以找到需要的电路元件，主要有以下：\n\n基本元件：\n- Wemos D1 mini（也可以用 NodeMCU 等 Esp8266 模块，免焊接）\n- 8x32 WS2812B 全彩软像素屏\n- 杜邦线若干（建议公对母、公对公、母对母都备一些，方便延长线）\n- MicroUSB 数据线\n\n可选配件：\n- DC 直流电源插头\n- 5v 4A电源\n- 1000uF 10V 电容\n- LDR GL5528 光敏电阻\n- 1000Ω 电阻\n- APDS-9960 手势模块\n- MicroSD 卡模块\n- 扬声器\n\n（以上元件都可以在淘宝买到，直接搜索关键词即可，若选择 Wemos D1 mini，可能还需要一个电烙铁进行焊接）。\n\n其他配件：\n1.3D 打印光栅\n默认像素灯是圆形，加入光栅可以将圆形变成方形，显示效果更好，建议打印。打印文件可以在 [Thingiverse](https://www.thingiverse.com/thing:2791276) 下载，小弟是在[魔猴网](http://www.mohou.com/)打印的，加运费大概 60-70 元。\n\n2.外壳（可选）\n可选外壳，非必选，打印成本较高，另外作者推出了 Awtrix Pro，外壳和之前的不一样。\n\n3.亚克力蒙版\n可以增强显示效果，淘宝搜索「亚克力定制」即可，颜色选「黑茶色」，尺寸可以选 95×340×2mm。\n\n4.A3 纸\n起到增强显示效果的作用，A4 纸不够长。\n\n## 服务器端\n\nAwtrix 分服务器端与控制端，其中服务器端小弟选择用群晖 Docker 运行，也可以用树莓派（新的外壳可以直接放入树莓派），甚至是 Android 手机。\n\n下面是 Docker 的步骤，在注册表中搜索「whyet」，下载「whyet/awtrix2」这个映像。映像下载好运行映像，小弟没搞清楚配置文件的路径，所以没有配置路径相关，另外 Awtrix 默认会占用 7000 端口号，可以根据自己实际情况调整。\n\n![docker_awtrix](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/docker_awtrix.png)\n\n容器运行后，可以在日志后终端中看到安装情况，待 jar 文件下载完成，在浏览器中打开 `http://群晖 IP:7000`，就可以进入 Awtrix 服务器端，因为还没有控制端，所以会有未连接的提示。\n\n![awtrix_manager](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/awtrix_manager.png)\n\n另外，服务端适配了移动端，可以手机端进行控制。由于是运行在群晖中，可以通过配置 DDNS 与端口映射实现外网访问。\n\n## 控制端\n\n### 刷入固件\n\n1.控制端刷入固件非常容易，首先要下载相应模块的驱动，若是 D1 mini，请前往[这里](https://wiki.wemos.cc/downloads)下载，若是 NodeMCU 请前往[这里](https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers) 下载。\n\n2.下载安装 [NodeMCU PyFlasher](https://github.com/marcelstoer/nodemcu-pyflasher/releases) 及控制端[固件](https://blueforcer.de/awtrix/beta/firmware.bin)，将模块用 MicroUSB 数据线连接至电脑 USB 口，选择好端口及固件路径，点击[刷入]。\n\n![awtrix_flash](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/awtrix_flash.png)\n\n刷入成功可以看到 Awtrix 的 AP，连入这个 WiFi（密码是 awtrixxx），之后填入 WiFi 信息（名称、密码）及服务端 IP （即群晖 IP）即可（无需端口号）。\n\n![awtrix_wifi](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/awtrix_wifi.png)\n\n### 连接电路元件及组装\n\n1.连接按照官方的[电路图](https://awtrixdocs.blueforcer.de/#/en-en/hardware)连接即可，连接成功默认显示「时间」 App。\n\n注意：正负极不要接反。\n\n2.显示部分按照亚克力板、纸（裁成亚克力板大小）、光栅、像素灯从外到底的顺序，用双面胶粘住。若打印了外壳，可以将元件套入外壳中。\n\n![awtrix_wire](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/awtrix_wire_mini.JPG)\n\n3.连接好后，按几次 D1 mini 的「reset」键，待屏幕出现图像启动即可。\n\n### App 推荐\n\nAwtrix 支持多个 App，以下是几个 App 介绍：\n\nTime：默认自带，可以在设置中调整时区，可以选择日期、时间 12/24 制、是否显示星期指示格式。\n\nOpenWeather：需到 [OpenWeather](https://home.openweathermap.org/) 注册填入 APIKey。填入之后位置 ID，可以在[这里](https://openweathermap.org/city)。 \n\nAnimations：可以显示随机动画，很有趣，无需配置。目前总计有二十多种动画，包括：91yinpin、彩虹（Rainbow）、老虎机（SlotMachine）、漩涡（Swirl）、Shockwave、KnightRider、Raindrops、Starfield、ghost&pac、Fire2、蝙蝠侠（batman）、Metaballs、emoji、candycane、nyancat、贪吃蛇（snake）、俄罗斯方块（tetris）、吃豆人（pacman）、马力欧（mario）、fire、太空侵略者（space invader）、invader attack、kamehameha、yoshi、Amiga、Smiley\n\nMoon：可以显示当日月相（即月圆月缺），无需配置。\n\nPM：可以显示地区 PM2.5 值，需要填入位置监测点位置 ID。\n\nMatrix：显示黑客帝国里面的矩阵动画。\n\nSpotify：登录 Spotify 账号即可，每次切换歌曲可以显示歌名（目前仅支持英文显示，其他语言显示空白）。\n\n## 固件升级\n\nAwtrix 控制端升级可以直接在控制界面在线升级，服务端可以通过重启 Docker，重新下载服务器端 jar 文件的形式升级。\n"},{"title":"搭建 V2ray 连接互联网","url":"/gfw/","content":"![gfw_cover2](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/gfw_cover2.png)\n\n1999 年 4 月，亚洲东部一个国家北方的某个城市发生仅次于十年前的大规模民众集体上坊事件，当局事情发生之后才知道那些民众是通过网络集合起来的。而早在 1998 年 9 月，公安就在酝酿开展类似网络管制的「金盾工程」，因为这次的事件这个工程进度大大加快，至 2000 年 5 月，代号 005 的工程开始实施。从此，古老的东方国家建立起天下第一、独步全球的超级防火长城。\n\n2011 年，知乎员工 clowwindy 将自己自用了一年多的小工具 Shadowsocks 贴在一个技术论坛上， Shadowsocks 部署简单，对服务器配置要求低，可以自动区分境内境外流量，不易被识别，很快成为最流行的破墙方式。多年滞销的 VPS 开始畅销，有些人开始学习 Linux 命令行，有些人开发出管理面板，嗅到商机的人购买服务器做起 「机场」的生意。\n\n![gfw0](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/gfw0.png)\n\nShadowsocks 的繁荣引起当局注意，击破作者及各类衍生工具的作者后，Shadowsocks 渐渐停止了更新。\n\n「有一种鸟儿是永远也关不住的，因为它们的每片羽毛都闪着自由的光辉。」热爱自由的伟大程序员又开发了其他工具，如 V2ray、Brook、Trojan 等等，其中目前稳定且生态完整的是 [V2ray](https://www.v2ray.com)。\n\n这篇文章主要是搭建 V2ray 的过程，目前相对不会被封的方法是 Nginx+Websocket+TLS\t 的方式，将流量伪装成访问某一个 IP 地址。\n\n## 搭建\n\n### 建立 VM 实例\n\n首先申请好谷歌云，或者用其他 VPS，并建立好 VM 实例、建立防火墙入站规则。具体过程可以参见之前小弟的[这篇](https://drunkfish.me/gcp)。\n\n在建立实例前可以通过[这个](http://www.gcping.com/)或[这个](https://www.feitsui.com/zh-hans/cloud/gcp)网站初步测速选择国家。待建立 VM 实例后，可以用终端机输入命令 `ping 服务器 IP`，如果延时高可以重新选择。\n\n### 申请域名\n\n搭建 V2ray 伪装流量需要绑定域名，付费、免费域名都可以，免费域名申请可以参见之前小弟的[这篇](https://drunkfish.me/domain/)。同时，域名的某个主机名（如 www.drunkfish.ml 解析到服务器的 IP，比如可以添加一条 www 的 A 记录。\n\n### 一键脚本安装\n\n安装 V2ray 最简单的办法是使用一键脚本。目前[这个大大写的脚本](https://github.com/hijkpw/scripts)还在更新（包括 V2ray 加密脚本、V2ray 伪装脚本等等，作者的网站在[这里](https://www.hijk.pw/)）。下面以 Desbian 系统安装带伪装 V2Ray为例：\n\nSSH 连接实例，获取 root 权限，\n\n```\nsudo -i\n```\n\n之后输入\n\n```\nbash <(curl -sL https://raw.githubusercontent.com/hijkpw/scripts/master/ubuntu_install_v2ray2.sh)\n```\n\n待屏幕出现「确认满足按y，按其他退出脚本」，按 `y`，回车，输入域名的主机名（如 www.drunkfish.ml）、伪装路径（如`/drunkfish`），另外建议选择安装 BBR 加速（脚本已内置）。\n\n![gfw1](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/gfw1.png)\n\n安装成功会显示配置信息，复制保存，之后重启实例。\n\n![gfw2](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/gfw2.png)\n\n\n# 使用\n\n在设备上安装 V2Ray 客户端，添加节点，填入相应信息就可以流畅地访问互联网。\n\n## iOS\n\niOS 上可用的 V2ray 客户端有 [Shadowrocket](https://itunes.apple.com/us/app/id932747118)、[Quantumult](https://apps.apple.com/us/app/id1252015438)。\n\n注意：这几款应用在中国区 App Store 已下架，请注册非中国区（如美区）Apple ID，美区 Apple ID 不支持中国信用卡付款，可以用苹果礼品卡充值（$10 起充，参见[这篇](https://blog.shuziyimin.org/636)），或者绑定美区 PayPal（推荐，美区 PayPal 可以绑定中国外币信用卡，参见[这篇](https://blog.shuziyimin.org/171)）。\n\n## macOS\n\nmacOS 推荐使用 [ClashX](https://github.com/yichengchen/clashX)、[V2rayU](https://github.com/yanue/V2rayU)。ClashX 需编辑配置文件，配置文件参见[这里](https://github.com/Hackl0us/SS-Rule-Snippet/blob/master/LAZY_RULES/clash.yaml)。\n\n## Android\n\nAndroid 可以使用 [Kitsunebi](https://play.google.com/store/apps/details?id=fun.kitsunebi.kitsunebi4android)。\n\n## Windows\n\nWindows 上可以使用 [V2RayW](https://github.com/Cenmrev/V2RayW)。\n\n## 路由器\n\n硬路由可以使用 V2ray 的固件有梅林改版、老毛子 Padavan、OpenWrt 等等，软路由可以使用 OpenWrt。"},{"title":"Freenom 申请免费域名","url":"/domain/","content":"\n![domain_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/domain_cover.png)\n\n我们有时候有需要用到域名，比如建博客、搭建伪装流量、访问家中的设备等等，如果不想花钱买域名，[Freenom](https://www.freenom.com) 提供了 .tk、.ml、 .ga、.cf、.gq 域名，是一个选择。\n\n## 获取域名\n\n**操作时建议全程美国 IP。**首先打开 [Freenom](https://www.freenom.com/) 网站，默认注册是隐藏的，直接在搜索框中需要的域名，务必加后缀，如「drunk-fish.tk」，若显示绿色的「Selected」按钮，说明域名可用。依次输入想要的域名（需加后缀「.tk、.ml、 .ga、.cf、.gq」 ），之后点击「checkout」按钮，\n\n![domain1](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/domain1.png)\n\n选择「12个月」，\n\n![domain2](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/domain2.png)\n\n输入邮箱或使用 Google 或 Facebook 账号登录，登录邮箱打开验证链接，\n\n![domain3](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/domain3.png)\n\n填写个人信息，其中美国地址建议在这里生成，\n\n![domain4](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/domain4.png)\n\n此时申请域名成功。\n\n![domain5](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/domain5.png)\n\n注意：若出现以下提示建议更换美国 IP 重试。\n\n![domain6](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/domain6.png)\n\n## 域名解析\n\n申请域名之后可以根据实际情况设置域名解析。首先找到要解析的域名，Freenom 可以选择「服务」，之后选择「我的域名」，\n\n![domain7](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/domain7.png)\n\n找到要解析的域名如 drunk-fish.tk，选择「管理域名」，\n\n![domain8](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/domain8.png)\n\n选择「管理 DNS 记录」，\n\n![domain9](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/domain9.png)\n\n之后就可以修改 DNS 解析，\n\n![domain10](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/domain10.png)\n\n其中 drunk-fish.ga 是一级域名， www.drunk-fish.ga 是二级域名， www.xiaoyu.drunk-fish.ga 是三级域名，二级、三级域名都是子域名。\n\n主机记录是域名前缀，如 www.drunk-fish.ga， `www` 即为这个子域名的主机记录。其中主机记录常用的有以下两个：\n\n1. A 记录\n\n如果虚拟主机是独立 IP，使用 A 记录类型，记录值填写服务器 IP。主机记录内容填写域名前缀，常见用法有:\n\n- `www`  解析至域名 www.drunk-fish.ga\n- `@` 或留空    直接解析至主域名 drunk-fish.ga\n- `*` 解析至域名 *.drunk-fish.ga\n\n2. CNAME 记录\n\n如果虚拟主机不是独立IP，使用 A 记录类型，用法与 A记录相似。\n\nTTL 是一条域名解析记录在 DNS 服务器中的存留时间，一般默认值即可。\n\n注意：域名解析需要一定时间，几分钟至几小时不等，可以在终端机输入 `ping 域名`检查是否解析成功。\n\n## 域名续期\n\n记得设好提醒续约域名，域名快到期也会收到邮件，记得续约。\n"},{"title":"申请谷歌云及基本配置","url":"/gcp/","content":"\n![gcp_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/gcp_cover.png)\n\nGoogle Cloud Platform 是 Google 推出的云计算服务， Google 大方地提供 $300/年的试用，下面是申请步骤和基本配置：\n\n## 申请谷歌云\n\n首先打开[谷歌云](https://cloud.google.com/)网站，之后登录 Google 账号，若无可以先注册一个。注册过程中可能需要提供手机号，有时候 +86 的手机号还可能验证不了，建议使用 [Gmail](https://www.google.com/intl/zh-TW/gmail/about/) App 在手机上注册 Google 账号，免输入手机号。\n\n地区建议选择「美国」，\n\n![apply_gcp1](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/apply_gcp1.png)\n\n之后需要填入一个美国地址，建议参考[这篇](https://github.com/OneSecure/ShadowAgentNotes/blob/master/AppleID4USA.md)填入一个「有效的」美国地址，在[虚假个人信息生成器](http://www.fakenamegenerator.com)网站选择选择 AK、DE、MT、NH，OR 五个免税州中的地址。\n\n另外需要填入外币信用卡的信息（建议单标 Visa、MasterCard、American Express 卡，小弟的招商银行全币信用卡可用）（注意：这个付款信息还会作为 Google Pay 付款方式，之后如果在 Google Play 购买 App、影片、书籍等都可以通过这个付款信息。）。\n\n![apply_gcp2](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/apply_gcp2.png)\n\n验证通过就可以领到 $300 赠金试用谷歌云了。\n\n![gcp_index](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/gcp_index.png)\n\n## 建立实例\n\n建立实例即启动一台服务器，在侧边栏「App Engine」中的「VM 执行个体」，\n\n![new_vm1](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/new_vm1.png)\n\n之后可以选择服务器的配置、系统、地区等等（可根据偏好选择），记得勾选「允许 HTTP 流量」和「允许 HTPS 流量」，选好之后点击「建立」等待建立即可。\n\n![new_vm2](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/new_vm2.png)\n\n若使用谷歌云搭建 V2ray等可以在建立实例前可以通过[这个](http://www.gcping.com/)或[这个](https://www.feitsui.com/zh-hans/cloud/gcp)网站初步测速选择国家。\n\n## 打开 SSH 权限\n\n首先通过自带的 SSH 连接实例，\n\n![vm_ssh](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/vm_ssh.png)\n\n连接后获取 root 权限\n\n```\nsudo -i\n```\n\n之后输入\n\n```\npasswd\n```\n\n此时可以输入新密码，之后再重复一次密码，注意输入的密码不会显示。\n\n之后输入以下命令修改 SSH 配置文件，\n\n```\nvi /etc/ssh/sshd_config\n```\n\n按`i`进入编辑模式，找到以下内容并修改：\n\n```\nPermitRootLogin yes           //默认 no，改为yes\nPasswordAuthentication yes    //默认 no，改为yes\n```\n\n修改完成后，按 esc 键，之后输入\n\n```\n:wq\n```\n\n之后重启服务器，\n\n```\nreboot\n```\n\n此时服务器已经可以通过 SSH 连接了，打开系统终端机输入 `ssh root@服务器 IP` 即可连接。\n\n另外还可以通过 SFTP 连接服务器进行文件传输，协议选择「SFTP」，地址填入服务器 IP 地址，用户名填写「root」。\n\n![transmit](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/transmit.png)\n\n## 打开防火墙\n\n服务器安装很多应用需要开启端口号才能正常使用，开启防火墙的步骤如下：\n\n在「VPC 网路」中选择「防火墙规则」，\n\n![vm_firewall1](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/vm_firewall1.png)\n\n之后选择「建立防火墙规则」，为方面起见，可以设置允许所有入站请求，\n\n![vm_firewall2](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/vm_firewall2.png)\n\n名称任意，流量方向选择「输入」，来源IP范围填入「0.0.0.0/0」，之后建立即可。\n\n![vm_firewall3](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/vm_firewall3.png)\n\n## 安装 Docker 及 Portainer\n\n[Docker](https://www.docker.com) 可以将操作系统虚拟，又比虚拟机占用更少的资源安装了，可以直接将很多安装步骤直接打包，节约很多时间，且独立于宿主机，不想用直接删除容器即可，非常方便。输入以下命令可以安装 Docker（另外谷歌云提供基于 Docker 的系统，可以直接选择，免安装）：\n\n```\ncurl -fsSL https://get.docker.com -o get-docker.sh\nsudo sh get-docker.sh\n```\n\n[Portainer](https://www.portainer.io) 是一个 Docker 管理面板，可以首先可以创建 Portainer 卷，\n\n```\ndocker volume create portainer_data\n```\n\n之后输入命令：\n\n```\ndocker run -d -p 9000:9000 --name portainer --restart always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer\n```\n\n在浏览器访问服务器 IP:9000，即可进入 Portainer，上次进入需要设定密码，\n\n![uPic/portain1](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/portain1.png)\n\n选择「local」，\n\n![uPic/portain2](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/portain2.png)\n\n## 设定静态 IP\n\n服务器设定固定 IP 可以防止重启服务器后 IP 更换，在「VPC 网路」中选择「外部 IP 位址」，\n\n![static_ip1](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/static_ip1.png)\n\n之后在「类型」中选择「静态」。\n\n![static_ip2](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/static_ip2.png)\n\n## 小提示\n\n小弟建议不要点这个「启用」按钮，点了这个按钮之后待试用结束之后会直接扣费，不会有任何提示。\n\n![vm_tips](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/vm_tips.png)\n\n如果不慎点了这个按钮试用结束被扣费可以联系客服退款。\n\n![vm_mail](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/vm_mail.png)\n\n## 修改 VM 配置\n\n如果使用过程中配置不够，可以调整配置。首先可以将实例关机，注意若未使用静态 IP，重启后 IP 会改变，点击实例名称，\n\n![vm_modify1](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/vm_modify1.png)\n\n若要修改内存、CPU 可以点击[编辑]按钮修改，若要修改磁盘容量可以找到「开机磁盘」，点击实例名称进行修改。\n\n![vm_modify2](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/vm_modify2.png)\n\n## 到期续用\n\n谷歌云一个账号免费试用时间是一年，到期后实例会保留，但是开机会开始计费。如果想继续免费试用，可以通过共享付费账户的方法继续试用，操作如下：\n\n首先新注册一个 Google 账号，填写信息，申请谷歌云免费试用，在「账单」中选择「账户管理」，点击「显示资讯面板」，之后选择「新增成员」（在新增之前可以先更改账单账户名称，方便以后选择），\n\n![vm_change0](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/vm_change0.png)\n\n填入「旧的」Google 账号，角色选择「账单账户管理员」，点击「储存」，\n\n![vm_change1](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/vm_change1.png)\n\n登录「旧的」Google 账号，选择「账单」，选择「连结至账单账户」，\n\n![vm_change2](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/vm_change2.png)\n\n选择「变更计费功能」，之后选择「新的」Google 账户的「账单账户」，这样「旧的」Google 账号就可以使用「旧的」Google 账号的账单了。\n\n![vm_change3](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/vm_change3.png)\n\n## 风险\n\n谷歌云免费试用政策可能改变，或者我们可能会忘记一年使用截止日期，建议及时将重要数据备份。\n","tags":["docker"]},{"title":"程序员健康优化小工具——古老的东方放松术","url":"/yoga/","content":"\n![yoga_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_cover.png)\n\n1505 年，米开朗基罗受儒略二世委托设计陵墓，同一时期，他还为西斯汀小堂绘制天顶画，大约花了 4 年时间。 1520-1530 年代，米开朗基罗为麦第奇家族设计家族陵墓。1541 年，米开朗基罗花了  5年完成巨幅壁画《最后的审判》。壁画完成，他的身体严重受损，因长期仰首工作，此后走路时只能歪着脖子。\n\n伟大的作品背后是艰辛的身心付出，这样做值得的，与其平安地度过平庸的一生，不如燃烧自己实现内心的渴望，把全身心付出在自己最热爱的事情上。\n\n21 世纪，当代的米开朗基罗们————程序员经常要长时间面对电脑，或者坐姿不够端正，有时候还需要加班，长期可能会造成气血循环不良、肩颈僵硬。\n\n「穴道导引」是将道家哲学、中国传统医学典籍、太极拳法、瑜伽，融合成的，以下是一些简要练习点，详细请观看[视频示范](https://www.youtube.com/results?search_query=穴道导引)或翻看书[《穴道导引》](https://www.books.com.tw/products/0010707317)：\n\n## 好睡操\n\n###  基本功\n\n1. 全身的收紧与放松 \n想像身体是一块沾水的海绵，我们要把海绵用力拧干。全身收紧默数到 6 以后，初阶以高、中、低的力度渐次放松全身；高阶将放松力道分成十段，默数 10 到 1，渐次放松全身。嵴椎也随之节节延展归位。\n\n2. 单一穴道的收紧与放松\n伸出一只手，想像有一个皮球在你面前弹跳着，你要用力去拍打它，记得这个出力的感觉；再想像有个皮球飞来，用力地把球接住，记得这个收回的感觉。拍球需要出力，接球也需要出力。\n接下来，想像你的手已经没有手指，只剩手掌；手掌也消失，只剩手心，现在唯一可以出力的部位是手心。把整个注意力放在手心，手心用力拍球、或用力接球。手心用力时，无须在意手掌的前后移动，也无须在意手指弯曲、打直或用力，只要完全专注在手心。\n依序一个接一个「收紧」左涌泉＋右涌泉＋左承筋＋右承筋＋左伏兔&左殷门＋右伏兔&右殷门＋左秩边＋右秩边＋关元＋神阙＋左劳宫＋右劳宫＋左郄门＋右郄门＋左侠白&左消泺＋右侠白&右消泺＋左乳中＋右乳中＋左天窗＋右天窗＋廉泉＋风府。\n将收紧的力度分成低、中、高三段渐次绷紧；然后再用高、中、低的力度渐次放松。\n\n3. 穴道的累迭收紧与放松\n从涌泉穴到风府穴，按照 1～22 的顺序，依序一个接一个「收紧」个别的单一穴位，收紧后持续「保持收紧」，全部收紧后，从 1 默数到 6。\n从风府穴到涌泉穴，依相反顺序逐个「放松」，还未轮到的部位「保持收紧」。注意，放松时「左天窗、右天窗、廉泉、风府」四个颈部的穴位一起放松，其他部位则一个接一个地依序放松。\n\n![yoga_sleep1](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_sleep1.png)\n\n### 任脉功 \n\n曲骨＋关元＋神阙＋中脘＋鸠尾（重复十回）：任脉累迭收紧与放松的操作方式是由下往上依序收紧穴道，收紧后就保持收紧不再放松；等五个穴道收缩完毕以后，放松的顺序跟收紧的顺序相反。任脉功从收缩下腹部的曲骨穴开始，接着收缩小腹的关元穴、肚脐所在的神阙穴，然后收缩上腹部的中脘穴、胸骨剑突下的鸠尾穴。放松则从鸠尾穴开始，接着放松中脘穴，然后放松神阙穴、关元穴，最后放松曲骨穴。最初收紧的曲骨穴最后放松。一共作十回。\n\n![yoga_sleep2](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_sleep2.png)\n\n### 督脉功\n\n命门左侧→命门右侧→夹嵴左侧→夹嵴右侧→大椎左侧→大椎右侧（重複十回）：督脉功的操作方式是由左往右、由下往上，收紧放松各部位置。从背部的命门左侧开始收紧放松，再来是命门右侧收紧放松，接着是夹嵴左侧收紧放松、夹嵴右侧收紧放松，再来是大椎左侧收紧放松、大椎右侧收紧放松。如此重複十回。\n\n![yoga_sleep3](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_sleep3.png)\n\n### 肋骨功\n\n肋骨功的初阶是收紧放松肋骨左右的大包穴。肋骨功的中阶是成对累迭收紧与放松肋骨左右的大包穴，以及肋骨前后的期门穴、阳纲穴。肋骨功的高阶变换了方式，单一累迭收紧与放松肋骨左右的大包穴，以及肋骨前后的期门穴、阳纲穴。\n左大包＋右大包＋左期门＋右期门＋左阳纲＋右阳纲（重複十回）：操作单一穴道累迭收紧与放松时，穴道一个一个依序收紧，收紧后先不放松，等所有穴道都收紧了以后，再一起放松。从收紧左大包穴开始，收紧以后保持收紧，再逐次收紧右大包、左期门、右期门、左阳纲、右阳纲，全部收紧以后，再同时放松。如此重複作十回。\n\n![yoga_sleep4](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_sleep4.png)\n\n## 颈部功 \n\n颈部功的第一式是锻鍊颈部前方的「始于廉泉，终于廉泉」。颈部功的第二式是锻鍊颈部后方的「始于风府，终于风府」。颈部功的第三式是锻鍊颈部前后左右的「开天窗」。\n\n![yoga_sleep5](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_sleep5.png)\n\n##  好心情导引\n\n按压、摩擦至不痛：先按压胸口的神封、灵墟、神藏穴，然后由下往上沿着神封、灵墟、神藏三个穴道的连线来回摩擦三十六至七十二下。按压处若感到疼痛，就持续按压、摩擦到不痛为止。\n\n![yoga_sleep6](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_sleep6.png)\n\n## 起床功 \n\n1. 测试柔软度的手足连心\n用左手协助抬起左腿，用右手抓握左脚掌，慢慢地将左腿尽量伸直，让后背和腿后得到伸展。另外一侧也重複同样的动作。用右手协助抬起右腿，用左手抓握右脚掌，慢慢地将右腿尽量伸直。\n\n2. 起床功的第二式是软腰\n将双手掌摩擦生热。将發热的手掌平贴在命门穴两旁，由上往下用力摩擦二十四下。命门穴要有微微發热的感觉。\n\n3. 起床功的第三式是摸底\n盘起双脚，脚掌向上。若是无法盘坐也无需勉强，可以直接将脚弯曲，使脚掌朝上容易摩擦即可。用右手摩擦左脚底，摩擦七十二下。换左手摩擦右脚底，摩擦七十二下。\n\n![yoga_sleep7](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_sleep7.png)\n\n## 标准睡姿 \n右侧睡，右脚伸直，左脚脚背勾住右脚委中穴。左手自然摆放在左腿上，右手约与身体成90度自然摆放。标准睡姿侧面图。睡时将注意力集中于丹田，眼睛虽然闭着，却彷彿仍用眼神注视着丹田一般。\n\n![yoga_sleep8](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_sleep8.png)\n\n## 坐功课\n\n### 预备式 \n坐着的时候，嵴椎要保持伸长拉直：尾椎垂直座椅。命门穴（肚脐对到后背嵴椎位置）拉直上提。大椎穴（头前弯时，颈椎最凸出处之下的凹陷处）拉直上提。风府穴（手指沿颈椎往上摸，最凹陷处）拉直上提。想像有一条线，从头顶正中央的百会穴，将头部和整条嵴椎轻轻往上拉。注意肩膀、手臂放松。　舌抵上颚。闭口，舌尖轻轻抵住上门牙内侧牙龈跟牙齿的交接处。\n\n![yoga_seat1](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_seat1.png)\n\n### 下肢穴道导引 \n\n1. 强化青春之源的踝导引\n左照海、左丘墟→右照海、右丘墟（左右交替各三次）→双脚照海、丘墟三次\n\n2. 强化腰背筋力、气血的小腿导引\n左承筋→右承筋（左右交替各三次）→双脚承筋三次\n\n3. 活络膝盖窝、勇健双腿的膕导引\n左委中→右委中（左右交替各三次）→双脚委中三次\n\n### 上肢穴道导引\n\n1. 放松指掌的掌导引\n手掌心的正中央，就是劳宫穴。或是握拳的时候，中指与无名指稍稍用点力，在掌心上留下点指痕，这两个指痕的中心点，就是劳宫穴所在。双手手臂自然垂放在身体两侧，掌心朝向大腿。以劳宫穴为用力的中心，手掌用力紧握再打开，快速地开阖手掌十一次。双手手臂平伸向身体左右，掌心朝下。同步骤二快速地开阖手掌十一次。双手手臂平伸向身体前方，掌心朝下。同步骤二快速地开阖手掌十一次。双手手臂高举向头顶上方，掌心朝前。同步骤二快速地开阖手掌十一次。\n2. 自体重训的手臂导引\n抬放重物、推拉城牆、前向推拉\n\n![yoga_seat2](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_seat2.png)\n\n3. 增加免疫力与肺活量的腋导引\n左手向上伸直，手臂贴于耳朵旁；右手向右伸直，虎口保持打开（大拇指朝前方，与食指成Ｌ型）。想像你的右手是流星鎚，手臂是放松的鍊条，手掌虎口则是沉重结实的鎚头；甩动手臂，让手掌虎口拍打左腋窝极泉穴，共十八下。换边操作，用左手虎口拍打右腋窝极泉穴十八下。\n\n![yoga_seat3](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_seat3.png)\n\n### 头颈导引\n\n1. 顺畅头颈气血的颈导引\n颈椎强化、颈椎延展、鸣天鼓\n\n2. 强化五感的颜导引\n洗脸、叩齿、修梁、绕眶、引耳\n\n3. 活化脑部、减少落髮的头皮导引\n梳头活络、按摩头皮、敲头醒脑\n\n### 静坐导引 \n1. 安定心神的专注于督\n（当鼻子吸气时）注意力从关元→曲骨→会阴→长强→命门→风府→百会→印堂。（当鼻子还不需吐气时，维持闭气）从一默数到六。（当自然想吐气时，嘴巴吐气）吐出的气回到关元，重複三回。\n\n2. 休息嵴椎的坐姿放松\n快速地，瞬间拉直背嵴，此时想像嵴椎就像从尾椎堆叠而上的珠子，一节节，一颗颗，儘可能拉开、安稳地叠放。然后上半身往前完全放松，让身体像忽然断掉的线，头、手就像树梢上成熟的果实般舒服地垂挂着。\n\n## 站功夫\n\n### 预备式\n\n符合理想的站姿如下：双脚距离与肩同宽；膝盖轻鬆地微弯（不刻意用力打直，即是微弯）；上半身保持在脖子、嵴椎垂直地面的「顶头悬」状态。\n\n![yoga_stand1](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand1.png)\n\n### 下肢穴道导引 \n\n1. 强化青春之源的踝导引\n按理想的站姿站好；把重心放在右脚，左脚保持脚尖着地，同时收紧左脚照海穴与丘墟穴；以脚尖为轴，逆时针转动脚踝五圈，再顺时针五圈。换重心在左脚，右脚脚尖着地，重複以上步骤。左脚加右脚为一回，共作三回。\n\n![yoga_stand2](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand2.png)\n\n2. 强化腰背筋力、气血的小腿导引\n按理想的站姿站好；把重心放在右脚，左脚膝盖弯曲，离地抬起；将左脚的承筋穴往内收紧并保持这个状态，用力连续往前踢三至五下；换右脚连续踢三至五下，这样算是一回。共作三回。\n\n![yoga_stand3](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand3.png)\n\n3. 活络肝经、胃经的髋关节导引\n找一个较宽敞的位置按理想的站姿站好；把重心放在右脚，左脚稍稍离地抬起；左脚往前伸，再往左伸，再往后伸，依前→左→后的顺序画一个半圆，作三次；换成后→左→前，一样的方式画半圆，作三次。右脚如同左脚步骤，依前→右→后的顺序画一个半圆，作三次；换成后→右→前，一样的方式画半圆，作三次。以上为一回，可作三至五回。\n\n![yoga_stand4](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand4.png)\n\n4. 活络四肢经穴的走势\n上半身维持在「顶头悬」的状态，像健走般原地踏步。手、脚抬起来的时候都要用力，膝盖要抬得比屁股高。左手搭配右脚，右手搭配左脚。走五十至一百步。\n\n![yoga_stand5](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand5.png)\n\n5. 保持身体稳定的跑势\n手肘收拢在身体两侧，手臂弯曲，双手轻鬆握拳，原地跑步。脚跟尽量往后像要踢到屁股，并作到以脚球着地。跑二十五至五十步。\n\n![yoga_stand6](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand6.png)\n\n### 任督强化\n\n1. 帮助胃肠消化的擂腹\n\n右手轻鬆舒服地握拳，拳中留一指的空间，不要紧紧地握起来。用右拳绕着肚脐周围顺时钟按摩三十六圈。按摩时拳头跟着手腕旋转。接着换左手操作一次，逆时钟按摩三十六圈。\n\n![yoga_stand7](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand7.png)\n\n2. 活络五脏气血的督脉俯仰\n双脚的间距略小于肩宽，双手中指指尖摸着长强穴（在尾椎、肛门之间的凹陷处），往前放松弯腰。上身往后仰，用手将腰往前、往上推。推到底时踮起脚，以增双手中指摸着长强穴加后仰的角度与幅度。将指尖往上移一节嵴椎骨。重複二至四步骤，一节一节伸展嵴椎，直到手指没办法移到更高为止。\n\n![yoga_stand8](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand8.png)\n\n3. 加强尾椎力度的督脉旋转\n\n按理想的站姿站好，双手插腰，上半身前倾约三十度，背嵴延伸拉直，感觉从尾椎到头顶连成一条线。想像长强穴（在尾椎、肛门之间的凹陷处）像圆规的针尖固定住了。向左转五圈、再向右转五圈。\n\n![yoga_stand9](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand9.png)\n\n4. 灵活嵴椎的督脉摇摆\n\n维持上半身向前倾三十度，从尾椎到头顶用力伸长拉直，保持一直线。先向左摆，再向右摆。左右摆的幅度，依个人能力越大越好，但不必勉强。左摆加右摆为一回，总共作五回。\n\n![yoga_stand10](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand10.png)\n\n5. 延展嵴椎的督脉侧伸\n身体回到理想的站姿，举起右手，手臂贴紧耳朵（不要弯脖子用头去贴手）。左手掌贴紧左大腿外侧。身体向左弯，保持右手臂贴紧耳朵。左手则沿着大腿向下延展，儘量超过膝盖（注意身体不可以前倾或后仰）。\n\n![yoga_stand11](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand11.png)\n\n6. 活络腰胯的督脉九十度转\n上手臂贴着身体，前臂与上臂呈九十度，前臂平行地板，掌心相对，轻鬆握拳。上半身向左转时，臀部向右转。也就是上半身与臀部转的方向相反。上半身向右转，臀部向左转。\n\n![yoga_stand12](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand12.png)\n\n7. 增加腰胯灵活度的督脉一百八十度转\n\n两手臂向前伸直，与肩同高，掌心相对，轻鬆握拳，下半身不动。上半身先向左转一百八十度到正后方。（脚朝前方，手朝正后方。右拳随着身体转动被往后带，自然打到左边肩膀。）再向右转三百六十度到正后方。左转加右转为一回，总共作五回。\n\n![yoga_stand13](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand12.png)\n\n### 上肢穴道导引 \n\n1. 活络手掌的拍打劳宫\n双手手臂向身体两侧平伸，与肩同高，掌心朝前。手臂保持伸直，像拍手一样向前摆盪，使双掌劳宫穴相互拍击。拍十一下。\n\n![yoga_stand14](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand13.png)\n\n2. 疏通肩肘的拉开天井\n双手手臂向身体两侧张开平举，弯曲手肘，两手指尖轻搭在两肩上。注意力放在天井穴，想像天井穴各自朝左右两侧延伸，横向拉开身体。保持天井穴延伸的感觉，双手手臂往前绕五圈，再往后绕五圈。\n\n![yoga_stand15](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand14.png)\n\n3. 消解寒湿、强化心肺的心肺小圈\n双手手臂向身体两侧张开平举，掌心朝上握拳。依序绷紧劳宫穴、郄门穴、侠白穴、消泺穴，直到全数绷紧。以肩膀为轴心，手臂小幅度地向前旋转，绕十一圈。一圈比一圈更用力，直到不能再更用力为止。短暂放松一下下。再次绷紧穴道，手臂向后旋转，绕十一圈。同样逐渐增加绷紧的力度，直到不能再更用力为止。\n\n![yoga_stand16](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand15.png)\n\n4. 放松肩膀的心肺大圈\n双手手臂向身体两侧张开平举，掌心朝上握拳。依序绷紧劳宫穴、郄门穴、侠白穴、消泺穴，保持全数绷紧。双手手臂向身体两侧张开平举，掌心朝上握拳。依序绷紧劳宫穴、郄门穴、侠白穴、消泺穴，保持全数绷紧。以同样的方式向后绕五圈。\n\n![yoga_stand17](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand17.png)\n\n5. 鬆开肩背的上接天根\n手臂自然下垂放在身体两侧，双手握拳，掌心相对。专注绷紧左手劳宫穴、郄门穴、侠白穴、消泺穴，维持绷紧的状态，向正前画半圆、向天空方向延伸，同时踮起脚。维持绷紧，左手回到大腿旁，脚跟放回地面。回到一开始的位置，放松。右手臂重複上述步骤。左右手交替为一回，共作五回。\n\n![yoga_stand18](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand18.png)\n\n### 活络委中穴 \n找个椅背或桌缘扶着，以免重心不稳。姿瞬间蹲下身来，让屁股好像要跌坐到脚跟上。从站姿瞬间蹲下身来，让屁股好像要跌坐到脚跟上。以委中穴为中心开始收紧，慢慢扩展到全身出力绷紧，心裡从一默数到二十。维持全身仍是绷紧的状态，慢慢站起来。瞬间放松，同时蹲下身来，让屁股坐回脚跟上。重複步骤三至五。反复操作十一至二十二次。\n\n![yoga_stand19](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/yoga_stand19.png)\n"},{"title":"让 macOS 更酷的应用推荐","url":"/macos/","content":"\n![domain_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/macos_cover2.png)\n\nmacOS 是一个很酷的系统，有些应用可以让这个系统如虎添翼，下面是小弟的一些推荐：\n\n## Popclip\n\n[Popclip](https://pilotmoon.com/popclip/) 将 iOS 的 edit menu 搬到了 Mac，当选中文本时，会自动显示菜单，比如复制、粘贴、搜索、拼写等等，更酷的是支持[插件](https://pilotmoon.com/popclip/extensions)，很多高频、重复的操作都可以通过插件实现。\n\n![macos_popclip](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/macos_popclip.gif)\n\n## jitouch\n\n[jitouch](https://www.jitouch.com) 是一个手势增强应用，可以让 Magic Mouse 和 Magic Trackpad 更酷。应用可以拓展 Magic Mouse 和 Magic Trackpad 的多点触控手势，可以很方便地执行一些高频的操作，比如浏览器中切换标签页、关闭标签页、真最小化等等。小弟觉得这款比 [BetterTouchTool](https://folivora.ai) 设置上更合理，内置了很多手势，开箱即用，且设置直觉、简单。\n\n![macos_jitouch](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/macos_jitouch.png)\n\n另外，超酷的一点是，应用支持全局鼠标手势（Mouse Gestures），类似于 Windows 上的 [StrokeIt](https://www.tcbmi.com/strokeit/) ，只要按住右键画一个字母就可以执行设定的操作。因为是全局手势，还可以与其他应用联合使用。\n\n![jitouch](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/jitouch.png)\n\n## Moom\n\n[Moom](https://manytricks.com/moom/) 可以实现类似 Windows 的窗口大小快捷管理，安装后悬停「全屏」按钮会出现最大化等按钮，可以快速调整窗口大小，支持快捷键。\n\n![macos_moom](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/macos_moom.jpg)\n\n## HyperDock\n\n[HyperDock](https://bahoom.com/hyperdock) 可以实现类似 Windows 7 任务栏窗口预览的功能， 在 Dock 栏上悬停应用图标就可以预览应用窗口，单击可以快速切换窗口。\n\n![hyperdock](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/hyperdock.png)\n\n另外建议使用这个应用时，在系统设置→ Dock 中开启「最小化窗口至应用图标」这个选项。\n\n![dock_setting](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/dock_setting.png)\n\n## The Unarchiver\n\n[The Unarchiver](https://www.tcbmi.com/strokeit/) 是一款解压应用，支持格式很多，可以直接在当前路径解压。若需要查看压缩包内文件，可以使用 The Archive Browser（同一个开发者开发，目前已下架，可以在[这里](https://www.macappdownload.com/the-archive-browser-1-11-2/)下载）。\n\n![macos_unarchiver](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/macos_unarchiver.png)\n\n## Paste\n\n[Paste](Pastehttps://pasteapp.io/) 是一款高颜值的剪贴板增强应用，可以快速访问剪贴板的历史，支持搜索、以纯文本形式粘贴、合并粘贴等等。\n\n![paste-mac](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/macos_paste.png)\n\n## Alfred\n\n[Alfred](https://www.alfredapp.com) 可以增强 Spotlight ，快速搜索、浏览应用程序、文件等等，可以通过扩展实现自动化。\n\n![macos_alfred](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/macos_alfred.jpg)\n\n## 搜狗输入法\n\nMac 自带拼音输入法自定义部分太少，Mac 平台输入法选择也太少，[搜狗输入法](https://pinyin.sogou.com/mac/) 是一个选择，支持辅助码，还自带一个英文输入法。\n\n## 1Password\n\n[1Password]() 可以管理各种密码、地址、身份信息等等，可以通过 iCloud 同步。\n\n![macos_1password](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/macos_1password.png)\n\n## MindNode\n\n[MindNode](https://www.tcbmi.com/strokeit/) 是一款漂亮、好用的脑图工具，可以帮助理清思路、捕捉灵感。\n\n![mindnode](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/mindnode.png)\n\n## CleanMyMac X\n\n[CleanMyMac X](https://macpaw.com/cleanmymac) 可以帮助现在应用，清除一些不需要的文件，如緩存、日誌等等。\n\n![CleanMyMac X](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/macos_cleanmymac.png)\n\n## Mission Control Plus\n\n[Mission Control Plus](https://www.fadel.io/missioncontrolplus) 如其名，可以增强 Mission Control 的功能，可以直接在  Mission Control 中关闭窗口，支持自定义快捷键。\n\n![mission_control_plus](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/mission_control_plus.png)\n\n## TotalSpaces2\n\n[TotalSpaces2](https://totalspaces.binaryage.com) 可以增强多桌面体验，可以自定义桌面快捷键、切换方式等等。\n\n![macos_totalspaces](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/macos_totalspaces.png)\n\n## Itsycal\n\n[Itsycal](https://www.mowglii.com/itsycal/) 是一个菜单栏小工具，可以方便访问日历。\n\n![macos_itsycal]( https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/macos_itsycal.png ) \n\n## Network Speed Monitor\n\nNetwork Speed Monitor 可以在任务栏显示网速，App Store 下载地址在[这里](https://apps.apple.com/us/app/network-speed-monitor/id525944153)。\n\n## Bartender\n\n[Bartender](https://www.tcbmi.com/strokeit/) 可以增强菜单栏图标管理，可以方便地隐藏、重新排列等等，设置支持快捷键、搜索等等。\n\n## A Better Finder Rename\n\n[A Better Finder Rename](https://www.publicspace.net/ABetterFinderRename/) 可以帮助快速重命名多文件。![macos_better_rename](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/macos_better_rename.png)\n\n## Movist Pro\n\n[Movist Pro](https://movistprime.com) 是一个好用的媒体播放器，功能全面。\n\n![macos_movist](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/macos_movist.jpg)\n\n## Dropshelf\n\n[Dropshelf](https://pilotmoon.com/dropshelf/) 和 Popclip 是同一个开发者开发的，功能是将屏幕侧边变成一个文件临时放置点，可以方便拖动放一些临时文件。\n\n![macos_dropshelf](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/macos_dropshelf.jpg)\n\n## Visual Studio Code\n\nVisual Studio Code https://code.visualstudio.com 是微软出的代码编辑器，比一般文本编辑功能多，比 IDE 轻，简单文本编辑很合适。Visual Studio Code 支持插件，常用插件可以参考[这里](http://wangchujiang.com/awesome-mac/editor-plugin-zh.html)。\n\n![vscode](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/vscode.png)\n\n## Tickeys\n\n[Tickeys](http://www.yingdev.com/projects/tickeys) 可以为敲击键盘增加音效，增加打字的感觉。\n\n![macos_tickeys](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/macos_tickeys.png)\n\n## CaptuocrToy\n\n[CaptuocrToy](https://github.com/gragrance/CaptuocrToy/) 一个使用在线接口识别截图中文字的工具。\n\n![macos_captuocrtoy](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/macos_captuocrtoy.gif)\n一个使用在线接口识别截图中文字的工具。\n\n## Downie\n\nDownie 可以帮助下载网站视频，比如 Youtube 等等，支持多分辨率、字幕下载，内置一个浏览器方便下载，Facebook 粉丝专页在[这里](https://www.facebook.com/CharlieMonroeSoftware/)。\n\n## AirServer\n\n[AirServer](https://www.airserver.com) 可以将 Mac 模拟成 Apple TV，方便将 iOS 设备投射到 Mac 上。\n\n## 更多应用\n\n有大大整理了清单，更多应用可以参考[这里](http://wangchujiang.com/awesome-mac/index.zh.html)。\n\n\n","tags":["app"]},{"title":"Terminal 这样美化很酷","url":"/terminal/","content":"\n![terminal_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/terminal_cover.png)\n\n小弟看到很多人把 macOS 下的终端 Bash 换成了 Oh My Zsh，可以设置主题和插件，比自带的黑底白字酷很多，以下是折腾步骤：\n\n![terminal_agnoster](https://cdn.jsdelivr.net/gh/drunkfish7/pic2@master/uPic/terminal_agnoster.gif)\n\n## 安装 iTerm2\n\n[iTerm2](https://iterm2.com/) 是一个终端机替代品，提供了比系统自带终端机更多的[功能](https://iterm2.com/features.html)，安装 iTerm2 非常简单，[官网](https://iterm2.com/downloads.html)下载安装即可。\n\niTerm2 的使用可以参照[这篇文章](http://swiftcafe.io/2015/07/25/iterm/)。\n\n## 安装 Oh My ZSH\n\n系统自带 Shell 是 Bash，[Oh My ZSH](https://ohmyz.sh/) 是一个更好用的 Shell，安装步骤如下：\n\n### 前期准备\n\n1.安装 Homebrew\n\n[Homebrew](https://brew.sh/) 是 MacOS 下的包管理工具，类似于 Ubuntu 下的 apt-get 或 CentOS 下的 yum。安装 Homebrew 首先要确保安装 Xcode 命令行工具（如未安装可以使用命令 `xcode-select --install` 安装，详见[这里](https://docs.brew.sh/Installation)，之后输入命令\n\n```\n/usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n```\n\n即可安装 Homebrew。\n\n安装时需要输入系统用户密码，之后会提示下载和安装，之后等待安装完成，安装时间与网速有关（建议在科学上网环境）。\n\n![homebrew](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/homebrew.png)\n\nHomebrew 的使用可以参照[这篇文章](https://www.zybuluo.com/phper/note/87055)。\n\n若报错 curl: (7) Failed to connect to raw.githubusercontent.com port 443:Connection refused 可参考[这里](https://www.cnblogs.com/qichao123/p/12092933.html)。\n\n2.安装 Wget\n\n安装好 Homebrew 之后再安装 Wget，[Wget](https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/wget.html) 是一个下载文件的工具，安装输入命令 \n\n```\nbrew install wget\n```\n\n等待安装完成即可。\n\n### 安装 Oh My ZSH\n\n之后安装 Oh My ZSH，输入命令\n\n```\nsh -c \"$(wget https://raw.githubusercontent.com/robbyrussell/oh-my-Zsh/master/tools/install.sh -O -)\"\n```\n\n安装成功后会提示是否将 zsh 设为默认 shell，输入系统用户密码即可。此时 Oh My ZSH 已经装好了。\n\n![zsh_done](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/zsh_done.png)\n\n## 配置主题\n\nzsh 很酷的一点是支持主题配置，主题方案很多，可参见[这里](https://github.com/ohmyzsh/ohmyzsh/wiki/Themes) 和 [这里](https://github.com/ohmyzsh/ohmyzsh/wiki/External-themes)。小弟使用的是 [agnoster](https://github.com/agnoster/agnoster-zsh-theme) ，这款主题使用了 [Solarized](https://ethanschoonover.com/solarized/) 主题，\n\n![solarized-yinyang](https://github.com/altercation/solarized/raw/master/img/solarized-yinyang.png)\n\n首先设置颜色，在 iTerm2->Preferences->Profiles 中可以设置颜色和字体，颜色选择 Solarized Dark ，\n\n![iterm_color](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/iterm_color.png)\n\n字体选择 Source Code Pro for Powerline（在[这里](https://github.com/powerline/fonts/tree/master/SourceCodePro)下载）。\n\n![iterm_font](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/iterm_font.png)\n\n打开 Finder，按快捷键 Shift-Command-句号（.）显示系统隐藏文件\n\n![hidden_files](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/hidden_files.png)\n\n用文本编辑器（如 Visual Studio Code）打开 ~/.zshrc 这个文件，修改主题为 agnoster ，\n\n![zshrc](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/zshrc.png)重启 iTerm2 之后就可以看到安装主题后的效果。\n\n## 安装插件\n\nzsh 支持插件，可扩展功能，介绍几个常用插件。\n\n### git\n\ngit 插件内置，功能是可以使用 git 命令缩写。如  ga='git add'，alias gau='git add --update'\n\n使用下面的命令可以查看 git 命令缩写，\n\n```\ncat ~/.oh-my-zsh/plugins/git/git.plugin.zsh\n```\n\n### 命令高亮\n\n[zsh-syntax-highlighting](https://github.com/zsh-users/zsh-syntax-highlighting) 这款插件可以高亮常用命令，若错误还会红色显示。\n\n首先克隆项目\n\n```\ngit clone https://github.com/zsh-users/zsh-syntax-highlighting.git\necho \"source ${(q-)PWD}/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh\" >> ${ZDOTDIR:-$HOME}/.zshrc\n```\n\n之后在 `~/.zshrc` 中配置\n\n```\nplugins=(其他插件 zsh-syntax-highlighting)\n```\n\n![zsh-syntax](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/zsh_syntax.png)\n\n重启终端可以看到效果。\n\n### 自动补全历史命令\n\n[zsh-autosuggestions](https://github.com/zsh-users/zsh-autosuggestions) 这款插件可以自动补全显示历史命令，按右箭头（→）可以补全命令。\n\n首先克隆项目\n\n```\ngit clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions\n```\n\n之后在 `~/.zshrc` 中配置\n\n```\nplugins=(其他插件 zsh-autosuggestions)\n```\n\n重启终端可以看到效果。\n\n## 卸载 oh-my-zsh\n\n若想现在 zsh 可以使用以下命令：\n\n```\ncd .oh-my-zsh/tools\nchmod +x uninstall.sh\n./uninstall.sh\nrm -rif .zshrc\n```","tags":["app"]},{"title":"群晖搭建静态博客","url":"/hexo/","content":"\n![hexo_cover](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/hexo_cover.png)\n\n小弟想写一个博客，了解到主流有动态博客 [WordPress](https://wordpress.org)、[Ghost](Ghosthttps://ghost.org)，静态的有 [Hexo](https://hexo.io/)、[Jekyll](https://jekyllcn.com)、[Hugo](https://gohugo.io) 等等，小弟的博客只是展示富文本，功能比较简单，尝试使用 Hexo。\n\n[Hexo](https://hexo.io/) 是台湾大学生 [tommy351](https://zespia.tw/) 开发的静态网页博客系统，基于 Node.js，可以将 Markdown 生成静态网页。相较于动态博客，Hexo 可托管至 [Github Page](https://pages.github.com/)，免购买与配置服务器，不用担心忘记续费服务器。另外和其他静态博客相比，Hexo 插件比较丰富。\n\nHexo 需运行在有 Node.js 及 Git 的环境，换一个电脑写就得重新安装一遍，手机及平板上写更不可能。而群晖 Docker 可以搭建各类环境、支持外网访问，还具备天然的备份功能，感觉在群晖上安装可以实现全终端写博客，以下是小弟的尝试：\n\n## GitHub 创建 Github Pages\n\n首先建立 GitHub Pages，[GitHub Pages](https://pages.github.com) 是 GitHub 提供的一个網頁寄存服務，我们的博客就放在这个地方。登录 [Github](https://github.com/)（没有 Github 账号先注册一个），在任意页面右上角点击「＋」，选择「新建仓库」。\n\n![github_new](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/github_new.png)\n\n之后填入名称，包括「Github 用户名」及后缀「.github.io」，等待建好仓库。\n\n![github_repo](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/github_repo.png)\n\n浏览器访问地址 `https://username.github.io` 就可以看到新建的网页。此时已经建好了一个博客，这个博客基于 [Jekyll](https://www.jekyll.com.cn/) ，我们要搭建 Hexo 还要继续。\n\n注意：个人主页前缀要和 GitHub 用户名一致，只能有一个，若要建立多个，可建立项目主页，具体参见[官方文档](https://help.github.com/en/github/working-with-github-pages/about-github-pages)。\n\n## 安装 Hexo\n\n### Docker 安装 Hexo\n\n之后安装 Hexo，打开群晖 Docker（未安装可在「套件中心」搜索 「docker」下载安装，图标是小鲸鱼顶集装箱）， 在「注册表」标签中搜索「spurin」，找到映像 「spurin/hexo」并下载。这个 Docker 已经集成 [Hexo Admin Plugin](https://github.com/jaredly/hexo-admin)（一个 Hexo 文章后台管理插件）和连接 Github Pages 服务，可以方便我们快速搭建 Hexo 。\n\n![docker_hexo_reg](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/docker_hexo_reg.png)\n\n待下载完成后在「映像」标签中双击刚刚下载的映像「spurin/hexo」，点击「高级设置」按钮，\n\n![docker_hexo_image](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/docker_hexo_image.png)\n\n在「高级设置」中可以选择是否自动启动、是否建立桌面快捷方式（随个人偏好）。在「卷」标签页中的路径中添加文件夹，此文件夹为放置 Hexo 文件的文件夹，路径为 `/app` 。在「网络」标签页中可以选「与宿主使用相同网络」，也可以到「端口设置」中自定义端口号。端口号随个人偏好，Hexo 会使用 4000 端口号。\n\n![docker_hexo_dir](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/docker_hexo_dir.png)\n\n在「环境」中可以填入自己的 Github 用户名及邮箱，以便生成有效的 SSH Key。\n\n![docker_hexo_env](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/docker_hexo_env.png)\n\n点击「应用」按钮，之后点击「下一步」按钮，确认信息填写正确，建立容器，可以勾选「完成向导后运行容器」。\n\n![docker_hexo_image_done](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/docker_hexo_image_done.png)\n\n等待容器安装并启动，在「容器」标签页中确保容器启动并正常运行，可以右击容器，选择「细节」，在日志中查看安装详情，等待安装完成。在浏览器中打开 `http://群晖 IP:4000`，可以看到 Hexo 生成的网站。访问 `http://群晖 IP:4000/admin`，可以看到文章后台管理页面。\n\n![hexo_admin](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/hexo_admin.png)\n\n### 连接 Github Pages\n\n下一步是连接 Github Pages，打开放置 Hexo 文件的文件夹，找到` /.ssh` 路径下的 id_rsa.pub 文件，用文本编辑器打开，复制 SSH Key，\n\n![hexo_ssh_key](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/hexo_ssh_key.png)\n\n打开 Github 个人设置，找到「SSH and GPG keys」，新建一个密钥，将密钥粘贴。\n\n![github_key](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/github_key.png)\n\n在「容器」标签页中找到「spurin/hexo」，右击选择「详情」，\n\n![docker_hexo_container](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/docker_hexo_container.png)\n\n在「终端机」选项卡中输入 `ssh -T git@github.com`，若可以看到自己的 Github 用户名，证明连接成功。\n\n![key_test](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/key_test.png)\n\n### 配置 Hexo Admin 插件\nHexo Admin 这个插件已经年久失修，最近一次更新是几年前了，小弟使用时踩了不少坑，下面只示范正确的步骤：\n\n1. 安装 hexo-deployer-git 插件，在容器终端输入命令 `npm install hexo-deployer-git --save`\n2. 在自定义的 Hexo 路径下新建脚本文件 hexo-deploy.sh，内容如下：\n\n``` bash\nhexo g\nhexo d\n```\n3. 配置文件 _config.yml 下添加以下：\n\n``` yml\ndeploy:\n  type: git\n  repo: git@github.com:<username>/d<username>.github.io.git\n  branch: master\n\nadmin:\n  deployCommand: './hexo-deploy.sh'\n```\n\n点击「deploy」按钮可以生成页面并部署至 Github Pages，若未报错说明插件配置成功，打开 `https://username.github.io` 可以看到 Hexo 生成的页面。\n\n注意：注意 yml 文件格式规范，名称后面有空格。\n\n4. 设置密码\n\n插件支持设置密码，相应页面设置密码即可。\n\n5. 设置外网访问\n\n为了可以随时随地发布博客，需要配置群晖外网访问。群晖外网访问可以利用群晖自带 DDNS，设置路由器映射端口，注意要有公网 IP（可以联系运营商开通）。\n\n## 绑定域名\n\n### 购买域名\n\n如果 IP 地址对应现实生活中的经纬度，域名就相当于我们的地址门牌号，域名可以是有意义的字词，帮助我们快速访问要访问的地址。\n\n购买域名可以去 [domcomp](https://www.domcomp.com) 先比较下价格再购买。若不想花钱，也可以在 [Freenom](https://www.freenom.com) 申请免费域名。\n\n### 域名商设置\n\n有了域名之后需要将域名解析到虚拟主机（这里是 Github Page 的服务器）上，小弟的域名 drunkfish.me 是从 [Gandi.net](https://www.gandi.net) 买的，新增一条 `@` 的 ALIAS 记录即可。不同域名商域名解析设置不同，若遇到困难可以联系域名提供商客服。\n\n![domain_alias](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/domain_alias.png)\n\n### Github Pages 设定\nGithub Pages 设定很简单，在仓库设置中直接填入域名即可，另外建议勾选「强制 https」，这样访问域名就可以看到安心的绿色小锁。\n\n![page_domain](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/page_domain.png)\n\n设置完成之后可能要过几分钟才能可以使 DNS 生效，另外可以在系统终端机使用命令`dig your domain +nostats +nocomments +nocmd`验证是否绑定成功。\n\n遇到问题可以咨询域名服务商和查阅 Github Pages 域名相关[官方文档](https://help.github.com/en/github/working-with-github-pages/managing-a-custom-domain-for-your-github-pages-site)。\n\n## 配置相关\n\nHexo 的设置可以在 `_config.yml` 这个文件下修改，下面贴一下主要的配置项：\n\n### 配置主题\n\n小弟用了 [casper](https://github.com/xzhih/hexo-theme-casper) 这个主题，安装配置可移步[作者](https://zhih.me/hexo-casper-usage/)博客。\n\n几个注意的点：\n\n1. 注册 [LeanCloud](https://leancloud.app) 可以用[国际版](https://console.leancloud.app/login.html#/signin)地址注册，免实名认证（需提供国内手机号）；\n\n2. 在 Google Analytics 设置中点击[新增账户]可以新增一个账户，找到追踪 ID 填入即可，另外 Google Analytics 有手机端 App 可以使用。\n\n   ![hexo_ga_app](https://cdn.jsdelivr.net/gh/drunkfish7/pic@master/uPic/hexo_ga_app.png)\n\n### 增加 RSS 支持\n\n增加 RSS 支持需要安装 [hexo-generator-feed](https://github.com/hexojs/hexo-generator-feed) 插件。\n\n首先在容器终端中输入命令 `npm install hexo-generator-feed`\n\n之后在 Hexo 配置文件 `_config.yml` 文件中增加以下配置即可：\n\n```yml\nfeed:\n  type: atom\n  path: atom.xml\n  limit: 20\n  hub:\n  content:\n  content_limit: 140\n  content_limit_delim: ' '\n  order_by: -date\n  icon: icon.png\n  autodiscovery: true\n  template:\n```\n\n### 文章命名自定义\n\nHexo 默认文章链接以文章日期命名，想修改文章链接可以参考[官方文档](https://hexo.io/docs/permalinks.html)。\n\n## 撰写文章\n\n### 页面属性\n\nmd 文件会存放在 `/source/posts` 这个路径下，生成的页面在路径 `/public`，每篇文章可以加入页面属性：\n\n```md\n---\ntitle:               # 文章标题\ndate:                # 文章日期\ntags:                # 文章标签\ncover_img:           # 在文章摘要上显示\nfeature_img:         # 在文章详细页面上置顶\n---\n```\n\n文章用 Markdown 书写，语法参考[这个](https://markdown.tw/)，另外可以参考这个顺口溜：\n\n> 井号代表是标题，一个六个随你意，\n> 星号表示要强调，一斜二粗三合体，\n> 加减都可设列表，后面空格别忘记，\n> 「>」表示要引用，回车一行算另起，\n> 还有中小俩括号，超级链接很容易。\n\n### 书写工具\n\n可以直接打开 `http://群晖 IP:4000` 在线用 Markdown 撰写文章，支持实时保存、预览，另外可以使用任意支持 Markdown 的书写工具书写，如 [Typora](http://typora.io)（支持实时预览、实用小功能）。\n\n小弟推荐使用图床管理图片（这样做 md 文件可以免配置本地图片路径，且备份时只需要备份一个 md 文件就可以了），图床推荐放在 Github 仓库，稳定、够用（具体参见[容量限制](https://help.github.com/cn/github/managing-large-files/what-is-my-disk-quota)可到100G），推荐使用图床工具上传，如 [uPic](https://blog.svend.cc/upic/)(支持拖拽上传、上传完成后自动复制文件链接等等)、[PicGo](https://github.com/Molunerfinn/PicGo) (多平台、支持[插件](https://github.com/PicGo/Awesome-PicGo))，建议勾选 [jsDelivr](https://www.jsdelivr.com/) 优化国内访问。\n\n发布文章有两种：\n1.本地写好 md 文件，上传至 `/source/posts` 路径下，之后在容器终端运行 `hexo g && hexo d`；\n2.通过访问 `http(s)://群晖 IP:4000` ，在线写，写完点击[deploy]按钮。\n\n书写小建议：\n1.文件命名建议英文命名，关键词之间用「-」隔开;\n2.从「##」二级标题开始标；\n3.Markdown 模块间用一空行隔开；\n4.写作前排版参考[中文文案排版指北](https://github.com/sparanoid/chinese-copywriting-guidelines)；\n5.若图片体积太大建议用图片压缩工具压缩。\n\n至此我们的博客就搭建好了，是不是很酷。\n","tags":["docker"]}]