<!DOCTYPE html>
<html lang="zh-CN">







<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<link rel="preconnect" href="//www.googletagmanager.com">
	<link rel="preconnect" href="//zz.bdstatic.com">
	<link rel="preconnect" href="//sp0.baidu.com">
	<link rel="preconnect" href="//www.google-analytics.com">
	<link rel="preconnect" href="//cdn1.lncld.net">
	<link rel="preconnect" href="//unpkg.com">
	<link rel="preconnect" href="//app-router.leancloud.cn">
	<link rel="preconnect" href="//9qpuwspm.api.lncld.net">
	<link rel="preconnect" href="//gravatar.loli.net">

	<title>通过 Calibre-Web 制作图书在线管理 | 庄菲什</title>

	<meta name="HandheldFriendly" content="True" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
	<meta name="generator" content="hexo">
	<meta name="author" content="drunkfish">
	<meta name="description" content="">

	

	

	

	

	

	<meta property="og:site_name" content="庄菲什">
	<meta property="og:type" content="article">
	<meta property="og:title" content="通过 Calibre-Web 制作图书在线管理 | 庄菲什">
	<meta property="og:description" content="">
	<meta property="og:url" content="http://yoursite.com/calibre/">

	
	<meta property="article:published_time" content="2020-12-11T00:12:00+08:00"/> 
	<meta property="article:author" content="drunkfish">
	<meta property="article:published_first" content="庄菲什, /calibre/" />
	

	
	
	
<link rel="stylesheet" href="/css/allinonecss.min.css">


	
	
	
<link rel="alternate" href="/atom.xml" title="庄菲什" type="application/atom+xml">
</head>
<body class="post-template">
	<div class="site-wrapper">
		




<header class="site-header post-site-header outer">
    <div class="inner">
        
<nav class="site-nav"> 
    <div class="site-nav-left">
        <ul class="nav">
            <li>
                
                <a href="/" title="Home">HOME</a>
                
            </li>
            
        </ul> 
    </div>
     
    <div class="site-nav-right">
         
        
<div class="social-links" >
    
    
    
    
    
    
    
</div>
    </div>
</nav>
    </div>
</header>


<div id="site-main" class="site-main outer" role="main">
    <div class="inner">
        <header class="post-full-header">
            <div class="post-full-meta">
                <time  class="post-full-meta-date" datetime="2020-12-11T00:00:00.000Z">
                    2020-12-11
                </time>
                
                <span class="date-divider">/</span>
                
                
            </div>
            <h1 class="post-full-title">通过 Calibre-Web 制作图书在线管理</h1>
        </header>
        <div class="post-full no-image">
            
            <div class="post-full-content">
                <article id="photoswipe" class="markdown-body">
                    <p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/calibre_cover.png" alt="calibre_cover.png"></p>
<p>随着时间推移，小弟渐渐不再局限在一个平台买电子书，<a href="http://kobo.com/" target="_blank" rel="noopener">Kobo</a>、美亚、中亚上都买过电子书，时间一长，图书的管理成了一个问题。</p>
<p>小弟开始是用 <a href="https://calibre-ebook.com" target="_blank" rel="noopener">Calibre</a> 这个应用管理电子书，这个应用可以很好地完成去电子书 DRM、转换格式等等，缺点也有：1、图书管理限于本地电脑，无法全平台、外网访问图书资源库，图书本身也占用很多本地存储资源；2、转换格式时若图书文件较大会花很长时间，还会占用很多 CPU 资源，转换图书期间本地电脑几乎不能做其他的事。</p>
<p><a href="https://github.com/janeczku/calibre-web" target="_blank" rel="noopener">Calibre-Web</a> 是一个很酷的在线图书管理服务，基于网页，介面简洁，使用 Calibre 的数据库，可以在线转换格式、浏览、下载图书，如果设置好端口映射，就可以在外网全平台访问图书资源库了。下面是步骤：</p>
<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>Calibre-Web 和 Calibre 使用相同的数据库，首次打开Calibre-Web 可能会因为没有数据库而报错，为此我们可以先建好一个空白数据库备用。在电脑上打开 Calibre，选择「资源库」→「切换/新增资源库」，</p>
<p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/calibre_data.png" alt="calibre_data.png"></p>
<p>选择「在新路径新增资源库」并指定路径，之后可得到一个 <code>metadata.db</code> 文件，</p>
<p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/calibre_data2.png" alt="calibre_data2"></p>
<p>在群晖任意路径新建一个文件夹用来存放图书，文件名任意，权限设置为可读写，</p>
<p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/calibre_file.png" alt="calibre_file"></p>
<p>将上一步 <code>metadata.db</code> 文件拷贝至这个路径，</p>
<h2 id="Docker-安装"><a href="#Docker-安装" class="headerlink" title="Docker 安装"></a>Docker 安装</h2><p>在群晖打开 Docker，在「注册表」中搜索「calibre」，选择「technosoft2000/calibre-web」这个映像并下载，</p>
<p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/calibre_docker1.png" alt="calibre_docker1"></p>
<p>待下载完成（有群晖系统通知），在「映像」中找到「technosoft2000/calibre-web」双击，选择「高级设置」，</p>
<p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/calibre_docker2.png" alt="calibre_docker2"></p>
<p>映射路径 <code>/books</code>，</p>
<p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/calibre_docker3.png" alt="calibre_docker3"></p>
<p>端口根据自己情况设置或选择默认，之后应用设置。</p>
<h2 id="查看效果"><a href="#查看效果" class="headerlink" title="查看效果"></a>查看效果</h2><p>在浏览器输入地址 <code>http://hostname:&lt;HTTP PORT&gt;/opds</code>，输入用户名、密码，默认如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">用户名: admin</span><br><span class="line">密码: admin123</span><br></pre></td></tr></table></figure>

<p>登录之后可以更改密码、新增用户，或者上传书籍，设置 Kindle 推送，上传的书籍可以转化格式、epub 格式还可以在线阅读等等，都是图形化操作。</p>
<p><img src="https://cdn.jsdelivr.net/gh/drunkfish7/pic3@master/uPic/calibre_main_screen.png" alt="calibre_main_screen"></p>
<h2 id="外网访问"><a href="#外网访问" class="headerlink" title="外网访问"></a>外网访问</h2><p>如果有公网 IP，可以在路由器中新增一个映射端口，这样就可以在外网访问了。</p>

                </article>
                <ul class="tags-postTags">
                    
                    <li>
                        <a href="/tags/Docker/" rel="tag"># Docker</a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </div>

    
    <nav id="gobottom" class="pagination">
        
        <a class="prev-post" title="租房小物推荐（二）" href="/necessary2/">
            ← 租房小物推荐（二）
        </a>
        
        <span class="prev-next-post">·</span>
        
        <a class="next-post" title="洗衣完成发送短信" href="/ha_washer/">
            洗衣完成发送短信 →
        </a>
        
    </nav>

    
</div>






	</div>
	


	




<footer class="site-footer outer">
	<div class="site-footer-content inner">
		<div class="copyright">
			<a href="/" title="庄菲什">庄菲什 &copy; 2022</a>
			
				
    		
		</div>
		<nav class="site-footer-nav">
			
			<a href="https://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a>
			<a href="https://github.com/xzhih/hexo-theme-casper" title="Casper" target="_blank" rel="noopener">Casper</a>
		</nav>
	</div>
</footer>
	


<script>
    if(window.navigator && navigator.serviceWorker) {
        navigator.serviceWorker.getRegistrations().then(function(registrations) {
            for(let registration of registrations) {
                registration.unregister()
            }
        })
    }
</script>


<script id="scriptLoad" src="/js/allinone.min.js" async></script>


<script>
    document.getElementById('scriptLoad').addEventListener('load', function () {
        
        

        
        

        
        
    })
</script>










</body>
</html>
